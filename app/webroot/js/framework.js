/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
(function(a2,aG){var ai,w,aC=typeof aG,l=a2.document,aL=a2.location,bi=a2.jQuery,H=a2.$,aa={},a6=[],s="1.9.1",aI=a6.concat,ao=a6.push,a4=a6.slice,aM=a6.indexOf,z=aa.toString,V=aa.hasOwnProperty,aQ=s.trim,bJ=function(e,b3){return new bJ.fn.init(e,b3,w)},bA=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ac=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,br=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bh=/^[\],:{}\s]*$/,bk=/(?:^|:|,)(?:\s*\[)+/g,bG=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,aZ=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bS=/^-ms-/,aV=/-([\da-z])/gi,M=function(e,b3){return b3.toUpperCase()},bW=function(e){if(l.addEventListener||e.type==="load"||l.readyState==="complete"){bl();bJ.ready()}},bl=function(){if(l.addEventListener){l.removeEventListener("DOMContentLoaded",bW,false);a2.removeEventListener("load",bW,false)}else{l.detachEvent("onreadystatechange",bW);a2.detachEvent("onload",bW)}};bJ.fn=bJ.prototype={jquery:s,constructor:bJ,init:function(e,b5,b4){var b3,b6;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b3=[null,e,null]}else{b3=br.exec(e)}if(b3&&(b3[1]||!b5)){if(b3[1]){b5=b5 instanceof bJ?b5[0]:b5;bJ.merge(this,bJ.parseHTML(b3[1],b5&&b5.nodeType?b5.ownerDocument||b5:l,true));if(a.test(b3[1])&&bJ.isPlainObject(b5)){for(b3 in b5){if(bJ.isFunction(this[b3])){this[b3](b5[b3])}else{this.attr(b3,b5[b3])}}}return this}else{b6=l.getElementById(b3[2]);if(b6&&b6.parentNode){if(b6.id!==b3[2]){return b4.find(e)}this.length=1;this[0]=b6}this.context=l;this.selector=e;return this}}else{if(!b5||b5.jquery){return(b5||b4).find(e)}else{return this.constructor(b5).find(e)}}}else{if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else{if(bJ.isFunction(e)){return b4.ready(e)}}}if(e.selector!==aG){this.selector=e.selector;this.context=e.context}return bJ.makeArray(e,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return a4.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(e){var b3=bJ.merge(this.constructor(),e);b3.prevObject=this;b3.context=this.context;return b3},each:function(b3,e){return bJ.each(this,b3,e)},ready:function(e){bJ.ready.promise().done(e);return this},slice:function(){return this.pushStack(a4.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b4){var e=this.length,b3=+b4+(b4<0?e:0);return this.pushStack(b3>=0&&b3<e?[this[b3]]:[])},map:function(e){return this.pushStack(bJ.map(this,function(b4,b3){return e.call(b4,b3,b4)}))},end:function(){return this.prevObject||this.constructor(null)},push:ao,sort:[].sort,splice:[].splice};bJ.fn.init.prototype=bJ.fn;bJ.extend=bJ.fn.extend=function(){var e,b8,b3,b4,cb,b9,b7=arguments[0]||{},b6=1,b5=arguments.length,ca=false;if(typeof b7==="boolean"){ca=b7;b7=arguments[1]||{};b6=2}if(typeof b7!=="object"&&!bJ.isFunction(b7)){b7={}}if(b5===b6){b7=this;--b6}for(;b6<b5;b6++){if((cb=arguments[b6])!=null){for(b4 in cb){e=b7[b4];b3=cb[b4];if(b7===b3){continue}if(ca&&b3&&(bJ.isPlainObject(b3)||(b8=bJ.isArray(b3)))){if(b8){b8=false;b9=e&&bJ.isArray(e)?e:[]}else{b9=e&&bJ.isPlainObject(e)?e:{}}b7[b4]=bJ.extend(ca,b9,b3)}else{if(b3!==aG){b7[b4]=b3}}}}}return b7};bJ.extend({noConflict:function(e){if(a2.$===bJ){a2.$=H}if(e&&a2.jQuery===bJ){a2.jQuery=bi}return bJ},isReady:false,readyWait:1,holdReady:function(e){if(e){bJ.readyWait++}else{bJ.ready(true)}},ready:function(e){if(e===true?--bJ.readyWait:bJ.isReady){return}if(!l.body){return setTimeout(bJ.ready)}bJ.isReady=true;if(e!==true&&--bJ.readyWait>0){return}ai.resolveWith(l,[bJ]);if(bJ.fn.trigger){bJ(l).trigger("ready").off("ready")}},isFunction:function(e){return bJ.type(e)==="function"},isArray:Array.isArray||function(e){return bJ.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?aa[z.call(e)]||"object":typeof e},isPlainObject:function(b5){if(!b5||bJ.type(b5)!=="object"||b5.nodeType||bJ.isWindow(b5)){return false}try{if(b5.constructor&&!V.call(b5,"constructor")&&!V.call(b5.constructor.prototype,"isPrototypeOf")){return false}}catch(b4){return false}var b3;for(b3 in b5){}return b3===aG||V.call(b5,b3)},isEmptyObject:function(b3){var e;for(e in b3){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b6,b4,b5){if(!b6||typeof b6!=="string"){return null}if(typeof b4==="boolean"){b5=b4;b4=false}b4=b4||l;var b3=a.exec(b6),e=!b5&&[];if(b3){return[b4.createElement(b3[1])]}b3=bJ.buildFragment([b6],b4,e);if(e){bJ(e).remove()}return bJ.merge([],b3.childNodes)},parseJSON:function(e){if(a2.JSON&&a2.JSON.parse){return a2.JSON.parse(e)}if(e===null){return e}if(typeof e==="string"){e=bJ.trim(e);if(e){if(bh.test(e.replace(bG,"@").replace(aZ,"]").replace(bk,""))){return(new Function("return "+e))()}}}bJ.error("Invalid JSON: "+e)},parseXML:function(b5){var b3,b4;if(!b5||typeof b5!=="string"){return null}try{if(a2.DOMParser){b4=new DOMParser();b3=b4.parseFromString(b5,"text/xml")}else{b3=new ActiveXObject("Microsoft.XMLDOM");b3.async="false";b3.loadXML(b5)}}catch(b6){b3=aG}if(!b3||!b3.documentElement||b3.getElementsByTagName("parsererror").length){bJ.error("Invalid XML: "+b5)}return b3},noop:function(){},globalEval:function(e){if(e&&bJ.trim(e)){(a2.execScript||function(b3){a2["eval"].call(a2,b3)})(e)}},camelCase:function(e){return e.replace(bS,"ms-").replace(aV,M)},nodeName:function(b3,e){return b3.nodeName&&b3.nodeName.toLowerCase()===e.toLowerCase()},each:function(b7,b8,b3){var b6,b4=0,b5=b7.length,e=ab(b7);if(b3){if(e){for(;b4<b5;b4++){b6=b8.apply(b7[b4],b3);if(b6===false){break}}}else{for(b4 in b7){b6=b8.apply(b7[b4],b3);if(b6===false){break}}}}else{if(e){for(;b4<b5;b4++){b6=b8.call(b7[b4],b4,b7[b4]);if(b6===false){break}}}else{for(b4 in b7){b6=b8.call(b7[b4],b4,b7[b4]);if(b6===false){break}}}}return b7},trim:aQ&&!aQ.call("\uFEFF\xA0")?function(e){return e==null?"":aQ.call(e)}:function(e){return e==null?"":(e+"").replace(C,"")},makeArray:function(e,b4){var b3=b4||[];if(e!=null){if(ab(Object(e))){bJ.merge(b3,typeof e==="string"?[e]:e)}else{ao.call(b3,e)}}return b3},inArray:function(b5,b3,b4){var e;if(b3){if(aM){return aM.call(b3,b5,b4)}e=b3.length;b4=b4?b4<0?Math.max(0,e+b4):b4:0;for(;b4<e;b4++){if(b4 in b3&&b3[b4]===b5){return b4}}}return -1},merge:function(b6,b4){var e=b4.length,b5=b6.length,b3=0;if(typeof e==="number"){for(;b3<e;b3++){b6[b5++]=b4[b3]}}else{while(b4[b3]!==aG){b6[b5++]=b4[b3++]}}b6.length=b5;return b6},grep:function(b3,b8,e){var b7,b4=[],b5=0,b6=b3.length;e=!!e;for(;b5<b6;b5++){b7=!!b8(b3[b5],b5);if(e!==b7){b4.push(b3[b5])}}return b4},map:function(b4,b9,e){var b8,b6=0,b7=b4.length,b3=ab(b4),b5=[];if(b3){for(;b6<b7;b6++){b8=b9(b4[b6],b6,e);if(b8!=null){b5[b5.length]=b8}}}else{for(b6 in b4){b8=b9(b4[b6],b6,e);if(b8!=null){b5[b5.length]=b8}}}return aI.apply([],b5)},guid:1,proxy:function(b6,b5){var e,b4,b3;if(typeof b5==="string"){b3=b6[b5];b5=b6;b6=b3}if(!bJ.isFunction(b6)){return aG}e=a4.call(arguments,2);b4=function(){return b6.apply(b5||this,e.concat(a4.call(arguments)))};b4.guid=b6.guid=b6.guid||bJ.guid++;return b4},access:function(e,b7,b9,b8,b5,cb,ca){var b4=0,b3=e.length,b6=b9==null;if(bJ.type(b9)==="object"){b5=true;for(b4 in b9){bJ.access(e,b7,b4,b9[b4],true,cb,ca)}}else{if(b8!==aG){b5=true;if(!bJ.isFunction(b8)){ca=true}if(b6){if(ca){b7.call(e,b8);b7=null}else{b6=b7;b7=function(cd,cc,ce){return b6.call(bJ(cd),ce)}}}if(b7){for(;b4<b3;b4++){b7(e[b4],b9,ca?b8:b8.call(e[b4],b4,b7(e[b4],b9)))}}}}return b5?e:b6?b7.call(e):b3?b7(e[0],b9):cb},now:function(){return(new Date()).getTime()}});bJ.ready.promise=function(b6){if(!ai){ai=bJ.Deferred();if(l.readyState==="complete"){setTimeout(bJ.ready)}else{if(l.addEventListener){l.addEventListener("DOMContentLoaded",bW,false);a2.addEventListener("load",bW,false)}else{l.attachEvent("onreadystatechange",bW);a2.attachEvent("onload",bW);var b5=false;try{b5=a2.frameElement==null&&l.documentElement}catch(b4){}if(b5&&b5.doScroll){(function b3(){if(!bJ.isReady){try{b5.doScroll("left")}catch(b7){return setTimeout(b3,50)}bl();bJ.ready()}})()}}}}return ai.promise(b6)};bJ.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b3,e){aa["[object "+e+"]"]=e.toLowerCase()});function ab(b4){var b3=b4.length,e=bJ.type(b4);if(bJ.isWindow(b4)){return false}if(b4.nodeType===1&&b3){return true}return e==="array"||e!=="function"&&(b3===0||typeof b3==="number"&&b3>0&&(b3-1) in b4)}w=bJ(l);var bY={};function ae(b3){var e=bY[b3]={};bJ.each(b3.match(ac)||[],function(b5,b4){e[b4]=true});return e}bJ.Callbacks=function(cc){cc=typeof cc==="string"?(bY[cc]||ae(cc)):bJ.extend({},cc);var b6,b5,e,b7,b8,b4,b9=[],ca=!cc.once&&[],b3=function(cd){b5=cc.memory&&cd;e=true;b8=b4||0;b4=0;b7=b9.length;b6=true;for(;b9&&b8<b7;b8++){if(b9[b8].apply(cd[0],cd[1])===false&&cc.stopOnFalse){b5=false;break}}b6=false;if(b9){if(ca){if(ca.length){b3(ca.shift())}}else{if(b5){b9=[]}else{cb.disable()}}}},cb={add:function(){if(b9){var ce=b9.length;(function cd(cf){bJ.each(cf,function(ch,cg){var ci=bJ.type(cg);if(ci==="function"){if(!cc.unique||!cb.has(cg)){b9.push(cg)}}else{if(cg&&cg.length&&ci!=="string"){cd(cg)}}})})(arguments);if(b6){b7=b9.length}else{if(b5){b4=ce;b3(b5)}}}return this},remove:function(){if(b9){bJ.each(arguments,function(cf,cd){var ce;while((ce=bJ.inArray(cd,b9,ce))>-1){b9.splice(ce,1);if(b6){if(ce<=b7){b7--}if(ce<=b8){b8--}}}})}return this},has:function(cd){return cd?bJ.inArray(cd,b9)>-1:!!(b9&&b9.length)},empty:function(){b9=[];return this},disable:function(){b9=ca=b5=aG;return this},disabled:function(){return !b9},lock:function(){ca=aG;if(!b5){cb.disable()}return this},locked:function(){return !ca},fireWith:function(ce,cd){cd=cd||[];cd=[ce,cd.slice?cd.slice():cd];if(b9&&(!e||ca)){if(b6){ca.push(cd)}else{b3(cd)}}return this},fire:function(){cb.fireWith(this,arguments);return this},fired:function(){return !!e}};return cb};bJ.extend({Deferred:function(b4){var b3=[["resolve","done",bJ.Callbacks("once memory"),"resolved"],["reject","fail",bJ.Callbacks("once memory"),"rejected"],["notify","progress",bJ.Callbacks("memory")]],b5="pending",b6={state:function(){return b5},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b7=arguments;return bJ.Deferred(function(b8){bJ.each(b3,function(ca,b9){var cc=b9[0],cb=bJ.isFunction(b7[ca])&&b7[ca];e[b9[1]](function(){var cd=cb&&cb.apply(this,arguments);if(cd&&bJ.isFunction(cd.promise)){cd.promise().done(b8.resolve).fail(b8.reject).progress(b8.notify)}else{b8[cc+"With"](this===b6?b8.promise():this,cb?[cd]:arguments)}})});b7=null}).promise()},promise:function(b7){return b7!=null?bJ.extend(b7,b6):b6}},e={};b6.pipe=b6.then;bJ.each(b3,function(b8,b7){var ca=b7[2],b9=b7[3];b6[b7[1]]=ca.add;if(b9){ca.add(function(){b5=b9},b3[b8^1][2].disable,b3[2][2].lock)}e[b7[0]]=function(){e[b7[0]+"With"](this===e?b6:this,arguments);return this};e[b7[0]+"With"]=ca.fireWith});b6.promise(e);if(b4){b4.call(e,e)}return e},when:function(b6){var b4=0,b8=a4.call(arguments),e=b8.length,b3=e!==1||(b6&&bJ.isFunction(b6.promise))?e:0,cb=b3===1?b6:bJ.Deferred(),b5=function(cd,ce,cc){return function(cf){ce[cd]=this;cc[cd]=arguments.length>1?a4.call(arguments):cf;if(cc===ca){cb.notifyWith(ce,cc)}else{if(!(--b3)){cb.resolveWith(ce,cc)}}}},ca,b7,b9;if(e>1){ca=new Array(e);b7=new Array(e);b9=new Array(e);for(;b4<e;b4++){if(b8[b4]&&bJ.isFunction(b8[b4].promise)){b8[b4].promise().done(b5(b4,b9,b8)).fail(cb.reject).progress(b5(b4,b7,ca))}else{--b3}}}if(!b3){cb.resolveWith(b9,b8)}return cb.promise()}});bJ.support=(function(){var ce,cd,cb,ca,cc,b9,b5,b7,b4,b6,b3=l.createElement("div");b3.setAttribute("className","t");b3.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cd=b3.getElementsByTagName("*");cb=b3.getElementsByTagName("a")[0];if(!cd||!cb||!cd.length){return{}}cc=l.createElement("select");b5=cc.appendChild(l.createElement("option"));ca=b3.getElementsByTagName("input")[0];cb.style.cssText="top:1px;float:left;opacity:.5";ce={getSetAttribute:b3.className!=="t",leadingWhitespace:b3.firstChild.nodeType===3,tbody:!b3.getElementsByTagName("tbody").length,htmlSerialize:!!b3.getElementsByTagName("link").length,style:/top/.test(cb.getAttribute("style")),hrefNormalized:cb.getAttribute("href")==="/a",opacity:/^0.5/.test(cb.style.opacity),cssFloat:!!cb.style.cssFloat,checkOn:!!ca.value,optSelected:b5.selected,enctype:!!l.createElement("form").enctype,html5Clone:l.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:l.compatMode==="CSS1Compat",deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};ca.checked=true;ce.noCloneChecked=ca.cloneNode(true).checked;cc.disabled=true;ce.optDisabled=!b5.disabled;try{delete b3.test}catch(b8){ce.deleteExpando=false}ca=l.createElement("input");ca.setAttribute("value","");ce.input=ca.getAttribute("value")==="";ca.value="t";ca.setAttribute("type","radio");ce.radioValue=ca.value==="t";ca.setAttribute("checked","t");ca.setAttribute("name","t");b9=l.createDocumentFragment();b9.appendChild(ca);ce.appendChecked=ca.checked;ce.checkClone=b9.cloneNode(true).cloneNode(true).lastChild.checked;if(b3.attachEvent){b3.attachEvent("onclick",function(){ce.noCloneEvent=false});b3.cloneNode(true).click()}for(b6 in {submit:true,change:true,focusin:true}){b3.setAttribute(b7="on"+b6,"t");ce[b6+"Bubbles"]=b7 in a2||b3.attributes[b7].expando===false}b3.style.backgroundClip="content-box";b3.cloneNode(true).style.backgroundClip="";ce.clearCloneStyle=b3.style.backgroundClip==="content-box";bJ(function(){var cf,ci,ch,cg="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",e=l.getElementsByTagName("body")[0];if(!e){return}cf=l.createElement("div");cf.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";e.appendChild(cf).appendChild(b3);b3.innerHTML="<table><tr><td></td><td>t</td></tr></table>";ch=b3.getElementsByTagName("td");ch[0].style.cssText="padding:0;margin:0;border:0;display:none";b4=(ch[0].offsetHeight===0);ch[0].style.display="";ch[1].style.display="none";ce.reliableHiddenOffsets=b4&&(ch[0].offsetHeight===0);b3.innerHTML="";b3.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";ce.boxSizing=(b3.offsetWidth===4);ce.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(a2.getComputedStyle){ce.pixelPosition=(a2.getComputedStyle(b3,null)||{}).top!=="1%";ce.boxSizingReliable=(a2.getComputedStyle(b3,null)||{width:"4px"}).width==="4px";ci=b3.appendChild(l.createElement("div"));ci.style.cssText=b3.style.cssText=cg;ci.style.marginRight=ci.style.width="0";b3.style.width="1px";ce.reliableMarginRight=!parseFloat((a2.getComputedStyle(ci,null)||{}).marginRight)}if(typeof b3.style.zoom!==aC){b3.innerHTML="";b3.style.cssText=cg+"width:1px;padding:1px;display:inline;zoom:1";ce.inlineBlockNeedsLayout=(b3.offsetWidth===3);b3.style.display="block";b3.innerHTML="<div></div>";b3.firstChild.style.width="5px";ce.shrinkWrapBlocks=(b3.offsetWidth!==3);if(ce.inlineBlockNeedsLayout){e.style.zoom=1}}e.removeChild(cf);cf=b3=ch=ci=null});cd=cc=b9=b5=cb=ca=null;return ce})();var bw=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aN=/([A-Z])/g;function ba(b5,b3,b7,b6){if(!bJ.acceptData(b5)){return}var b8,ca,cb=bJ.expando,b9=typeof b3==="string",cc=b5.nodeType,e=cc?bJ.cache:b5,b4=cc?b5[cb]:b5[cb]&&cb;if((!b4||!e[b4]||(!b6&&!e[b4].data))&&b9&&b7===aG){return}if(!b4){if(cc){b5[cb]=b4=a6.pop()||bJ.guid++}else{b4=cb}}if(!e[b4]){e[b4]={};if(!cc){e[b4].toJSON=bJ.noop}}if(typeof b3==="object"||typeof b3==="function"){if(b6){e[b4]=bJ.extend(e[b4],b3)}else{e[b4].data=bJ.extend(e[b4].data,b3)}}b8=e[b4];if(!b6){if(!b8.data){b8.data={}}b8=b8.data}if(b7!==aG){b8[bJ.camelCase(b3)]=b7}if(b9){ca=b8[b3];if(ca==null){ca=b8[bJ.camelCase(b3)]}}else{ca=b8}return ca}function Z(b5,b3,b6){if(!bJ.acceptData(b5)){return}var b8,b7,b9,ca=b5.nodeType,e=ca?bJ.cache:b5,b4=ca?b5[bJ.expando]:bJ.expando;if(!e[b4]){return}if(b3){b9=b6?e[b4]:e[b4].data;if(b9){if(!bJ.isArray(b3)){if(b3 in b9){b3=[b3]}else{b3=bJ.camelCase(b3);if(b3 in b9){b3=[b3]}else{b3=b3.split(" ")}}}else{b3=b3.concat(bJ.map(b3,bJ.camelCase))}for(b8=0,b7=b3.length;b8<b7;b8++){delete b9[b3[b8]]}if(!(b6?N:bJ.isEmptyObject)(b9)){return}}}if(!b6){delete e[b4].data;if(!N(e[b4])){return}}if(ca){bJ.cleanData([b5],true)}else{if(bJ.support.deleteExpando||e!=e.window){delete e[b4]}else{e[b4]=null}}}bJ.extend({cache:{},expando:"jQuery"+(s+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bJ.cache[e[bJ.expando]]:e[bJ.expando];return !!e&&!N(e)},data:function(b3,e,b4){return ba(b3,e,b4)},removeData:function(b3,e){return Z(b3,e)},_data:function(b3,e,b4){return ba(b3,e,b4,true)},_removeData:function(b3,e){return Z(b3,e,true)},acceptData:function(b3){if(b3.nodeType&&b3.nodeType!==1&&b3.nodeType!==9){return false}var e=b3.nodeName&&bJ.noData[b3.nodeName.toLowerCase()];return !e||e!==true&&b3.getAttribute("classid")===e}});bJ.fn.extend({data:function(b5,b8){var b3,e,b6=this[0],b4=0,b7=null;if(b5===aG){if(this.length){b7=bJ.data(b6);if(b6.nodeType===1&&!bJ._data(b6,"parsedAttrs")){b3=b6.attributes;for(;b4<b3.length;b4++){e=b3[b4].name;if(!e.indexOf("data-")){e=bJ.camelCase(e.slice(5));by(b6,e,b7[e])}}bJ._data(b6,"parsedAttrs",true)}}return b7}if(typeof b5==="object"){return this.each(function(){bJ.data(this,b5)})}return bJ.access(this,function(b9){if(b9===aG){return b6?by(b6,b5,bJ.data(b6,b5)):null}this.each(function(){bJ.data(this,b5,b9)})},null,b8,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){bJ.removeData(this,e)})}});function by(b5,b4,b6){if(b6===aG&&b5.nodeType===1){var b3="data-"+b4.replace(aN,"-$1").toLowerCase();b6=b5.getAttribute(b3);if(typeof b6==="string"){try{b6=b6==="true"?true:b6==="false"?false:b6==="null"?null:+b6+""===b6?+b6:bw.test(b6)?bJ.parseJSON(b6):b6}catch(b7){}bJ.data(b5,b4,b6)}else{b6=aG}}return b6}function N(b3){var e;for(e in b3){if(e==="data"&&bJ.isEmptyObject(b3[e])){continue}if(e!=="toJSON"){return false}}return true}bJ.extend({queue:function(b4,b3,b5){var e;if(b4){b3=(b3||"fx")+"queue";e=bJ._data(b4,b3);if(b5){if(!e||bJ.isArray(b5)){e=bJ._data(b4,b3,bJ.makeArray(b5))}else{e.push(b5)}}return e||[]}},dequeue:function(b7,b6){b6=b6||"fx";var b3=bJ.queue(b7,b6),b8=b3.length,b5=b3.shift(),e=bJ._queueHooks(b7,b6),b4=function(){bJ.dequeue(b7,b6)};if(b5==="inprogress"){b5=b3.shift();b8--}e.cur=b5;if(b5){if(b6==="fx"){b3.unshift("inprogress")}delete e.stop;b5.call(b7,b4,e)}if(!b8&&e){e.empty.fire()}},_queueHooks:function(b4,b3){var e=b3+"queueHooks";return bJ._data(b4,e)||bJ._data(b4,e,{empty:bJ.Callbacks("once memory").add(function(){bJ._removeData(b4,b3+"queue");bJ._removeData(b4,e)})})}});bJ.fn.extend({queue:function(e,b3){var b4=2;if(typeof e!=="string"){b3=e;e="fx";b4--}if(arguments.length<b4){return bJ.queue(this[0],e)}return b3===aG?this:this.each(function(){var b5=bJ.queue(this,e,b3);bJ._queueHooks(this,e);if(e==="fx"&&b5[0]!=="inprogress"){bJ.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bJ.dequeue(this,e)})},delay:function(b3,e){b3=bJ.fx?bJ.fx.speeds[b3]||b3:b3;e=e||"fx";return this.queue(e,function(b5,b4){var b6=setTimeout(b5,b3);b4.stop=function(){clearTimeout(b6)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b4,b8){var b3,b5=1,b9=bJ.Deferred(),b7=this,e=this.length,b6=function(){if(!(--b5)){b9.resolveWith(b7,[b7])}};if(typeof b4!=="string"){b8=b4;b4=aG}b4=b4||"fx";while(e--){b3=bJ._data(b7[e],b4+"queueHooks");if(b3&&b3.empty){b5++;b3.empty.add(b6)}}b6();return b9.promise(b8)}});var a8,bZ,bM=/[\t\r\n]/g,ak=/\r/g,aF=/^(?:input|select|textarea|button|object)$/i,D=/^(?:a|area)$/i,L=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,aq=/^(?:checked|selected)$/i,bP=bJ.support.getSetAttribute,bF=bJ.support.input;bJ.fn.extend({attr:function(e,b3){return bJ.access(this,bJ.attr,e,b3,arguments.length>1)},removeAttr:function(e){return this.each(function(){bJ.removeAttr(this,e)})},prop:function(e,b3){return bJ.access(this,bJ.prop,e,b3,arguments.length>1)},removeProp:function(e){e=bJ.propFix[e]||e;return this.each(function(){try{this[e]=aG;delete this[e]}catch(b3){}})},addClass:function(b9){var b3,e,ca,b6,b4,b5=0,b7=this.length,b8=typeof b9==="string"&&b9;if(bJ.isFunction(b9)){return this.each(function(cb){bJ(this).addClass(b9.call(this,cb,this.className))})}if(b8){b3=(b9||"").match(ac)||[];for(;b5<b7;b5++){e=this[b5];ca=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bM," "):" ");if(ca){b4=0;while((b6=b3[b4++])){if(ca.indexOf(" "+b6+" ")<0){ca+=b6+" "}}e.className=bJ.trim(ca)}}}return this},removeClass:function(b9){var b3,e,ca,b6,b4,b5=0,b7=this.length,b8=arguments.length===0||typeof b9==="string"&&b9;if(bJ.isFunction(b9)){return this.each(function(cb){bJ(this).removeClass(b9.call(this,cb,this.className))})}if(b8){b3=(b9||"").match(ac)||[];for(;b5<b7;b5++){e=this[b5];ca=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bM," "):"");if(ca){b4=0;while((b6=b3[b4++])){while(ca.indexOf(" "+b6+" ")>=0){ca=ca.replace(" "+b6+" "," ")}}e.className=b9?bJ.trim(ca):""}}}return this},toggleClass:function(b5,b3){var b4=typeof b5,e=typeof b3==="boolean";if(bJ.isFunction(b5)){return this.each(function(b6){bJ(this).toggleClass(b5.call(this,b6,this.className,b3),b3)})}return this.each(function(){if(b4==="string"){var b8,b7=0,b6=bJ(this),b9=b3,ca=b5.match(ac)||[];while((b8=ca[b7++])){b9=e?b9:!b6.hasClass(b8);b6[b9?"addClass":"removeClass"](b8)}}else{if(b4===aC||b4==="boolean"){if(this.className){bJ._data(this,"__className__",this.className)}this.className=this.className||b5===false?"":bJ._data(this,"__className__")||""}}})},hasClass:function(e){var b5=" "+e+" ",b4=0,b3=this.length;for(;b4<b3;b4++){if(this[b4].nodeType===1&&(" "+this[b4].className+" ").replace(bM," ").indexOf(b5)>=0){return true}}return false},val:function(b5){var b3,e,b6,b4=this[0];if(!arguments.length){if(b4){e=bJ.valHooks[b4.type]||bJ.valHooks[b4.nodeName.toLowerCase()];if(e&&"get" in e&&(b3=e.get(b4,"value"))!==aG){return b3}b3=b4.value;return typeof b3==="string"?b3.replace(ak,""):b3==null?"":b3}return}b6=bJ.isFunction(b5);return this.each(function(b8){var b9,b7=bJ(this);if(this.nodeType!==1){return}if(b6){b9=b5.call(this,b8,b7.val())}else{b9=b5}if(b9==null){b9=""}else{if(typeof b9==="number"){b9+=""}else{if(bJ.isArray(b9)){b9=bJ.map(b9,function(ca){return ca==null?"":ca+""})}}}e=bJ.valHooks[this.type]||bJ.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,b9,"value")===aG){this.value=b9}})}});bJ.extend({valHooks:{option:{get:function(e){var b3=e.attributes.value;return !b3||b3.specified?e.value:e.text}},select:{get:function(e){var b8,b4,ca=e.options,b6=e.selectedIndex,b5=e.type==="select-one"||b6<0,b9=b5?null:[],b7=b5?b6+1:ca.length,b3=b6<0?b7:b5?b6:0;for(;b3<b7;b3++){b4=ca[b3];if((b4.selected||b3===b6)&&(bJ.support.optDisabled?!b4.disabled:b4.getAttribute("disabled")===null)&&(!b4.parentNode.disabled||!bJ.nodeName(b4.parentNode,"optgroup"))){b8=bJ(b4).val();if(b5){return b8}b9.push(b8)}}return b9},set:function(b3,b4){var e=bJ.makeArray(b4);bJ(b3).find("option").each(function(){this.selected=bJ.inArray(bJ(this).val(),e)>=0});if(!e.length){b3.selectedIndex=-1}return e}}},attr:function(b7,b5,b8){var e,b6,b4,b3=b7.nodeType;if(!b7||b3===3||b3===8||b3===2){return}if(typeof b7.getAttribute===aC){return bJ.prop(b7,b5,b8)}b6=b3!==1||!bJ.isXMLDoc(b7);if(b6){b5=b5.toLowerCase();e=bJ.attrHooks[b5]||(L.test(b5)?bZ:a8)}if(b8!==aG){if(b8===null){bJ.removeAttr(b7,b5)}else{if(e&&b6&&"set" in e&&(b4=e.set(b7,b8,b5))!==aG){return b4}else{b7.setAttribute(b5,b8+"");return b8}}}else{if(e&&b6&&"get" in e&&(b4=e.get(b7,b5))!==null){return b4}else{if(typeof b7.getAttribute!==aC){b4=b7.getAttribute(b5)}return b4==null?aG:b4}}},removeAttr:function(b4,b6){var e,b5,b3=0,b7=b6&&b6.match(ac);if(b7&&b4.nodeType===1){while((e=b7[b3++])){b5=bJ.propFix[e]||e;if(L.test(e)){if(!bP&&aq.test(e)){b4[bJ.camelCase("default-"+e)]=b4[b5]=false}else{b4[b5]=false}}else{bJ.attr(b4,e,"")}b4.removeAttribute(bP?e:b5)}}},attrHooks:{type:{set:function(e,b3){if(!bJ.support.radioValue&&b3==="radio"&&bJ.nodeName(e,"input")){var b4=e.value;e.setAttribute("type",b3);if(b4){e.value=b4}return b3}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b7,b5,b8){var b4,e,b6,b3=b7.nodeType;if(!b7||b3===3||b3===8||b3===2){return}b6=b3!==1||!bJ.isXMLDoc(b7);if(b6){b5=bJ.propFix[b5]||b5;e=bJ.propHooks[b5]}if(b8!==aG){if(e&&"set" in e&&(b4=e.set(b7,b8,b5))!==aG){return b4}else{return(b7[b5]=b8)}}else{if(e&&"get" in e&&(b4=e.get(b7,b5))!==null){return b4}else{return b7[b5]}}},propHooks:{tabIndex:{get:function(b3){var e=b3.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aF.test(b3.nodeName)||D.test(b3.nodeName)&&b3.href?0:aG}}}});bZ={get:function(b5,b3){var b6=bJ.prop(b5,b3),e=typeof b6==="boolean"&&b5.getAttribute(b3),b4=typeof b6==="boolean"?bF&&bP?e!=null:aq.test(b3)?b5[bJ.camelCase("default-"+b3)]:!!e:b5.getAttributeNode(b3);return b4&&b4.value!==false?b3.toLowerCase():aG},set:function(b3,b4,e){if(b4===false){bJ.removeAttr(b3,e)}else{if(bF&&bP||!aq.test(e)){b3.setAttribute(!bP&&bJ.propFix[e]||e,e)}else{b3[bJ.camelCase("default-"+e)]=b3[e]=true}}return e}};if(!bF||!bP){bJ.attrHooks.value={get:function(b4,b3){var e=b4.getAttributeNode(b3);return bJ.nodeName(b4,"input")?b4.defaultValue:e&&e.specified?e.value:aG},set:function(b3,b4,e){if(bJ.nodeName(b3,"input")){b3.defaultValue=b4}else{return a8&&a8.set(b3,b4,e)}}}}if(!bP){a8=bJ.valHooks.button={get:function(b4,b3){var e=b4.getAttributeNode(b3);return e&&(b3==="id"||b3==="name"||b3==="coords"?e.value!=="":e.specified)?e.value:aG},set:function(b4,b5,b3){var e=b4.getAttributeNode(b3);if(!e){b4.setAttributeNode((e=b4.ownerDocument.createAttribute(b3)))}e.value=b5+="";return b3==="value"||b5===b4.getAttribute(b3)?b5:aG}};bJ.attrHooks.contenteditable={get:a8.get,set:function(b3,b4,e){a8.set(b3,b4===""?false:b4,e)}};bJ.each(["width","height"],function(b3,e){bJ.attrHooks[e]=bJ.extend(bJ.attrHooks[e],{set:function(b4,b5){if(b5===""){b4.setAttribute(e,"auto");return b5}}})})}if(!bJ.support.hrefNormalized){bJ.each(["href","src","width","height"],function(b3,e){bJ.attrHooks[e]=bJ.extend(bJ.attrHooks[e],{get:function(b5){var b4=b5.getAttribute(e,2);return b4==null?aG:b4}})});bJ.each(["href","src"],function(b3,e){bJ.propHooks[e]={get:function(b4){return b4.getAttribute(e,4)}}})}if(!bJ.support.style){bJ.attrHooks.style={get:function(e){return e.style.cssText||aG},set:function(e,b3){return(e.style.cssText=b3+"")}}}if(!bJ.support.optSelected){bJ.propHooks.selected=bJ.extend(bJ.propHooks.selected,{get:function(b3){var e=b3.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bJ.support.enctype){bJ.propFix.enctype="encoding"}if(!bJ.support.checkOn){bJ.each(["radio","checkbox"],function(){bJ.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bJ.each(["radio","checkbox"],function(){bJ.valHooks[this]=bJ.extend(bJ.valHooks[this],{set:function(e,b3){if(bJ.isArray(b3)){return(e.checked=bJ.inArray(bJ(e).val(),b3)>=0)}}})});var bH=/^(?:input|select|textarea)$/i,a3=/^key/,bN=/^(?:mouse|contextmenu)|click/,bB=/^(?:focusinfocus|focusoutblur)$/,bu=/^([^.]*)(?:\.(.+)|)$/;function R(){return true}function X(){return false}bJ.event={global:{},add:function(b6,cb,cg,b8,b7){var b9,ch,ci,b4,cd,ca,cf,b5,ce,e,b3,cc=bJ._data(b6);if(!cc){return}if(cg.handler){b4=cg;cg=b4.handler;b7=b4.selector}if(!cg.guid){cg.guid=bJ.guid++}if(!(ch=cc.events)){ch=cc.events={}}if(!(ca=cc.handle)){ca=cc.handle=function(cj){return typeof bJ!==aC&&(!cj||bJ.event.triggered!==cj.type)?bJ.event.dispatch.apply(ca.elem,arguments):aG};ca.elem=b6}cb=(cb||"").match(ac)||[""];ci=cb.length;while(ci--){b9=bu.exec(cb[ci])||[];ce=b3=b9[1];e=(b9[2]||"").split(".").sort();cd=bJ.event.special[ce]||{};ce=(b7?cd.delegateType:cd.bindType)||ce;cd=bJ.event.special[ce]||{};cf=bJ.extend({type:ce,origType:b3,data:b8,handler:cg,guid:cg.guid,selector:b7,needsContext:b7&&bJ.expr.match.needsContext.test(b7),namespace:e.join(".")},b4);if(!(b5=ch[ce])){b5=ch[ce]=[];b5.delegateCount=0;if(!cd.setup||cd.setup.call(b6,b8,e,ca)===false){if(b6.addEventListener){b6.addEventListener(ce,ca,false)}else{if(b6.attachEvent){b6.attachEvent("on"+ce,ca)}}}}if(cd.add){cd.add.call(b6,cf);if(!cf.handler.guid){cf.handler.guid=cg.guid}}if(b7){b5.splice(b5.delegateCount++,0,cf)}else{b5.push(cf)}bJ.event.global[ce]=true}b6=null},remove:function(b5,cb,ci,b6,ca){var b8,cf,b9,b7,ch,cg,cd,b4,ce,e,b3,cc=bJ.hasData(b5)&&bJ._data(b5);if(!cc||!(cg=cc.events)){return}cb=(cb||"").match(ac)||[""];ch=cb.length;while(ch--){b9=bu.exec(cb[ch])||[];ce=b3=b9[1];e=(b9[2]||"").split(".").sort();if(!ce){for(ce in cg){bJ.event.remove(b5,ce+cb[ch],ci,b6,true)}continue}cd=bJ.event.special[ce]||{};ce=(b6?cd.delegateType:cd.bindType)||ce;b4=cg[ce]||[];b9=b9[2]&&new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)");b7=b8=b4.length;while(b8--){cf=b4[b8];if((ca||b3===cf.origType)&&(!ci||ci.guid===cf.guid)&&(!b9||b9.test(cf.namespace))&&(!b6||b6===cf.selector||b6==="**"&&cf.selector)){b4.splice(b8,1);if(cf.selector){b4.delegateCount--}if(cd.remove){cd.remove.call(b5,cf)}}}if(b7&&!b4.length){if(!cd.teardown||cd.teardown.call(b5,e,cc.handle)===false){bJ.removeEvent(b5,ce,cc.handle)}delete cg[ce]}}if(bJ.isEmptyObject(cg)){delete cc.handle;bJ._removeData(b5,"events")}},trigger:function(b3,ca,b6,ch){var cb,b5,cf,cg,cd,b9,b8,b7=[b6||l],ce=V.call(b3,"type")?b3.type:b3,b4=V.call(b3,"namespace")?b3.namespace.split("."):[];cf=b9=b6=b6||l;if(b6.nodeType===3||b6.nodeType===8){return}if(bB.test(ce+bJ.event.triggered)){return}if(ce.indexOf(".")>=0){b4=ce.split(".");ce=b4.shift();b4.sort()}b5=ce.indexOf(":")<0&&"on"+ce;b3=b3[bJ.expando]?b3:new bJ.Event(ce,typeof b3==="object"&&b3);b3.isTrigger=true;b3.namespace=b4.join(".");b3.namespace_re=b3.namespace?new RegExp("(^|\\.)"+b4.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b3.result=aG;if(!b3.target){b3.target=b6}ca=ca==null?[b3]:bJ.makeArray(ca,[b3]);cd=bJ.event.special[ce]||{};if(!ch&&cd.trigger&&cd.trigger.apply(b6,ca)===false){return}if(!ch&&!cd.noBubble&&!bJ.isWindow(b6)){cg=cd.delegateType||ce;if(!bB.test(cg+ce)){cf=cf.parentNode}for(;cf;cf=cf.parentNode){b7.push(cf);b9=cf}if(b9===(b6.ownerDocument||l)){b7.push(b9.defaultView||b9.parentWindow||a2)}}b8=0;while((cf=b7[b8++])&&!b3.isPropagationStopped()){b3.type=b8>1?cg:cd.bindType||ce;cb=(bJ._data(cf,"events")||{})[b3.type]&&bJ._data(cf,"handle");if(cb){cb.apply(cf,ca)}cb=b5&&cf[b5];if(cb&&bJ.acceptData(cf)&&cb.apply&&cb.apply(cf,ca)===false){b3.preventDefault()}}b3.type=ce;if(!ch&&!b3.isDefaultPrevented()){if((!cd._default||cd._default.apply(b6.ownerDocument,ca)===false)&&!(ce==="click"&&bJ.nodeName(b6,"a"))&&bJ.acceptData(b6)){if(b5&&b6[ce]&&!bJ.isWindow(b6)){b9=b6[b5];if(b9){b6[b5]=null}bJ.event.triggered=ce;try{b6[ce]()}catch(cc){}bJ.event.triggered=aG;if(b9){b6[b5]=b9}}}}return b3.result},dispatch:function(e){e=bJ.event.fix(e);var b6,b7,cb,b3,b5,ca=[],b9=a4.call(arguments),b4=(bJ._data(this,"events")||{})[e.type]||[],b8=bJ.event.special[e.type]||{};b9[0]=e;e.delegateTarget=this;if(b8.preDispatch&&b8.preDispatch.call(this,e)===false){return}ca=bJ.event.handlers.call(this,e,b4);b6=0;while((b3=ca[b6++])&&!e.isPropagationStopped()){e.currentTarget=b3.elem;b5=0;while((cb=b3.handlers[b5++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(cb.namespace)){e.handleObj=cb;e.data=cb.data;b7=((bJ.event.special[cb.origType]||{}).handle||cb.handler).apply(b3.elem,b9);if(b7!==aG){if((e.result=b7)===false){e.preventDefault();e.stopPropagation()}}}}}if(b8.postDispatch){b8.postDispatch.call(this,e)}return e.result},handlers:function(e,b4){var b3,b9,b7,b6,b8=[],b5=b4.delegateCount,ca=e.target;if(b5&&ca.nodeType&&(!e.button||e.type!=="click")){for(;ca!=this;ca=ca.parentNode||this){if(ca.nodeType===1&&(ca.disabled!==true||e.type!=="click")){b7=[];for(b6=0;b6<b5;b6++){b9=b4[b6];b3=b9.selector+" ";if(b7[b3]===aG){b7[b3]=b9.needsContext?bJ(b3,this).index(ca)>=0:bJ.find(b3,this,null,[ca]).length}if(b7[b3]){b7.push(b9)}}if(b7.length){b8.push({elem:ca,handlers:b7})}}}}if(b5<b4.length){b8.push({elem:this,handlers:b4.slice(b5)})}return b8},fix:function(b5){if(b5[bJ.expando]){return b5}var b3,b8,b7,b4=b5.type,e=b5,b6=this.fixHooks[b4];if(!b6){this.fixHooks[b4]=b6=bN.test(b4)?this.mouseHooks:a3.test(b4)?this.keyHooks:{}}b7=b6.props?this.props.concat(b6.props):this.props;b5=new bJ.Event(e);b3=b7.length;while(b3--){b8=b7[b3];b5[b8]=e[b8]}if(!b5.target){b5.target=e.srcElement||l}if(b5.target.nodeType===3){b5.target=b5.target.parentNode}b5.metaKey=!!b5.metaKey;return b6.filter?b6.filter(b5,e):b5},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b3,e){if(b3.which==null){b3.which=e.charCode!=null?e.charCode:e.keyCode}return b3}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b5,b4){var e,b6,b7,b3=b4.button,b8=b4.fromElement;if(b5.pageX==null&&b4.clientX!=null){b6=b5.target.ownerDocument||l;b7=b6.documentElement;e=b6.body;b5.pageX=b4.clientX+(b7&&b7.scrollLeft||e&&e.scrollLeft||0)-(b7&&b7.clientLeft||e&&e.clientLeft||0);b5.pageY=b4.clientY+(b7&&b7.scrollTop||e&&e.scrollTop||0)-(b7&&b7.clientTop||e&&e.clientTop||0)}if(!b5.relatedTarget&&b8){b5.relatedTarget=b8===b5.target?b4.toElement:b8}if(!b5.which&&b3!==aG){b5.which=(b3&1?1:(b3&2?3:(b3&4?2:0)))}return b5}},special:{load:{noBubble:true},click:{trigger:function(){if(bJ.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}}},focus:{trigger:function(){if(this!==l.activeElement&&this.focus){try{this.focus();return false}catch(b3){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===l.activeElement&&this.blur){this.blur();return false}},delegateType:"focusout"},beforeunload:{postDispatch:function(e){if(e.result!==aG){e.originalEvent.returnValue=e.result}}}},simulate:function(b4,b6,b5,b3){var b7=bJ.extend(new bJ.Event(),b5,{type:b4,isSimulated:true,originalEvent:{}});if(b3){bJ.event.trigger(b7,null,b6)}else{bJ.event.dispatch.call(b6,b7)}if(b7.isDefaultPrevented()){b5.preventDefault()}}};bJ.removeEvent=l.removeEventListener?function(b3,e,b4){if(b3.removeEventListener){b3.removeEventListener(e,b4,false)}}:function(b4,b3,b5){var e="on"+b3;if(b4.detachEvent){if(typeof b4[e]===aC){b4[e]=null}b4.detachEvent(e,b5)}};bJ.Event=function(b3,e){if(!(this instanceof bJ.Event)){return new bJ.Event(b3,e)}if(b3&&b3.type){this.originalEvent=b3;this.type=b3.type;this.isDefaultPrevented=(b3.defaultPrevented||b3.returnValue===false||b3.getPreventDefault&&b3.getPreventDefault())?R:X}else{this.type=b3}if(e){bJ.extend(this,e)}this.timeStamp=b3&&b3.timeStamp||bJ.now();this[bJ.expando]=true};bJ.Event.prototype={isDefaultPrevented:X,isPropagationStopped:X,isImmediatePropagationStopped:X,preventDefault:function(){var b3=this.originalEvent;this.isDefaultPrevented=R;if(!b3){return}if(b3.preventDefault){b3.preventDefault()}else{b3.returnValue=false}},stopPropagation:function(){var b3=this.originalEvent;this.isPropagationStopped=R;if(!b3){return}if(b3.stopPropagation){b3.stopPropagation()}b3.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=R;this.stopPropagation()}};bJ.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b3,e){bJ.event.special[b3]={delegateType:e,bindType:e,handle:function(b6){var b4,b8=this,b7=b6.relatedTarget,b5=b6.handleObj;if(!b7||(b7!==b8&&!bJ.contains(b8,b7))){b6.type=b5.origType;b4=b5.handler.apply(this,arguments);b6.type=e}return b4}}});if(!bJ.support.submitBubbles){bJ.event.special.submit={setup:function(){if(bJ.nodeName(this,"form")){return false}bJ.event.add(this,"click._submit keypress._submit",function(b5){var b4=b5.target,b3=bJ.nodeName(b4,"input")||bJ.nodeName(b4,"button")?b4.form:aG;if(b3&&!bJ._data(b3,"submitBubbles")){bJ.event.add(b3,"submit._submit",function(e){e._submit_bubble=true});bJ._data(b3,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bJ.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bJ.nodeName(this,"form")){return false}bJ.event.remove(this,"._submit")}}}if(!bJ.support.changeBubbles){bJ.event.special.change={setup:function(){if(bH.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bJ.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bJ.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bJ.event.simulate("change",this,e,true)})}return false}bJ.event.add(this,"beforeactivate._change",function(b4){var b3=b4.target;if(bH.test(b3.nodeName)&&!bJ._data(b3,"changeBubbles")){bJ.event.add(b3,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bJ.event.simulate("change",this.parentNode,e,true)}});bJ._data(b3,"changeBubbles",true)}})},handle:function(b3){var e=b3.target;if(this!==e||b3.isSimulated||b3.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b3.handleObj.handler.apply(this,arguments)}},teardown:function(){bJ.event.remove(this,"._change");return !bH.test(this.nodeName)}}}if(!bJ.support.focusinBubbles){bJ.each({focus:"focusin",blur:"focusout"},function(b5,e){var b3=0,b4=function(b6){bJ.event.simulate(e,b6.target,bJ.event.fix(b6),true)};bJ.event.special[e]={setup:function(){if(b3++===0){l.addEventListener(b5,b4,true)}},teardown:function(){if(--b3===0){l.removeEventListener(b5,b4,true)}}}})}bJ.fn.extend({on:function(b4,e,b7,b6,b3){var b5,b8;if(typeof b4==="object"){if(typeof e!=="string"){b7=b7||e;e=aG}for(b5 in b4){this.on(b5,e,b7,b4[b5],b3)}return this}if(b7==null&&b6==null){b6=e;b7=e=aG}else{if(b6==null){if(typeof e==="string"){b6=b7;b7=aG}else{b6=b7;b7=e;e=aG}}}if(b6===false){b6=X}else{if(!b6){return this}}if(b3===1){b8=b6;b6=function(b9){bJ().off(b9);return b8.apply(this,arguments)};b6.guid=b8.guid||(b8.guid=bJ.guid++)}return this.each(function(){bJ.event.add(this,b4,b6,b7,e)})},one:function(b3,e,b5,b4){return this.on(b3,e,b5,b4,1)},off:function(b4,e,b6){var b3,b5;if(b4&&b4.preventDefault&&b4.handleObj){b3=b4.handleObj;bJ(b4.delegateTarget).off(b3.namespace?b3.origType+"."+b3.namespace:b3.origType,b3.selector,b3.handler);return this}if(typeof b4==="object"){for(b5 in b4){this.off(b5,e,b4[b5])}return this}if(e===false||typeof e==="function"){b6=e;e=aG}if(b6===false){b6=X}return this.each(function(){bJ.event.remove(this,b4,b6,e)})},bind:function(e,b4,b3){return this.on(e,null,b4,b3)},unbind:function(e,b3){return this.off(e,null,b3)},delegate:function(e,b3,b5,b4){return this.on(b3,e,b5,b4)},undelegate:function(e,b3,b4){return arguments.length===1?this.off(e,"**"):this.off(b3,e||"**",b4)},trigger:function(e,b3){return this.each(function(){bJ.event.trigger(e,b3,this)})},triggerHandler:function(e,b4){var b3=this[0];if(b3){return bJ.event.trigger(e,b4,b3,true)}}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(da,ch){var cx,cb,cn,cH,cJ,cS,cT,dg,cV,cB,co,cd,cZ,db,ca,cF,cD,c5="sizzle"+-(new Date()),cI=da.document,dd={},de=0,c0=0,b5=cz(),c4=cz(),cG=cz(),c9=typeof ch,cN=1<<31,c7=[],c8=c7.pop,b4=c7.push,cm=c7.slice,b9=c7.indexOf||function(di){var dh=0,e=this.length;for(;dh<e;dh++){if(this[dh]===di){return dh}}return -1},cp="[\\x20\\t\\r\\n\\f]",b3="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cK=b3.replace("w","w#"),ci="([*^$|!~]?=)",c2="\\["+cp+"*("+b3+")"+cp+"*(?:"+ci+cp+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cK+")|)|)"+cp+"*\\]",ck=":("+b3+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+c2.replace(3,8)+")*)|.*)\\)|)",cr=new RegExp("^"+cp+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cp+"+$","g"),cu=new RegExp("^"+cp+"*,"+cp+"*"),cA=new RegExp("^"+cp+"*([\\x20\\t\\r\\n\\f>+~])"+cp+"*"),cP=new RegExp(ck),cQ=new RegExp("^"+cK+"$"),cY={ID:new RegExp("^#("+b3+")"),CLASS:new RegExp("^\\.("+b3+")"),NAME:new RegExp("^\\[name=['\"]?("+b3+")['\"]?\\]"),TAG:new RegExp("^("+b3.replace("w","w*")+")"),ATTR:new RegExp("^"+c2),PSEUDO:new RegExp("^"+ck),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cp+"*(even|odd|(([+-]|)(\\d*)n|)"+cp+"*(?:([+-]|)"+cp+"*(\\d+)|))"+cp+"*\\)|)","i"),needsContext:new RegExp("^"+cp+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cp+"*((?:-\\d)?\\d*)"+cp+"*\\)|)(?=[^-]|$)","i")},cW=/[\x20\t\r\n\f]*[+~]/,cM=/^[^{]+\{\s*\[native code/,cO=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,b8=/^(?:input|select|textarea|button)$/i,cl=/^h\d$/i,cL=/'|\\/g,ct=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,cs=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,c1=function(e,di){var dh="0x"+di-65536;return dh!==dh?di:dh<0?String.fromCharCode(dh+65536):String.fromCharCode(dh>>10|55296,dh&1023|56320)};try{cm.call(cI.documentElement.childNodes,0)[0].nodeType}catch(cC){cm=function(dh){var di,e=[];while((di=this[dh++])){e.push(di)}return e}}function cE(e){return cM.test(e+"")}function cz(){var e,dh=[];return(e=function(di,dj){if(dh.push(di+=" ")>cn.cacheLength){delete e[dh.shift()]}return(e[di]=dj)})}function cj(e){e[c5]=true;return e}function cc(dh){var dj=cB.createElement("div");try{return dh(dj)}catch(di){return false}finally{dj=null}}function cv(dp,dh,dt,dv){var du,dl,dm,dr,ds,dk,dj,e,di,dq;if((dh?dh.ownerDocument||dh:cI)!==cB){cV(dh)}dh=dh||cB;dt=dt||[];if(!dp||typeof dp!=="string"){return dt}if((dr=dh.nodeType)!==1&&dr!==9){return[]}if(!cd&&!dv){if((du=cO.exec(dp))){if((dm=du[1])){if(dr===9){dl=dh.getElementById(dm);if(dl&&dl.parentNode){if(dl.id===dm){dt.push(dl);return dt}}else{return dt}}else{if(dh.ownerDocument&&(dl=dh.ownerDocument.getElementById(dm))&&cF(dh,dl)&&dl.id===dm){dt.push(dl);return dt}}}else{if(du[2]){b4.apply(dt,cm.call(dh.getElementsByTagName(dp),0));return dt}else{if((dm=du[3])&&dd.getByClassName&&dh.getElementsByClassName){b4.apply(dt,cm.call(dh.getElementsByClassName(dm),0));return dt}}}}if(dd.qsa&&!cZ.test(dp)){dj=true;e=c5;di=dh;dq=dr===9&&dp;if(dr===1&&dh.nodeName.toLowerCase()!=="object"){dk=cf(dp);if((dj=dh.getAttribute("id"))){e=dj.replace(cL,"\\$&")}else{dh.setAttribute("id",e)}e="[id='"+e+"'] ";ds=dk.length;while(ds--){dk[ds]=e+cg(dk[ds])}di=cW.test(dp)&&dh.parentNode||dh;dq=dk.join(",")}if(dq){try{b4.apply(dt,cm.call(di.querySelectorAll(dq),0));return dt}catch(dn){}finally{if(!dj){dh.removeAttribute("id")}}}}}return dc(dp.replace(cr,"$1"),dh,dt,dv)}cJ=cv.isXML=function(e){var dh=e&&(e.ownerDocument||e).documentElement;return dh?dh.nodeName!=="HTML":false};cV=cv.setDocument=function(e){var dh=e?e.ownerDocument||e:cI;if(dh===cB||dh.nodeType!==9||!dh.documentElement){return cB}cB=dh;co=dh.documentElement;cd=cJ(dh);dd.tagNameNoComments=cc(function(di){di.appendChild(dh.createComment(""));return !di.getElementsByTagName("*").length});dd.attributes=cc(function(dj){dj.innerHTML="<select></select>";var di=typeof dj.lastChild.getAttribute("multiple");return di!=="boolean"&&di!=="string"});dd.getByClassName=cc(function(di){di.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!di.getElementsByClassName||!di.getElementsByClassName("e").length){return false}di.lastChild.className="e";return di.getElementsByClassName("e").length===2});dd.getByName=cc(function(dj){dj.id=c5+0;dj.innerHTML="<a name='"+c5+"'></a><div name='"+c5+"'></div>";co.insertBefore(dj,co.firstChild);var di=dh.getElementsByName&&dh.getElementsByName(c5).length===2+dh.getElementsByName(c5+0).length;dd.getIdNotName=!dh.getElementById(c5);co.removeChild(dj);return di});cn.attrHandle=cc(function(di){di.innerHTML="<a href='#'></a>";return di.firstChild&&typeof di.firstChild.getAttribute!==c9&&di.firstChild.getAttribute("href")==="#"})?{}:{href:function(di){return di.getAttribute("href",2)},type:function(di){return di.getAttribute("type")}};if(dd.getIdNotName){cn.find.ID=function(dk,dj){if(typeof dj.getElementById!==c9&&!cd){var di=dj.getElementById(dk);return di&&di.parentNode?[di]:[]}};cn.filter.ID=function(dj){var di=dj.replace(cs,c1);return function(dk){return dk.getAttribute("id")===di}}}else{cn.find.ID=function(dk,dj){if(typeof dj.getElementById!==c9&&!cd){var di=dj.getElementById(dk);return di?di.id===dk||typeof di.getAttributeNode!==c9&&di.getAttributeNode("id").value===dk?[di]:ch:[]}};cn.filter.ID=function(dj){var di=dj.replace(cs,c1);return function(dl){var dk=typeof dl.getAttributeNode!==c9&&dl.getAttributeNode("id");return dk&&dk.value===di}}}cn.find.TAG=dd.tagNameNoComments?function(di,dj){if(typeof dj.getElementsByTagName!==c9){return dj.getElementsByTagName(di)}}:function(di,dm){var dn,dl=[],dk=0,dj=dm.getElementsByTagName(di);if(di==="*"){while((dn=dj[dk++])){if(dn.nodeType===1){dl.push(dn)}}return dl}return dj};cn.find.NAME=dd.getByName&&function(di,dj){if(typeof dj.getElementsByName!==c9){return dj.getElementsByName(name)}};cn.find.CLASS=dd.getByClassName&&function(dj,di){if(typeof di.getElementsByClassName!==c9&&!cd){return di.getElementsByClassName(dj)}};db=[];cZ=[":focus"];if((dd.qsa=cE(dh.querySelectorAll))){cc(function(di){di.innerHTML="<select><option selected=''></option></select>";if(!di.querySelectorAll("[selected]").length){cZ.push("\\["+cp+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!di.querySelectorAll(":checked").length){cZ.push(":checked")}});cc(function(di){di.innerHTML="<input type='hidden' i=''/>";if(di.querySelectorAll("[i^='']").length){cZ.push("[*^$]="+cp+"*(?:\"\"|'')")}if(!di.querySelectorAll(":enabled").length){cZ.push(":enabled",":disabled")}di.querySelectorAll("*,:x");cZ.push(",.*:")})}if((dd.matchesSelector=cE((ca=co.matchesSelector||co.mozMatchesSelector||co.webkitMatchesSelector||co.oMatchesSelector||co.msMatchesSelector)))){cc(function(di){dd.disconnectedMatch=ca.call(di,"div");ca.call(di,"[s!='']:x");db.push("!=",ck)})}cZ=new RegExp(cZ.join("|"));db=new RegExp(db.join("|"));cF=cE(co.contains)||co.compareDocumentPosition?function(dj,di){var dl=dj.nodeType===9?dj.documentElement:dj,dk=di&&di.parentNode;return dj===dk||!!(dk&&dk.nodeType===1&&(dl.contains?dl.contains(dk):dj.compareDocumentPosition&&dj.compareDocumentPosition(dk)&16))}:function(dj,di){if(di){while((di=di.parentNode)){if(di===dj){return true}}}return false};cD=co.compareDocumentPosition?function(dj,di){var dk;if(dj===di){cT=true;return 0}if((dk=di.compareDocumentPosition&&dj.compareDocumentPosition&&dj.compareDocumentPosition(di))){if(dk&1||dj.parentNode&&dj.parentNode.nodeType===11){if(dj===dh||cF(cI,dj)){return -1}if(di===dh||cF(cI,di)){return 1}return 0}return dk&4?-1:1}return dj.compareDocumentPosition?-1:1}:function(dj,di){var dq,dm=0,dp=dj.parentNode,dl=di.parentNode,dk=[dj],dn=[di];if(dj===di){cT=true;return 0}else{if(!dp||!dl){return dj===dh?-1:di===dh?1:dp?-1:dl?1:0}else{if(dp===dl){return b6(dj,di)}}}dq=dj;while((dq=dq.parentNode)){dk.unshift(dq)}dq=di;while((dq=dq.parentNode)){dn.unshift(dq)}while(dk[dm]===dn[dm]){dm++}return dm?b6(dk[dm],dn[dm]):dk[dm]===cI?-1:dn[dm]===cI?1:0};cT=false;[0,0].sort(cD);dd.detectDuplicates=cT;return cB};cv.matches=function(dh,e){return cv(dh,null,null,e)};cv.matchesSelector=function(di,dk){if((di.ownerDocument||di)!==cB){cV(di)}dk=dk.replace(ct,"='$1']");if(dd.matchesSelector&&!cd&&(!db||!db.test(dk))&&!cZ.test(dk)){try{var dh=ca.call(di,dk);if(dh||dd.disconnectedMatch||di.document&&di.document.nodeType!==11){return dh}}catch(dj){}}return cv(dk,cB,null,[di]).length>0};cv.contains=function(e,dh){if((e.ownerDocument||e)!==cB){cV(e)}return cF(e,dh)};cv.attr=function(dh,e){var di;if((dh.ownerDocument||dh)!==cB){cV(dh)}if(!cd){e=e.toLowerCase()}if((di=cn.attrHandle[e])){return di(dh)}if(cd||dd.attributes){return dh.getAttribute(e)}return((di=dh.getAttributeNode(e))||dh.getAttribute(e))&&dh[e]===true?e:di&&di.specified?di.value:null};cv.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};cv.uniqueSort=function(di){var dj,dk=[],dh=1,e=0;cT=!dd.detectDuplicates;di.sort(cD);if(cT){for(;(dj=di[dh]);dh++){if(dj===di[dh-1]){e=dk.push(dh)}}while(e--){di.splice(dk[e],1)}}return di};function b6(dh,e){var dj=e&&dh,di=dj&&(~e.sourceIndex||cN)-(~dh.sourceIndex||cN);if(di){return di}if(dj){while((dj=dj.nextSibling)){if(dj===e){return -1}}}return dh?1:-1}function cw(e){return function(di){var dh=di.nodeName.toLowerCase();return dh==="input"&&di.type===e}}function b7(e){return function(di){var dh=di.nodeName.toLowerCase();return(dh==="input"||dh==="button")&&di.type===e}}function c3(e){return cj(function(dh){dh=+dh;return cj(function(di,dm){var dk,dj=e([],di.length,dh),dl=dj.length;while(dl--){if(di[(dk=dj[dl])]){di[dk]=!(dm[dk]=di[dk])}}})})}cH=cv.getText=function(dk){var dj,dh="",di=0,e=dk.nodeType;if(!e){for(;(dj=dk[di]);di++){dh+=cH(dj)}}else{if(e===1||e===9||e===11){if(typeof dk.textContent==="string"){return dk.textContent}else{for(dk=dk.firstChild;dk;dk=dk.nextSibling){dh+=cH(dk)}}}else{if(e===3||e===4){return dk.nodeValue}}}return dh};cn=cv.selectors={cacheLength:50,createPseudo:cj,match:cY,find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cs,c1);e[3]=(e[4]||e[5]||"").replace(cs,c1);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){cv.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){cv.error(e[0])}}return e},PSEUDO:function(dh){var e,di=!dh[5]&&dh[2];if(cY.CHILD.test(dh[0])){return null}if(dh[4]){dh[2]=dh[4]}else{if(di&&cP.test(di)&&(e=cf(di,true))&&(e=di.indexOf(")",di.length-e)-di.length)){dh[0]=dh[0].slice(0,e);dh[2]=di.slice(0,e)}}return dh.slice(0,3)}},filter:{TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cs,c1).toLowerCase();return function(dh){return dh.nodeName&&dh.nodeName.toLowerCase()===e}},CLASS:function(e){var dh=b5[e+" "];return dh||(dh=new RegExp("(^|"+cp+")"+e+"("+cp+"|$)"))&&b5(e,function(di){return dh.test(di.className||(typeof di.getAttribute!==c9&&di.getAttribute("class"))||"")})},ATTR:function(di,dh,e){return function(dk){var dj=cv.attr(dk,di);if(dj==null){return dh==="!="}if(!dh){return true}dj+="";return dh==="="?dj===e:dh==="!="?dj!==e:dh==="^="?e&&dj.indexOf(e)===0:dh==="*="?e&&dj.indexOf(e)>-1:dh==="$="?e&&dj.slice(-e.length)===e:dh==="~="?(" "+dj+" ").indexOf(e)>-1:dh==="|="?dj===e||dj.slice(0,e.length+1)===e+"-":false}},CHILD:function(dh,dk,dj,dl,di){var dn=dh.slice(0,3)!=="nth",e=dh.slice(-4)!=="last",dm=dk==="of-type";return dl===1&&di===0?function(dp){return !!dp.parentNode}:function(dv,dt,dy){var dp,dB,dw,dA,dx,ds,du=dn!==e?"nextSibling":"previousSibling",dz=dv.parentNode,dr=dm&&dv.nodeName.toLowerCase(),dq=!dy&&!dm;if(dz){if(dn){while(du){dw=dv;while((dw=dw[du])){if(dm?dw.nodeName.toLowerCase()===dr:dw.nodeType===1){return false}}ds=du=dh==="only"&&!ds&&"nextSibling"}return true}ds=[e?dz.firstChild:dz.lastChild];if(e&&dq){dB=dz[c5]||(dz[c5]={});dp=dB[dh]||[];dx=dp[0]===de&&dp[1];dA=dp[0]===de&&dp[2];dw=dx&&dz.childNodes[dx];while((dw=++dx&&dw&&dw[du]||(dA=dx=0)||ds.pop())){if(dw.nodeType===1&&++dA&&dw===dv){dB[dh]=[de,dx,dA];break}}}else{if(dq&&(dp=(dv[c5]||(dv[c5]={}))[dh])&&dp[0]===de){dA=dp[1]}else{while((dw=++dx&&dw&&dw[du]||(dA=dx=0)||ds.pop())){if((dm?dw.nodeName.toLowerCase()===dr:dw.nodeType===1)&&++dA){if(dq){(dw[c5]||(dw[c5]={}))[dh]=[de,dA]}if(dw===dv){break}}}}}dA-=di;return dA===dl||(dA%dl===0&&dA/dl>=0)}}},PSEUDO:function(dj,di){var e,dh=cn.pseudos[dj]||cn.setFilters[dj.toLowerCase()]||cv.error("unsupported pseudo: "+dj);if(dh[c5]){return dh(di)}if(dh.length>1){e=[dj,dj,"",di];return cn.setFilters.hasOwnProperty(dj.toLowerCase())?cj(function(dm,dp){var dl,dk=dh(dm,di),dn=dk.length;while(dn--){dl=b9.call(dm,dk[dn]);dm[dl]=!(dp[dl]=dk[dn])}}):function(dk){return dh(dk,0,e)}}return dh}},pseudos:{not:cj(function(e){var dh=[],di=[],dj=cS(e.replace(cr,"$1"));return dj[c5]?cj(function(dl,dr,dp,dm){var dq,dk=dj(dl,null,dm,[]),dn=dl.length;while(dn--){if((dq=dk[dn])){dl[dn]=!(dr[dn]=dq)}}}):function(dm,dl,dk){dh[0]=dm;dj(dh,null,dk,di);return !di.pop()}}),has:cj(function(e){return function(dh){return cv(e,dh).length>0}}),contains:cj(function(e){return function(dh){return(dh.textContent||dh.innerText||cH(dh)).indexOf(e)>-1}}),lang:cj(function(e){if(!cQ.test(e||"")){cv.error("unsupported lang: "+e)}e=e.replace(cs,c1).toLowerCase();return function(di){var dh;do{if((dh=cd?di.getAttribute("xml:lang")||di.getAttribute("lang"):di.lang)){dh=dh.toLowerCase();return dh===e||dh.indexOf(e+"-")===0}}while((di=di.parentNode)&&di.nodeType===1);return false}}),target:function(e){var dh=da.location&&da.location.hash;return dh&&dh.slice(1)===e.id},root:function(e){return e===co},focus:function(e){return e===cB.activeElement&&(!cB.hasFocus||cB.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dh=e.nodeName.toLowerCase();return(dh==="input"&&!!e.checked)||(dh==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return false}}return true},parent:function(e){return !cn.pseudos.empty(e)},header:function(e){return cl.test(e.nodeName)},input:function(e){return b8.test(e.nodeName)},button:function(dh){var e=dh.nodeName.toLowerCase();return e==="input"&&dh.type==="button"||e==="button"},text:function(dh){var e;return dh.nodeName.toLowerCase()==="input"&&dh.type==="text"&&((e=dh.getAttribute("type"))==null||e.toLowerCase()===dh.type)},first:c3(function(){return[0]}),last:c3(function(e,dh){return[dh-1]}),eq:c3(function(e,di,dh){return[dh<0?dh+di:dh]}),even:c3(function(e,di){var dh=0;for(;dh<di;dh+=2){e.push(dh)}return e}),odd:c3(function(e,di){var dh=1;for(;dh<di;dh+=2){e.push(dh)}return e}),lt:c3(function(e,dj,di){var dh=di<0?di+dj:di;for(;--dh>=0;){e.push(dh)}return e}),gt:c3(function(e,dj,di){var dh=di<0?di+dj:di;for(;++dh<dj;){e.push(dh)}return e})}};for(cx in {radio:true,checkbox:true,file:true,password:true,image:true}){cn.pseudos[cx]=cw(cx)}for(cx in {submit:true,reset:true}){cn.pseudos[cx]=b7(cx)}function cf(dk,dq){var dh,dl,dn,dp,dm,di,e,dj=c4[dk+" "];if(dj){return dq?0:dj.slice(0)}dm=dk;di=[];e=cn.preFilter;while(dm){if(!dh||(dl=cu.exec(dm))){if(dl){dm=dm.slice(dl[0].length)||dm}di.push(dn=[])}dh=false;if((dl=cA.exec(dm))){dh=dl.shift();dn.push({value:dh,type:dl[0].replace(cr," ")});dm=dm.slice(dh.length)}for(dp in cn.filter){if((dl=cY[dp].exec(dm))&&(!e[dp]||(dl=e[dp](dl)))){dh=dl.shift();dn.push({value:dh,type:dp,matches:dl});dm=dm.slice(dh.length)}}if(!dh){break}}return dq?dm.length:dm?cv.error(dk):c4(dk,di).slice(0)}function cg(dj){var di=0,dh=dj.length,e="";for(;di<dh;di++){e+=dj[di].value}return e}function cq(dk,di,dj){var e=di.dir,dl=dj&&e==="parentNode",dh=c0++;return di.first?function(dp,dn,dm){while((dp=dp[e])){if(dp.nodeType===1||dl){return dk(dp,dn,dm)}}}:function(dr,dp,dn){var dt,dm,dq,ds=de+" "+dh;if(dn){while((dr=dr[e])){if(dr.nodeType===1||dl){if(dk(dr,dp,dn)){return true}}}}else{while((dr=dr[e])){if(dr.nodeType===1||dl){dq=dr[c5]||(dr[c5]={});if((dm=dq[e])&&dm[0]===ds){if((dt=dm[1])===true||dt===cb){return dt===true}}else{dm=dq[e]=[ds];dm[1]=dk(dr,dp,dn)||cb;if(dm[1]===true){return true}}}}}}}function df(e){return e.length>1?function(dk,dj,dh){var di=e.length;while(di--){if(!e[di](dk,dj,dh)){return false}}return true}:e[0]}function cX(e,dh,di,dj,dm){var dk,dq=[],dl=0,dn=e.length,dp=dh!=null;for(;dl<dn;dl++){if((dk=e[dl])){if(!di||di(dk,dj,dm)){dq.push(dk);if(dp){dh.push(dl)}}}}return dq}function ce(di,dh,dk,dj,dl,e){if(dj&&!dj[c5]){dj=ce(dj)}if(dl&&!dl[c5]){dl=ce(dl,e)}return cj(function(dx,du,dp,dw){var dz,dv,dr,dq=[],dy=[],dn=du.length,dm=dx||cy(dh||"*",dp.nodeType?[dp]:dp,[]),ds=di&&(dx||!dh)?cX(dm,dq,di,dp,dw):dm,dt=dk?dl||(dx?di:dn||dj)?[]:du:ds;if(dk){dk(ds,dt,dp,dw)}if(dj){dz=cX(dt,dy);dj(dz,[],dp,dw);dv=dz.length;while(dv--){if((dr=dz[dv])){dt[dy[dv]]=!(ds[dy[dv]]=dr)}}}if(dx){if(dl||di){if(dl){dz=[];dv=dt.length;while(dv--){if((dr=dt[dv])){dz.push((ds[dv]=dr))}}dl(null,(dt=[]),dz,dw)}dv=dt.length;while(dv--){if((dr=dt[dv])&&(dz=dl?b9.call(dx,dr):dq[dv])>-1){dx[dz]=!(du[dz]=dr)}}}}else{dt=cX(dt===du?dt.splice(dn,dt.length):dt);if(dl){dl(null,du,dt,dw)}else{b4.apply(du,dt)}}})}function c6(dm){var dh,dk,di,dl=dm.length,dq=cn.relative[dm[0].type],dr=dq||cn.relative[" "],dj=dq?1:0,dn=cq(function(ds){return ds===dh},dr,true),dp=cq(function(ds){return b9.call(dh,ds)>-1},dr,true),e=[function(du,dt,ds){return(!dq&&(ds||dt!==dg))||((dh=dt).nodeType?dn(du,dt,ds):dp(du,dt,ds))}];for(;dj<dl;dj++){if((dk=cn.relative[dm[dj].type])){e=[cq(df(e),dk)]}else{dk=cn.filter[dm[dj].type].apply(null,dm[dj].matches);if(dk[c5]){di=++dj;for(;di<dl;di++){if(cn.relative[dm[di].type]){break}}return ce(dj>1&&df(e),dj>1&&cg(dm.slice(0,dj-1)).replace(cr,"$1"),dk,dj<di&&c6(dm.slice(dj,di)),di<dl&&c6((dm=dm.slice(di))),di<dl&&cg(dm))}e.push(dk)}}return df(e)}function cU(dj,di){var dl=0,e=di.length>0,dk=dj.length>0,dh=function(dw,dq,dv,du,dC){var dr,ds,dx,dB=[],dA=0,dt="0",dm=dw&&[],dy=dC!=null,dz=dg,dp=dw||dk&&cn.find.TAG("*",dC&&dq.parentNode||dq),dn=(de+=dz==null?1:Math.random()||0.1);if(dy){dg=dq!==cB&&dq;cb=dl}for(;(dr=dp[dt])!=null;dt++){if(dk&&dr){ds=0;while((dx=dj[ds++])){if(dx(dr,dq,dv)){du.push(dr);break}}if(dy){de=dn;cb=++dl}}if(e){if((dr=!dx&&dr)){dA--}if(dw){dm.push(dr)}}}dA+=dt;if(e&&dt!==dA){ds=0;while((dx=di[ds++])){dx(dm,dB,dq,dv)}if(dw){if(dA>0){while(dt--){if(!(dm[dt]||dB[dt])){dB[dt]=c8.call(du)}}}dB=cX(dB)}b4.apply(du,dB);if(dy&&!dw&&dB.length>0&&(dA+di.length)>1){cv.uniqueSort(du)}}if(dy){de=dn;dg=dz}return dm};return e?cj(dh):dh}cS=cv.compile=function(e,dl){var di,dh=[],dk=[],dj=cG[e+" "];if(!dj){if(!dl){dl=cf(e)}di=dl.length;while(di--){dj=c6(dl[di]);if(dj[c5]){dh.push(dj)}else{dk.push(dj)}}dj=cG(e,cU(dk,dh))}return dj};function cy(dh,dk,dj){var di=0,e=dk.length;for(;di<e;di++){cv(dh,dk[di],dj)}return dj}function dc(di,e,dj,dm){var dk,dp,dh,dq,dn,dl=cf(di);if(!dm){if(dl.length===1){dp=dl[0]=dl[0].slice(0);if(dp.length>2&&(dh=dp[0]).type==="ID"&&e.nodeType===9&&!cd&&cn.relative[dp[1].type]){e=cn.find.ID(dh.matches[0].replace(cs,c1),e)[0];if(!e){return dj}di=di.slice(dp.shift().value.length)}dk=cY.needsContext.test(di)?0:dp.length;while(dk--){dh=dp[dk];if(cn.relative[(dq=dh.type)]){break}if((dn=cn.find[dq])){if((dm=dn(dh.matches[0].replace(cs,c1),cW.test(dp[0].type)&&e.parentNode||e))){dp.splice(dk,1);di=dm.length&&cg(dp);if(!di){b4.apply(dj,cm.call(dm,0));return dj}break}}}}}cS(di,dl)(dm,e,cd,dj,cW.test(di));return dj}cn.pseudos.nth=cn.pseudos.eq;function cR(){}cn.filters=cR.prototype=cn.pseudos;cn.setFilters=new cR();cV();cv.attr=bJ.attr;bJ.find=cv;bJ.expr=cv.selectors;bJ.expr[":"]=bJ.expr.pseudos;bJ.unique=cv.uniqueSort;bJ.text=cv.getText;bJ.isXMLDoc=cv.isXML;bJ.contains=cv.contains})(a2);var aj=/Until$/,bt=/^(?:parents|prev(?:Until|All))/,an=/^.[^:#\[\.,]*$/,y=bJ.expr.match.needsContext,bx={children:true,contents:true,next:true,prev:true};bJ.fn.extend({find:function(b3){var b6,b5,b4,e=this.length;if(typeof b3!=="string"){b4=this;return this.pushStack(bJ(b3).filter(function(){for(b6=0;b6<e;b6++){if(bJ.contains(b4[b6],this)){return true}}}))}b5=[];for(b6=0;b6<e;b6++){bJ.find(b3,this[b6],b5)}b5=this.pushStack(e>1?bJ.unique(b5):b5);b5.selector=(this.selector?this.selector+" ":"")+b3;return b5},has:function(b5){var b4,b3=bJ(b5,this),e=b3.length;return this.filter(function(){for(b4=0;b4<e;b4++){if(bJ.contains(this,b3[b4])){return true}}})},not:function(e){return this.pushStack(aO(this,e,false))},filter:function(e){return this.pushStack(aO(this,e,true))},is:function(e){return !!e&&(typeof e==="string"?y.test(e)?bJ(e,this.context).index(this[0])>=0:bJ.filter(e,this).length>0:this.filter(e).length>0)},closest:function(b6,b5){var b7,b4=0,e=this.length,b3=[],b8=y.test(b6)||typeof b6!=="string"?bJ(b6,b5||this.context):0;for(;b4<e;b4++){b7=this[b4];while(b7&&b7.ownerDocument&&b7!==b5&&b7.nodeType!==11){if(b8?b8.index(b7)>-1:bJ.find.matchesSelector(b7,b6)){b3.push(b7);break}b7=b7.parentNode}}return this.pushStack(b3.length>1?bJ.unique(b3):b3)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof e==="string"){return bJ.inArray(this[0],bJ(e))}return bJ.inArray(e.jquery?e[0]:e,this)},add:function(e,b3){var b5=typeof e==="string"?bJ(e,b3):bJ.makeArray(e&&e.nodeType?[e]:e),b4=bJ.merge(this.get(),b5);return this.pushStack(bJ.unique(b4))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bJ.fn.andSelf=bJ.fn.addBack;function aX(b3,e){do{b3=b3[e]}while(b3&&b3.nodeType!==1);return b3}bJ.each({parent:function(b3){var e=b3.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bJ.dir(e,"parentNode")},parentsUntil:function(b3,e,b4){return bJ.dir(b3,"parentNode",b4)},next:function(e){return aX(e,"nextSibling")},prev:function(e){return aX(e,"previousSibling")},nextAll:function(e){return bJ.dir(e,"nextSibling")},prevAll:function(e){return bJ.dir(e,"previousSibling")},nextUntil:function(b3,e,b4){return bJ.dir(b3,"nextSibling",b4)},prevUntil:function(b3,e,b4){return bJ.dir(b3,"previousSibling",b4)},siblings:function(e){return bJ.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bJ.sibling(e.firstChild)},contents:function(e){return bJ.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bJ.merge([],e.childNodes)}},function(e,b3){bJ.fn[e]=function(b6,b4){var b5=bJ.map(this,b3,b6);if(!aj.test(e)){b4=b6}if(b4&&typeof b4==="string"){b5=bJ.filter(b4,b5)}b5=this.length>1&&!bx[e]?bJ.unique(b5):b5;if(this.length>1&&bt.test(e)){b5=b5.reverse()}return this.pushStack(b5)}});bJ.extend({filter:function(b4,e,b3){if(b3){b4=":not("+b4+")"}return e.length===1?bJ.find.matchesSelector(e[0],b4)?[e[0]]:[]:bJ.find.matches(b4,e)},dir:function(b4,b3,b6){var e=[],b5=b4[b3];while(b5&&b5.nodeType!==9&&(b6===aG||b5.nodeType!==1||!bJ(b5).is(b6))){if(b5.nodeType===1){e.push(b5)}b5=b5[b3]}return e},sibling:function(b4,b3){var e=[];for(;b4;b4=b4.nextSibling){if(b4.nodeType===1&&b4!==b3){e.push(b4)}}return e}});function aO(b5,b4,e){b4=b4||0;if(bJ.isFunction(b4)){return bJ.grep(b5,function(b7,b6){var b8=!!b4.call(b7,b6,b7);return b8===e})}else{if(b4.nodeType){return bJ.grep(b5,function(b6){return(b6===b4)===e})}else{if(typeof b4==="string"){var b3=bJ.grep(b5,function(b6){return b6.nodeType===1});if(an.test(b4)){return bJ.filter(b4,b3,!e)}else{b4=bJ.filter(b4,b3)}}}}return bJ.grep(b5,function(b6){return(bJ.inArray(b6,b4)>=0)===e})}function A(e){var b4=d.split("|"),b3=e.createDocumentFragment();if(b3.createElement){while(b4.length){b3.createElement(b4.pop())}}return b3}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aA=/ jQuery\d+="(?:null|\d+)"/g,J=new RegExp("<(?:"+d+")[\\s/>]","i"),b2=/^\s+/,aD=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=/<([\w:]+)/,bX=/<tbody/i,I=/<|&#?\w+;/,al=/<(?:script|style|link)/i,q=/^(?:checkbox|radio)$/i,bU=/checked\s*(?:[^=]|=\s*.checked.)/i,bz=/^$|\/(?:java|ecma)script/i,ar=/^true\/(.*)/,aK=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,T={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:bJ.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aS=A(l),j=aS.appendChild(l.createElement("div"));T.optgroup=T.option;T.tbody=T.tfoot=T.colgroup=T.caption=T.thead;T.th=T.td;bJ.fn.extend({text:function(e){return bJ.access(this,function(b3){return b3===aG?bJ.text(this):this.empty().append((this[0]&&this[0].ownerDocument||l).createTextNode(b3))},null,e,arguments.length)},wrapAll:function(e){if(bJ.isFunction(e)){return this.each(function(b4){bJ(this).wrapAll(e.call(this,b4))})}if(this[0]){var b3=bJ(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b3.insertBefore(this[0])}b3.map(function(){var b4=this;while(b4.firstChild&&b4.firstChild.nodeType===1){b4=b4.firstChild}return b4}).append(this)}return this},wrapInner:function(e){if(bJ.isFunction(e)){return this.each(function(b3){bJ(this).wrapInner(e.call(this,b3))})}return this.each(function(){var b3=bJ(this),b4=b3.contents();if(b4.length){b4.wrapAll(e)}else{b3.append(e)}})},wrap:function(e){var b3=bJ.isFunction(e);return this.each(function(b4){bJ(this).wrapAll(b3?e.call(this,b4):e)})},unwrap:function(){return this.parent().each(function(){if(!bJ.nodeName(this,"body")){bJ(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.insertBefore(e,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,b5){var b4,b3=0;for(;(b4=this[b3])!=null;b3++){if(!e||bJ.filter(e,[b4]).length>0){if(!b5&&b4.nodeType===1){bJ.cleanData(k(b4))}if(b4.parentNode){if(b5&&bJ.contains(b4.ownerDocument,b4)){bs(k(b4,"script"))}b4.parentNode.removeChild(b4)}}}return this},empty:function(){var b3,e=0;for(;(b3=this[e])!=null;e++){if(b3.nodeType===1){bJ.cleanData(k(b3,false))}while(b3.firstChild){b3.removeChild(b3.firstChild)}if(b3.options&&bJ.nodeName(b3,"select")){b3.options.length=0}}return this},clone:function(b3,e){b3=b3==null?false:b3;e=e==null?b3:e;return this.map(function(){return bJ.clone(this,b3,e)})},html:function(e){return bJ.access(this,function(b6){var b5=this[0]||{},b4=0,b3=this.length;if(b6===aG){return b5.nodeType===1?b5.innerHTML.replace(aA,""):aG}if(typeof b6==="string"&&!al.test(b6)&&(bJ.support.htmlSerialize||!J.test(b6))&&(bJ.support.leadingWhitespace||!b2.test(b6))&&!T[(m.exec(b6)||["",""])[1].toLowerCase()]){b6=b6.replace(aD,"<$1></$2>");try{for(;b4<b3;b4++){b5=this[b4]||{};if(b5.nodeType===1){bJ.cleanData(k(b5,false));b5.innerHTML=b6}}b5=0}catch(b7){}}if(b5){this.empty().append(b6)}},null,e,arguments.length)},replaceWith:function(b3){var e=bJ.isFunction(b3);if(!e&&typeof b3!=="string"){b3=bJ(b3).not(this).detach()}return this.domManip([b3],true,function(b6){var b5=this.nextSibling,b4=this.parentNode;if(b4){bJ(this).remove();b4.insertBefore(b6,b5)}})},detach:function(e){return this.remove(e,true)},domManip:function(ca,cg,cf){ca=aI.apply([],ca);var b8,b4,e,b6,cd,b9,b7=0,b5=this.length,cc=this,ce=b5-1,cb=ca[0],b3=bJ.isFunction(cb);if(b3||!(b5<=1||typeof cb!=="string"||bJ.support.checkClone||!bU.test(cb))){return this.each(function(ci){var ch=cc.eq(ci);if(b3){ca[0]=cb.call(this,ci,cg?ch.html():aG)}ch.domManip(ca,cg,cf)})}if(b5){b9=bJ.buildFragment(ca,this[0].ownerDocument,false,this);b8=b9.firstChild;if(b9.childNodes.length===1){b9=b8}if(b8){cg=cg&&bJ.nodeName(b8,"tr");b6=bJ.map(k(b9,"script"),t);e=b6.length;for(;b7<b5;b7++){b4=b9;if(b7!==ce){b4=bJ.clone(b4,true,true);if(e){bJ.merge(b6,k(b4,"script"))}}cf.call(cg&&bJ.nodeName(this[b7],"table")?x(this[b7],"tbody"):this[b7],b4,b7)}if(e){cd=b6[b6.length-1].ownerDocument;bJ.map(b6,bc);for(b7=0;b7<e;b7++){b4=b6[b7];if(bz.test(b4.type||"")&&!bJ._data(b4,"globalEval")&&bJ.contains(cd,b4)){if(b4.src){bJ.ajax({url:b4.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bJ.globalEval((b4.text||b4.textContent||b4.innerHTML||"").replace(aK,""))}}}}b9=b8=null}}return this}});function x(b3,e){return b3.getElementsByTagName(e)[0]||b3.appendChild(b3.ownerDocument.createElement(e))}function t(b3){var e=b3.getAttributeNode("type");b3.type=(e&&e.specified)+"/"+b3.type;return b3}function bc(b3){var e=ar.exec(b3.type);if(e){b3.type=e[1]}else{b3.removeAttribute("type")}return b3}function bs(e,b4){var b5,b3=0;for(;(b5=e[b3])!=null;b3++){bJ._data(b5,"globalEval",!b4||bJ._data(b4[b3],"globalEval"))}}function at(b9,b3){if(b3.nodeType!==1||!bJ.hasData(b9)){return}var b6,b5,e,b8=bJ._data(b9),b7=bJ._data(b3,b8),b4=b8.events;if(b4){delete b7.handle;b7.events={};for(b6 in b4){for(b5=0,e=b4[b6].length;b5<e;b5++){bJ.event.add(b3,b6,b4[b6][b5])}}}if(b7.data){b7.data=bJ.extend({},b7.data)}}function Q(b6,b3){var b7,b5,b4;if(b3.nodeType!==1){return}b7=b3.nodeName.toLowerCase();if(!bJ.support.noCloneEvent&&b3[bJ.expando]){b4=bJ._data(b3);for(b5 in b4.events){bJ.removeEvent(b3,b5,b4.handle)}b3.removeAttribute(bJ.expando)}if(b7==="script"&&b3.text!==b6.text){t(b3).text=b6.text;bc(b3)}else{if(b7==="object"){if(b3.parentNode){b3.outerHTML=b6.outerHTML}if(bJ.support.html5Clone&&(b6.innerHTML&&!bJ.trim(b3.innerHTML))){b3.innerHTML=b6.innerHTML}}else{if(b7==="input"&&q.test(b6.type)){b3.defaultChecked=b3.checked=b6.checked;if(b3.value!==b6.value){b3.value=b6.value}}else{if(b7==="option"){b3.defaultSelected=b3.selected=b6.defaultSelected}else{if(b7==="input"||b7==="textarea"){b3.defaultValue=b6.defaultValue}}}}}}bJ.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b3){bJ.fn[e]=function(b4){var b5,b7=0,b6=[],b9=bJ(b4),b8=b9.length-1;for(;b7<=b8;b7++){b5=b7===b8?this:this.clone(true);bJ(b9[b7])[b3](b5);ao.apply(b6,b5.get())}return this.pushStack(b6)}});function k(b5,e){var b3,b6,b4=0,b7=typeof b5.getElementsByTagName!==aC?b5.getElementsByTagName(e||"*"):typeof b5.querySelectorAll!==aC?b5.querySelectorAll(e||"*"):aG;if(!b7){for(b7=[],b3=b5.childNodes||b5;(b6=b3[b4])!=null;b4++){if(!e||bJ.nodeName(b6,e)){b7.push(b6)}else{bJ.merge(b7,k(b6,e))}}}return e===aG||e&&bJ.nodeName(b5,e)?bJ.merge([b5],b7):b7}function bV(e){if(q.test(e.type)){e.defaultChecked=e.checked}}bJ.extend({clone:function(b3,b5,e){var b7,b4,ca,b6,b8,b9=bJ.contains(b3.ownerDocument,b3);if(bJ.support.html5Clone||bJ.isXMLDoc(b3)||!J.test("<"+b3.nodeName+">")){ca=b3.cloneNode(true)}else{j.innerHTML=b3.outerHTML;j.removeChild(ca=j.firstChild)}if((!bJ.support.noCloneEvent||!bJ.support.noCloneChecked)&&(b3.nodeType===1||b3.nodeType===11)&&!bJ.isXMLDoc(b3)){b7=k(ca);b8=k(b3);for(b6=0;(b4=b8[b6])!=null;++b6){if(b7[b6]){Q(b4,b7[b6])}}}if(b5){if(e){b8=b8||k(b3);b7=b7||k(ca);for(b6=0;(b4=b8[b6])!=null;b6++){at(b4,b7[b6])}}else{at(b3,ca)}}b7=k(ca,"script");if(b7.length>0){bs(b7,!b9&&k(b3,"script"))}b7=b8=b4=null;return ca},buildFragment:function(b3,b5,ca,cf){var cb,b7,b9,ce,cg,cd,b4,b8=b3.length,b6=A(b5),e=[],cc=0;for(;cc<b8;cc++){b7=b3[cc];if(b7||b7===0){if(bJ.type(b7)==="object"){bJ.merge(e,b7.nodeType?[b7]:b7)}else{if(!I.test(b7)){e.push(b5.createTextNode(b7))}else{ce=ce||b6.appendChild(b5.createElement("div"));cg=(m.exec(b7)||["",""])[1].toLowerCase();b4=T[cg]||T._default;ce.innerHTML=b4[1]+b7.replace(aD,"<$1></$2>")+b4[2];cb=b4[0];while(cb--){ce=ce.lastChild}if(!bJ.support.leadingWhitespace&&b2.test(b7)){e.push(b5.createTextNode(b2.exec(b7)[0]))}if(!bJ.support.tbody){b7=cg==="table"&&!bX.test(b7)?ce.firstChild:b4[1]==="<table>"&&!bX.test(b7)?ce:0;cb=b7&&b7.childNodes.length;while(cb--){if(bJ.nodeName((cd=b7.childNodes[cb]),"tbody")&&!cd.childNodes.length){b7.removeChild(cd)}}}bJ.merge(e,ce.childNodes);ce.textContent="";while(ce.firstChild){ce.removeChild(ce.firstChild)}ce=b6.lastChild}}}}if(ce){b6.removeChild(ce)}if(!bJ.support.appendChecked){bJ.grep(k(e,"input"),bV)}cc=0;while((b7=e[cc++])){if(cf&&bJ.inArray(b7,cf)!==-1){continue}b9=bJ.contains(b7.ownerDocument,b7);ce=k(b6.appendChild(b7),"script");if(b9){bs(ce)}if(ca){cb=0;while((b7=ce[cb++])){if(bz.test(b7.type||"")){ca.push(b7)}}}}ce=null;return b6},cleanData:function(b3,cb){var b5,ca,b4,b6,b7=0,cc=bJ.expando,e=bJ.cache,b8=bJ.support.deleteExpando,b9=bJ.event.special;for(;(b5=b3[b7])!=null;b7++){if(cb||bJ.acceptData(b5)){b4=b5[cc];b6=b4&&e[b4];if(b6){if(b6.events){for(ca in b6.events){if(b9[ca]){bJ.event.remove(b5,ca)}else{bJ.removeEvent(b5,ca,b6.handle)}}}if(e[b4]){delete e[b4];if(b8){delete b5[cc]}else{if(typeof b5.removeAttribute!==aC){b5.removeAttribute(cc)}else{b5[cc]=null}}a6.push(b4)}}}}}});var aE,bo,E,bg=/alpha\([^)]*\)/i,aT=/opacity\s*=\s*([^)]*)/,bn=/^(top|right|bottom|left)$/,F=/^(none|table(?!-c[ea]).+)/,aY=/^margin/,a9=new RegExp("^("+bA+")(.*)$","i"),W=new RegExp("^("+bA+")(?!px)[a-z%]+$","i"),S=new RegExp("^([+-])=("+bA+")","i"),bj={BODY:"block"},bb={position:"absolute",visibility:"hidden",display:"block"},bC={letterSpacing:0,fontWeight:400},bT=["Top","Right","Bottom","Left"],av=["Webkit","O","Moz","ms"];function b(b5,b3){if(b3 in b5){return b3}var b6=b3.charAt(0).toUpperCase()+b3.slice(1),e=b3,b4=av.length;while(b4--){b3=av[b4]+b6;if(b3 in b5){return b3}}return e}function P(b3,e){b3=e||b3;return bJ.css(b3,"display")==="none"||!bJ.contains(b3.ownerDocument,b3)}function p(b8,e){var b9,b6,b7,b3=[],b4=0,b5=b8.length;for(;b4<b5;b4++){b6=b8[b4];if(!b6.style){continue}b3[b4]=bJ._data(b6,"olddisplay");b9=b6.style.display;if(e){if(!b3[b4]&&b9==="none"){b6.style.display=""}if(b6.style.display===""&&P(b6)){b3[b4]=bJ._data(b6,"olddisplay",bE(b6.nodeName))}}else{if(!b3[b4]){b7=P(b6);if(b9&&b9!=="none"||!b7){bJ._data(b6,"olddisplay",b7?b9:bJ.css(b6,"display"))}}}}for(b4=0;b4<b5;b4++){b6=b8[b4];if(!b6.style){continue}if(!e||b6.style.display==="none"||b6.style.display===""){b6.style.display=e?b3[b4]||"":"none"}}return b8}bJ.fn.extend({css:function(e,b3){return bJ.access(this,function(b8,b5,b9){var b4,b7,ca={},b6=0;if(bJ.isArray(b5)){b7=bo(b8);b4=b5.length;for(;b6<b4;b6++){ca[b5[b6]]=bJ.css(b8,b5[b6],false,b7)}return ca}return b9!==aG?bJ.style(b8,b5,b9):bJ.css(b8,b5)},e,b3,arguments.length>1)},show:function(){return p(this,true)},hide:function(){return p(this)},toggle:function(b3){var e=typeof b3==="boolean";return this.each(function(){if(e?b3:P(this)){bJ(this).show()}else{bJ(this).hide()}})}});bJ.extend({cssHooks:{opacity:{get:function(b4,b3){if(b3){var e=E(b4,"opacity");return e===""?"1":e}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bJ.support.cssFloat?"cssFloat":"styleFloat"},style:function(b5,b4,cb,b6){if(!b5||b5.nodeType===3||b5.nodeType===8||!b5.style){return}var b9,ca,cc,b7=bJ.camelCase(b4),b3=b5.style;b4=bJ.cssProps[b7]||(bJ.cssProps[b7]=b(b3,b7));cc=bJ.cssHooks[b4]||bJ.cssHooks[b7];if(cb!==aG){ca=typeof cb;if(ca==="string"&&(b9=S.exec(cb))){cb=(b9[1]+1)*b9[2]+parseFloat(bJ.css(b5,b4));ca="number"}if(cb==null||ca==="number"&&isNaN(cb)){return}if(ca==="number"&&!bJ.cssNumber[b7]){cb+="px"}if(!bJ.support.clearCloneStyle&&cb===""&&b4.indexOf("background")===0){b3[b4]="inherit"}if(!cc||!("set" in cc)||(cb=cc.set(b5,cb,b6))!==aG){try{b3[b4]=cb}catch(b8){}}}else{if(cc&&"get" in cc&&(b9=cc.get(b5,false,b6))!==aG){return b9}return b3[b4]}},css:function(b8,b6,b3,b7){var b5,b9,e,b4=bJ.camelCase(b6);b6=bJ.cssProps[b4]||(bJ.cssProps[b4]=b(b8.style,b4));e=bJ.cssHooks[b6]||bJ.cssHooks[b4];if(e&&"get" in e){b9=e.get(b8,true,b3)}if(b9===aG){b9=E(b8,b6,b7)}if(b9==="normal"&&b6 in bC){b9=bC[b6]}if(b3===""||b3){b5=parseFloat(b9);return b3===true||bJ.isNumeric(b5)?b5||0:b9}return b9},swap:function(b7,b6,b8,b5){var b4,b3,e={};for(b3 in b6){e[b3]=b7.style[b3];b7.style[b3]=b6[b3]}b4=b8.apply(b7,b5||[]);for(b3 in b6){b7.style[b3]=e[b3]}return b4}});if(a2.getComputedStyle){bo=function(e){return a2.getComputedStyle(e,null)};E=function(b6,b4,b8){var b5,b3,ca,b7=b8||bo(b6),b9=b7?b7.getPropertyValue(b4)||b7[b4]:aG,e=b6.style;if(b7){if(b9===""&&!bJ.contains(b6.ownerDocument,b6)){b9=bJ.style(b6,b4)}if(W.test(b9)&&aY.test(b4)){b5=e.width;b3=e.minWidth;ca=e.maxWidth;e.minWidth=e.maxWidth=e.width=b9;b9=b7.width;e.width=b5;e.minWidth=b3;e.maxWidth=ca}}return b9}}else{if(l.documentElement.currentStyle){bo=function(e){return e.currentStyle};E=function(b5,b3,b8){var b4,b7,b9,b6=b8||bo(b5),ca=b6?b6[b3]:aG,e=b5.style;if(ca==null&&e&&e[b3]){ca=e[b3]}if(W.test(ca)&&!bn.test(b3)){b4=e.left;b7=b5.runtimeStyle;b9=b7&&b7.left;if(b9){b7.left=b5.currentStyle.left}e.left=b3==="fontSize"?"1em":ca;ca=e.pixelLeft+"px";e.left=b4;if(b9){b7.left=b9}}return ca===""?"auto":ca}}}function aJ(e,b4,b5){var b3=a9.exec(b4);return b3?Math.max(0,b3[1]-(b5||0))+(b3[2]||"px"):b4}function aw(b6,b3,e,b8,b5){var b4=e===(b8?"border":"content")?4:b3==="width"?1:0,b7=0;for(;b4<4;b4+=2){if(e==="margin"){b7+=bJ.css(b6,e+bT[b4],true,b5)}if(b8){if(e==="content"){b7-=bJ.css(b6,"padding"+bT[b4],true,b5)}if(e!=="margin"){b7-=bJ.css(b6,"border"+bT[b4]+"Width",true,b5)}}else{b7+=bJ.css(b6,"padding"+bT[b4],true,b5);if(e!=="padding"){b7+=bJ.css(b6,"border"+bT[b4]+"Width",true,b5)}}}return b7}function u(b6,b3,e){var b5=true,b7=b3==="width"?b6.offsetWidth:b6.offsetHeight,b4=bo(b6),b8=bJ.support.boxSizing&&bJ.css(b6,"boxSizing",false,b4)==="border-box";if(b7<=0||b7==null){b7=E(b6,b3,b4);if(b7<0||b7==null){b7=b6.style[b3]}if(W.test(b7)){return b7}b5=b8&&(bJ.support.boxSizingReliable||b7===b6.style[b3]);b7=parseFloat(b7)||0}return(b7+aw(b6,b3,e||(b8?"border":"content"),b5,b4))+"px"}function bE(b4){var b3=l,e=bj[b4];if(!e){e=a1(b4,b3);if(e==="none"||!e){aE=(aE||bJ("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b3.documentElement);b3=(aE[0].contentWindow||aE[0].contentDocument).document;b3.write("<!doctype html><html><body>");b3.close();e=a1(b4,b3);aE.detach()}bj[b4]=e}return e}function a1(e,b5){var b3=bJ(b5.createElement(e)).appendTo(b5.body),b4=bJ.css(b3[0],"display");b3.remove();return b4}bJ.each(["height","width"],function(b3,e){bJ.cssHooks[e]={get:function(b6,b5,b4){if(b5){return b6.offsetWidth===0&&F.test(bJ.css(b6,"display"))?bJ.swap(b6,bb,function(){return u(b6,e,b4)}):u(b6,e,b4)}},set:function(b6,b7,b4){var b5=b4&&bo(b6);return aJ(b6,b7,b4?aw(b6,e,b4,bJ.support.boxSizing&&bJ.css(b6,"boxSizing",false,b5)==="border-box",b5):0)}}});if(!bJ.support.opacity){bJ.cssHooks.opacity={get:function(b3,e){return aT.test((e&&b3.currentStyle?b3.currentStyle.filter:b3.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b6,b7){var b5=b6.style,b3=b6.currentStyle,e=bJ.isNumeric(b7)?"alpha(opacity="+b7*100+")":"",b4=b3&&b3.filter||b5.filter||"";b5.zoom=1;if((b7>=1||b7==="")&&bJ.trim(b4.replace(bg,""))===""&&b5.removeAttribute){b5.removeAttribute("filter");if(b7===""||b3&&!b3.filter){return}}b5.filter=bg.test(b4)?b4.replace(bg,e):b4+" "+e}}}bJ(function(){if(!bJ.support.reliableMarginRight){bJ.cssHooks.marginRight={get:function(b3,e){if(e){return bJ.swap(b3,{display:"inline-block"},E,[b3,"marginRight"])}}}}if(!bJ.support.pixelPosition&&bJ.fn.position){bJ.each(["top","left"],function(e,b3){bJ.cssHooks[b3]={get:function(b5,b4){if(b4){b4=E(b5,b3);return W.test(b4)?bJ(b5).position()[b3]+"px":b4}}}})}});if(bJ.expr&&bJ.expr.filters){bJ.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||(!bJ.support.reliableHiddenOffsets&&((e.style&&e.style.display)||bJ.css(e,"display"))==="none")};bJ.expr.filters.visible=function(e){return !bJ.expr.filters.hidden(e)}}bJ.each({margin:"",padding:"",border:"Width"},function(e,b3){bJ.cssHooks[e+b3]={expand:function(b6){var b5=0,b4={},b7=typeof b6==="string"?b6.split(" "):[b6];for(;b5<4;b5++){b4[e+bT[b5]+b3]=b7[b5]||b7[b5-2]||b7[0]}return b4}};if(!aY.test(e)){bJ.cssHooks[e+b3].set=aJ}});var bv=/%20/g,aR=/\[\]$/,U=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,au=/^(?:input|select|textarea|keygen)/i;bJ.fn.extend({serialize:function(){return bJ.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=bJ.prop(this,"elements");return e?bJ.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!bJ(this).is(":disabled")&&au.test(this.nodeName)&&!c.test(e)&&(this.checked||!q.test(e))}).map(function(e,b3){var b4=bJ(this).val();return b4==null?null:bJ.isArray(b4)?bJ.map(b4,function(b5){return{name:b3.name,value:b5.replace(U,"\r\n")}}):{name:b3.name,value:b4.replace(U,"\r\n")}}).get()}});bJ.param=function(e,b4){var b5,b3=[],b6=function(b7,b8){b8=bJ.isFunction(b8)?b8():(b8==null?"":b8);b3[b3.length]=encodeURIComponent(b7)+"="+encodeURIComponent(b8)};if(b4===aG){b4=bJ.ajaxSettings&&bJ.ajaxSettings.traditional}if(bJ.isArray(e)||(e.jquery&&!bJ.isPlainObject(e))){bJ.each(e,function(){b6(this.name,this.value)})}else{for(b5 in e){i(b5,e[b5],b4,b6)}}return b3.join("&").replace(bv,"+")};function i(b4,b6,b3,b5){var e;if(bJ.isArray(b6)){bJ.each(b6,function(b8,b7){if(b3||aR.test(b4)){b5(b4,b7)}else{i(b4+"["+(typeof b7==="object"?b8:"")+"]",b7,b3,b5)}})}else{if(!b3&&bJ.type(b6)==="object"){for(e in b6){i(b4+"["+e+"]",b6[e],b3,b5)}}else{b5(b4,b6)}}}bJ.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b3,e){bJ.fn[e]=function(b5,b4){return arguments.length>0?this.on(e,null,b5,b4):this.trigger(e)}});bJ.fn.hover=function(e,b3){return this.mouseenter(e).mouseleave(b3||e)};var b1,Y,bO=bJ.now(),az=/\?/,ap=/#.*$/,O=/([?&])_=[^&]*/,ag=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,B=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,o=/^(?:GET|HEAD)$/,aH=/^\/\//,aU=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b0=bJ.fn.load,v={},a7={},aW="*/".concat("*");try{Y=aL.href}catch(bf){Y=l.createElement("a");Y.href="";Y=Y.href}b1=aU.exec(Y.toLowerCase())||[];function bL(e){return function(b6,b7){if(typeof b6!=="string"){b7=b6;b6="*"}var b3,b4=0,b5=b6.toLowerCase().match(ac)||[];if(bJ.isFunction(b7)){while((b3=b5[b4++])){if(b3[0]==="+"){b3=b3.slice(1)||"*";(e[b3]=e[b3]||[]).unshift(b7)}else{(e[b3]=e[b3]||[]).push(b7)}}}}}function n(e,b4,b8,b5){var b3={},b6=(e===a7);function b7(b9){var ca;b3[b9]=true;bJ.each(e[b9]||[],function(cc,cb){var cd=cb(b4,b8,b5);if(typeof cd==="string"&&!b6&&!b3[cd]){b4.dataTypes.unshift(cd);b7(cd);return false}else{if(b6){return !(ca=cd)}}});return ca}return b7(b4.dataTypes[0])||!b3["*"]&&b7("*")}function r(b4,b5){var e,b3,b6=bJ.ajaxSettings.flatOptions||{};for(b3 in b5){if(b5[b3]!==aG){(b6[b3]?b4:(e||(e={})))[b3]=b5[b3]}}if(e){bJ.extend(true,b4,e)}return b4}bJ.fn.load=function(b5,b8,b9){if(typeof b5!=="string"&&b0){return b0.apply(this,arguments)}var e,b4,b6,b3=this,b7=b5.indexOf(" ");if(b7>=0){e=b5.slice(b7,b5.length);b5=b5.slice(0,b7)}if(bJ.isFunction(b8)){b9=b8;b8=aG}else{if(b8&&typeof b8==="object"){b6="POST"}}if(b3.length>0){bJ.ajax({url:b5,type:b6,dataType:"html",data:b8}).done(function(ca){b4=arguments;b3.html(e?bJ("<div>").append(bJ.parseHTML(ca)).find(e):ca)}).complete(b9&&function(cb,ca){b3.each(b9,b4||[cb.responseText,ca,cb])})}return this};bJ.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,b3){bJ.fn[b3]=function(b4){return this.on(b3,b4)}});bJ.each(["get","post"],function(e,b3){bJ[b3]=function(b4,b6,b7,b5){if(bJ.isFunction(b6)){b5=b5||b7;b7=b6;b6=aG}return bJ.ajax({url:b4,type:b3,dataType:b5,data:b6,success:b7})}});bJ.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Y,type:"GET",isLocal:B.test(b1[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":aW,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a2.String,"text html":true,"text json":bJ.parseJSON,"text xml":bJ.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(b3,e){return e?r(r(b3,bJ.ajaxSettings),e):r(bJ.ajaxSettings,b3)},ajaxPrefilter:bL(v),ajaxTransport:bL(a7),ajax:function(b7,b4){if(typeof b7==="object"){b4=b7;b7=aG}b4=b4||{};var cg,ci,b8,cn,cc,b3,cj,b5,cb=bJ.ajaxSetup({},b4),cp=cb.context||cb,ce=cb.context&&(cp.nodeType||cp.jquery)?bJ(cp):bJ.event,co=bJ.Deferred(),cl=bJ.Callbacks("once memory"),b9=cb.statusCode||{},cf={},cm={},b6=0,ca="canceled",ch={readyState:0,getResponseHeader:function(cq){var e;if(b6===2){if(!b5){b5={};while((e=ag.exec(cn))){b5[e[1].toLowerCase()]=e[2]}}e=b5[cq.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return b6===2?cn:null},setRequestHeader:function(cq,cr){var e=cq.toLowerCase();if(!b6){cq=cm[e]=cm[e]||cq;cf[cq]=cr}return this},overrideMimeType:function(e){if(!b6){cb.mimeType=e}return this},statusCode:function(cq){var e;if(cq){if(b6<2){for(e in cq){b9[e]=[b9[e],cq[e]]}}else{ch.always(cq[ch.status])}}return this},abort:function(cq){var e=cq||ca;if(cj){cj.abort(e)}cd(0,e);return this}};co.promise(ch).complete=cl.add;ch.success=ch.done;ch.error=ch.fail;cb.url=((b7||cb.url||Y)+"").replace(ap,"").replace(aH,b1[1]+"//");cb.type=b4.method||b4.type||cb.method||cb.type;cb.dataTypes=bJ.trim(cb.dataType||"*").toLowerCase().match(ac)||[""];if(cb.crossDomain==null){cg=aU.exec(cb.url.toLowerCase());cb.crossDomain=!!(cg&&(cg[1]!==b1[1]||cg[2]!==b1[2]||(cg[3]||(cg[1]==="http:"?80:443))!=(b1[3]||(b1[1]==="http:"?80:443))))}if(cb.data&&cb.processData&&typeof cb.data!=="string"){cb.data=bJ.param(cb.data,cb.traditional)}n(v,cb,b4,ch);if(b6===2){return ch}b3=cb.global;if(b3&&bJ.active++===0){bJ.event.trigger("ajaxStart")}cb.type=cb.type.toUpperCase();cb.hasContent=!o.test(cb.type);b8=cb.url;if(!cb.hasContent){if(cb.data){b8=(cb.url+=(az.test(b8)?"&":"?")+cb.data);delete cb.data}if(cb.cache===false){cb.url=O.test(b8)?b8.replace(O,"$1_="+bO++):b8+(az.test(b8)?"&":"?")+"_="+bO++}}if(cb.ifModified){if(bJ.lastModified[b8]){ch.setRequestHeader("If-Modified-Since",bJ.lastModified[b8])}if(bJ.etag[b8]){ch.setRequestHeader("If-None-Match",bJ.etag[b8])}}if(cb.data&&cb.hasContent&&cb.contentType!==false||b4.contentType){ch.setRequestHeader("Content-Type",cb.contentType)}ch.setRequestHeader("Accept",cb.dataTypes[0]&&cb.accepts[cb.dataTypes[0]]?cb.accepts[cb.dataTypes[0]]+(cb.dataTypes[0]!=="*"?", "+aW+"; q=0.01":""):cb.accepts["*"]);for(ci in cb.headers){ch.setRequestHeader(ci,cb.headers[ci])}if(cb.beforeSend&&(cb.beforeSend.call(cp,ch,cb)===false||b6===2)){return ch.abort()}ca="abort";for(ci in {success:1,error:1,complete:1}){ch[ci](cb[ci])}cj=n(a7,cb,b4,ch);if(!cj){cd(-1,"No Transport")}else{ch.readyState=1;if(b3){ce.trigger("ajaxSend",[ch,cb])}if(cb.async&&cb.timeout>0){cc=setTimeout(function(){ch.abort("timeout")},cb.timeout)}try{b6=1;cj.send(cf,cd)}catch(ck){if(b6<2){cd(-1,ck)}else{throw ck}}}function cd(cu,cq,cv,cs){var e,cy,cw,ct,cx,cr=cq;if(b6===2){return}b6=2;if(cc){clearTimeout(cc)}cj=aG;cn=cs||"";ch.readyState=cu>0?4:0;if(cv){ct=g(cb,ch,cv)}if(cu>=200&&cu<300||cu===304){if(cb.ifModified){cx=ch.getResponseHeader("Last-Modified");if(cx){bJ.lastModified[b8]=cx}cx=ch.getResponseHeader("etag");if(cx){bJ.etag[b8]=cx}}if(cu===204){e=true;cr="nocontent"}else{if(cu===304){e=true;cr="notmodified"}else{e=af(cb,ct);cr=e.state;cy=e.data;cw=e.error;e=!cw}}}else{cw=cr;if(cu||!cr){cr="error";if(cu<0){cu=0}}}ch.status=cu;ch.statusText=(cq||cr)+"";if(e){co.resolveWith(cp,[cy,cr,ch])}else{co.rejectWith(cp,[ch,cr,cw])}ch.statusCode(b9);b9=aG;if(b3){ce.trigger(e?"ajaxSuccess":"ajaxError",[ch,cb,e?cy:cw])}cl.fireWith(cp,[ch,cr]);if(b3){ce.trigger("ajaxComplete",[ch,cb]);if(!(--bJ.active)){bJ.event.trigger("ajaxStop")}}}return ch},getScript:function(e,b3){return bJ.get(e,aG,b3,"script")},getJSON:function(e,b3,b4){return bJ.get(e,b3,b4,"json")}});function g(cb,ca,b7){var e,b6,b5,b8,b3=cb.contents,b9=cb.dataTypes,b4=cb.responseFields;for(b8 in b4){if(b8 in b7){ca[b4[b8]]=b7[b8]}}while(b9[0]==="*"){b9.shift();if(b6===aG){b6=cb.mimeType||ca.getResponseHeader("Content-Type")}}if(b6){for(b8 in b3){if(b3[b8]&&b3[b8].test(b6)){b9.unshift(b8);break}}}if(b9[0] in b7){b5=b9[0]}else{for(b8 in b7){if(!b9[0]||cb.converters[b8+" "+b9[0]]){b5=b8;break}if(!e){e=b8}}b5=b5||e}if(b5){if(b5!==b9[0]){b9.unshift(b5)}return b7[b5]}}function af(cd,b5){var b3,b9,cb,b6,cc={},b7=0,ca=cd.dataTypes.slice(),b4=ca[0];if(cd.dataFilter){b5=cd.dataFilter(b5,cd.dataType)}if(ca[1]){for(cb in cd.converters){cc[cb.toLowerCase()]=cd.converters[cb]}}for(;(b9=ca[++b7]);){if(b9!=="*"){if(b4!=="*"&&b4!==b9){cb=cc[b4+" "+b9]||cc["* "+b9];if(!cb){for(b3 in cc){b6=b3.split(" ");if(b6[1]===b9){cb=cc[b4+" "+b6[0]]||cc["* "+b6[0]];if(cb){if(cb===true){cb=cc[b3]}else{if(cc[b3]!==true){b9=b6[0];ca.splice(b7--,0,b9)}}break}}}}if(cb!==true){if(cb&&cd["throws"]){b5=cb(b5)}else{try{b5=cb(b5)}catch(b8){return{state:"parsererror",error:cb?b8:"No conversion from "+b4+" to "+b9}}}}}b4=b9}}return{state:"success",data:b5}}bJ.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){bJ.globalEval(e);return e}}});bJ.ajaxPrefilter("script",function(e){if(e.cache===aG){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bJ.ajaxTransport("script",function(b4){if(b4.crossDomain){var e,b3=l.head||bJ("head")[0]||l.documentElement;return{send:function(b5,b6){e=l.createElement("script");e.async=true;if(b4.scriptCharset){e.charset=b4.scriptCharset}e.src=b4.url;e.onload=e.onreadystatechange=function(b8,b7){if(b7||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e)}e=null;if(!b7){b6(200,"success")}}};b3.insertBefore(e,b3.firstChild)},abort:function(){if(e){e.onload(aG,true)}}}}});var bq=[],a5=/(=)\?(?=&|$)|\?\?/;bJ.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bq.pop()||(bJ.expando+"_"+(bO++));this[e]=true;return e}});bJ.ajaxPrefilter("json jsonp",function(b5,e,b6){var b8,b3,b4,b7=b5.jsonp!==false&&(a5.test(b5.url)?"url":typeof b5.data==="string"&&!(b5.contentType||"").indexOf("application/x-www-form-urlencoded")&&a5.test(b5.data)&&"data");if(b7||b5.dataTypes[0]==="jsonp"){b8=b5.jsonpCallback=bJ.isFunction(b5.jsonpCallback)?b5.jsonpCallback():b5.jsonpCallback;if(b7){b5[b7]=b5[b7].replace(a5,"$1"+b8)}else{if(b5.jsonp!==false){b5.url+=(az.test(b5.url)?"&":"?")+b5.jsonp+"="+b8}}b5.converters["script json"]=function(){if(!b4){bJ.error(b8+" was not called")}return b4[0]};b5.dataTypes[0]="json";b3=a2[b8];a2[b8]=function(){b4=arguments};b6.always(function(){a2[b8]=b3;if(b5[b8]){b5.jsonpCallback=e.jsonpCallback;bq.push(b8)}if(b4&&bJ.isFunction(b3)){b3(b4[0])}b4=b3=aG});return"script"}});var ah,ax,ay=0,aP=a2.ActiveXObject&&function(){var e;for(e in ah){ah[e](aG,true)}};function bD(){try{return new a2.XMLHttpRequest()}catch(b3){}}function bd(){try{return new a2.ActiveXObject("Microsoft.XMLHTTP")}catch(b3){}}bJ.ajaxSettings.xhr=a2.ActiveXObject?function(){return !this.isLocal&&bD()||bd()}:bD;ax=bJ.ajaxSettings.xhr();bJ.support.cors=!!ax&&("withCredentials" in ax);ax=bJ.support.ajax=!!ax;if(ax){bJ.ajaxTransport(function(e){if(!e.crossDomain||bJ.support.cors){var b3;return{send:function(b9,b4){var b7,b5,b8=e.xhr();if(e.username){b8.open(e.type,e.url,e.async,e.username,e.password)}else{b8.open(e.type,e.url,e.async)}if(e.xhrFields){for(b5 in e.xhrFields){b8[b5]=e.xhrFields[b5]}}if(e.mimeType&&b8.overrideMimeType){b8.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!b9["X-Requested-With"]){b9["X-Requested-With"]="XMLHttpRequest"}try{for(b5 in b9){b8.setRequestHeader(b5,b9[b5])}}catch(b6){}b8.send((e.hasContent&&e.data)||null);b3=function(cc,cb){var ca,cd,cg,ce;try{if(b3&&(cb||b8.readyState===4)){b3=aG;if(b7){b8.onreadystatechange=bJ.noop;if(aP){delete ah[b7]}}if(cb){if(b8.readyState!==4){b8.abort()}}else{ce={};ca=b8.status;cd=b8.getAllResponseHeaders();if(typeof b8.responseText==="string"){ce.text=b8.responseText}try{cg=b8.statusText}catch(cf){cg=""}if(!ca&&e.isLocal&&!e.crossDomain){ca=ce.text?200:404}else{if(ca===1223){ca=204}}}}}catch(ch){if(!cb){b4(-1,ch)}}if(ce){b4(ca,cg,ce,cd)}};if(!e.async){b3()}else{if(b8.readyState===4){setTimeout(b3)}else{b7=++ay;if(aP){if(!ah){ah={};bJ(a2).unload(aP)}ah[b7]=b3}b8.onreadystatechange=b3}}},abort:function(){if(b3){b3(aG,true)}}}}})}var K,ad,bR=/^(?:toggle|show|hide)$/,bK=new RegExp("^(?:([+-])=|)("+bA+")([a-z%]*)$","i"),bQ=/queueHooks$/,aB=[h],a0={"*":[function(e,b9){var b5,ca,cb=this.createTween(e,b9),b6=bK.exec(b9),b7=cb.cur(),b3=+b7||0,b4=1,b8=20;if(b6){b5=+b6[2];ca=b6[3]||(bJ.cssNumber[e]?"":"px");if(ca!=="px"&&b3){b3=bJ.css(cb.elem,e,true)||b5||1;do{b4=b4||".5";b3=b3/b4;bJ.style(cb.elem,e,b3+ca)}while(b4!==(b4=cb.cur()/b7)&&b4!==1&&--b8)}cb.unit=ca;cb.start=b3;cb.end=b6[1]?b3+(b6[1]+1)*b5:b5}return cb}]};function bm(){setTimeout(function(){K=aG});return(K=bJ.now())}function be(b3,e){bJ.each(e,function(b8,b6){var b7=(a0[b8]||[]).concat(a0["*"]),b4=0,b5=b7.length;for(;b4<b5;b4++){if(b7[b4].call(b3,b8,b6)){return}}})}function f(b4,b8,cb){var cc,e,b7=0,b3=aB.length,ca=bJ.Deferred().always(function(){delete b6.elem}),b6=function(){if(e){return false}var ci=K||bm(),cf=Math.max(0,b5.startTime+b5.duration-ci),cd=cf/b5.duration||0,ch=1-cd,ce=0,cg=b5.tweens.length;for(;ce<cg;ce++){b5.tweens[ce].run(ch)}ca.notifyWith(b4,[b5,ch,cf]);if(ch<1&&cg){return cf}else{ca.resolveWith(b4,[b5]);return false}},b5=ca.promise({elem:b4,props:bJ.extend({},b8),opts:bJ.extend(true,{specialEasing:{}},cb),originalProperties:b8,originalOptions:cb,startTime:K||bm(),duration:cb.duration,tweens:[],createTween:function(cf,cd){var ce=bJ.Tween(b4,b5.opts,cf,cd,b5.opts.specialEasing[cf]||b5.opts.easing);b5.tweens.push(ce);return ce},stop:function(ce){var cd=0,cf=ce?b5.tweens.length:0;if(e){return this}e=true;for(;cd<cf;cd++){b5.tweens[cd].run(1)}if(ce){ca.resolveWith(b4,[b5,ce])}else{ca.rejectWith(b4,[b5,ce])}return this}}),b9=b5.props;am(b9,b5.opts.specialEasing);for(;b7<b3;b7++){cc=aB[b7].call(b5,b4,b9,b5.opts);if(cc){return cc}}be(b5,b9);if(bJ.isFunction(b5.opts.start)){b5.opts.start.call(b4,b5)}bJ.fx.timer(bJ.extend(b6,{elem:b4,anim:b5,queue:b5.opts.queue}));return b5.progress(b5.opts.progress).done(b5.opts.done,b5.opts.complete).fail(b5.opts.fail).always(b5.opts.always)}function am(b5,b7){var b6,b4,b3,b8,e;for(b3 in b5){b4=bJ.camelCase(b3);b8=b7[b4];b6=b5[b3];if(bJ.isArray(b6)){b8=b6[1];b6=b5[b3]=b6[0]}if(b3!==b4){b5[b4]=b6;delete b5[b3]}e=bJ.cssHooks[b4];if(e&&"expand" in e){b6=e.expand(b6);delete b5[b4];for(b3 in b6){if(!(b3 in b5)){b5[b3]=b6[b3];b7[b3]=b8}}}else{b7[b4]=b8}}}bJ.Animation=bJ.extend(f,{tweener:function(b3,b6){if(bJ.isFunction(b3)){b6=b3;b3=["*"]}else{b3=b3.split(" ")}var b5,e=0,b4=b3.length;for(;e<b4;e++){b5=b3[e];a0[b5]=a0[b5]||[];a0[b5].unshift(b6)}},prefilter:function(b3,e){if(e){aB.unshift(b3)}else{aB.push(b3)}}});function h(b6,cc,e){var b4,cb,b5,ce,ci,b8,ch,cg,cf,b7=this,b3=b6.style,cd={},ca=[],b9=b6.nodeType&&P(b6);if(!e.queue){cg=bJ._queueHooks(b6,"fx");if(cg.unqueued==null){cg.unqueued=0;cf=cg.empty.fire;cg.empty.fire=function(){if(!cg.unqueued){cf()}}}cg.unqueued++;b7.always(function(){b7.always(function(){cg.unqueued--;if(!bJ.queue(b6,"fx").length){cg.empty.fire()}})})}if(b6.nodeType===1&&("height" in cc||"width" in cc)){e.overflow=[b3.overflow,b3.overflowX,b3.overflowY];if(bJ.css(b6,"display")==="inline"&&bJ.css(b6,"float")==="none"){if(!bJ.support.inlineBlockNeedsLayout||bE(b6.nodeName)==="inline"){b3.display="inline-block"}else{b3.zoom=1}}}if(e.overflow){b3.overflow="hidden";if(!bJ.support.shrinkWrapBlocks){b7.always(function(){b3.overflow=e.overflow[0];b3.overflowX=e.overflow[1];b3.overflowY=e.overflow[2]})}}for(cb in cc){ce=cc[cb];if(bR.exec(ce)){delete cc[cb];b8=b8||ce==="toggle";if(ce===(b9?"hide":"show")){continue}ca.push(cb)}}b5=ca.length;if(b5){ci=bJ._data(b6,"fxshow")||bJ._data(b6,"fxshow",{});if("hidden" in ci){b9=ci.hidden}if(b8){ci.hidden=!b9}if(b9){bJ(b6).show()}else{b7.done(function(){bJ(b6).hide()})}b7.done(function(){var cj;bJ._removeData(b6,"fxshow");for(cj in cd){bJ.style(b6,cj,cd[cj])}});for(cb=0;cb<b5;cb++){b4=ca[cb];ch=b7.createTween(b4,b9?ci[b4]:0);cd[b4]=ci[b4]||bJ.style(b6,b4);if(!(b4 in ci)){ci[b4]=ch.start;if(b9){ch.end=ch.start;ch.start=b4==="width"||b4==="height"?1:0}}}}}function G(b4,b3,b6,e,b5){return new G.prototype.init(b4,b3,b6,e,b5)}bJ.Tween=G;G.prototype={constructor:G,init:function(b5,b3,b7,e,b6,b4){this.elem=b5;this.prop=b7;this.easing=b6||"swing";this.options=b3;this.start=this.now=this.cur();this.end=e;this.unit=b4||(bJ.cssNumber[b7]?"":"px")},cur:function(){var e=G.propHooks[this.prop];return e&&e.get?e.get(this):G.propHooks._default.get(this)},run:function(b4){var b3,e=G.propHooks[this.prop];if(this.options.duration){this.pos=b3=bJ.easing[this.easing](b4,this.options.duration*b4,0,1,this.options.duration)}else{this.pos=b3=b4}this.now=(this.end-this.start)*b3+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{G.propHooks._default.set(this)}return this}};G.prototype.init.prototype=G.prototype;G.propHooks={_default:{get:function(b3){var e;if(b3.elem[b3.prop]!=null&&(!b3.elem.style||b3.elem.style[b3.prop]==null)){return b3.elem[b3.prop]}e=bJ.css(b3.elem,b3.prop,"");return !e||e==="auto"?0:e},set:function(e){if(bJ.fx.step[e.prop]){bJ.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bJ.cssProps[e.prop]]!=null||bJ.cssHooks[e.prop])){bJ.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bJ.each(["toggle","show","hide"],function(b3,e){var b4=bJ.fn[e];bJ.fn[e]=function(b5,b7,b6){return b5==null||typeof b5==="boolean"?b4.apply(this,arguments):this.animate(bI(e,true),b5,b7,b6)}});bJ.fn.extend({fadeTo:function(e,b5,b4,b3){return this.filter(P).css("opacity",0).show().end().animate({opacity:b5},e,b4,b3)},animate:function(b8,b5,b7,b6){var b4=bJ.isEmptyObject(b8),e=bJ.speed(b5,b7,b6),b3=function(){var b9=f(this,bJ.extend({},b8),e);b3.finish=function(){b9.stop(true)};if(b4||bJ._data(this,"finish")){b9.stop(true)}};b3.finish=b3;return b4||e.queue===false?this.each(b3):this.queue(e.queue,b3)},stop:function(b4,b3,e){var b5=function(b6){var b7=b6.stop;delete b6.stop;b7(e)};if(typeof b4!=="string"){e=b3;b3=b4;b4=aG}if(b3&&b4!==false){this.queue(b4||"fx",[])}return this.each(function(){var b9=true,b6=b4!=null&&b4+"queueHooks",b8=bJ.timers,b7=bJ._data(this);if(b6){if(b7[b6]&&b7[b6].stop){b5(b7[b6])}}else{for(b6 in b7){if(b7[b6]&&b7[b6].stop&&bQ.test(b6)){b5(b7[b6])}}}for(b6=b8.length;b6--;){if(b8[b6].elem===this&&(b4==null||b8[b6].queue===b4)){b8[b6].anim.stop(e);b9=false;b8.splice(b6,1)}}if(b9||!e){bJ.dequeue(this,b4)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var b5,b8=bJ._data(this),b4=b8[e+"queue"],b3=b8[e+"queueHooks"],b7=bJ.timers,b6=b4?b4.length:0;b8.finish=true;bJ.queue(this,e,[]);if(b3&&b3.cur&&b3.cur.finish){b3.cur.finish.call(this)}for(b5=b7.length;b5--;){if(b7[b5].elem===this&&b7[b5].queue===e){b7[b5].anim.stop(true);b7.splice(b5,1)}}for(b5=0;b5<b6;b5++){if(b4[b5]&&b4[b5].finish){b4[b5].finish.call(this)}}delete b8.finish})}});function bI(b4,b6){var b5,e={height:b4},b3=0;b6=b6?1:0;for(;b3<4;b3+=2-b6){b5=bT[b3];e["margin"+b5]=e["padding"+b5]=b4}if(b6){e.opacity=e.width=b4}return e}bJ.each({slideDown:bI("show"),slideUp:bI("hide"),slideToggle:bI("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b3){bJ.fn[e]=function(b4,b6,b5){return this.animate(b3,b4,b6,b5)}});bJ.speed=function(b4,b5,b3){var e=b4&&typeof b4==="object"?bJ.extend({},b4):{complete:b3||!b3&&b5||bJ.isFunction(b4)&&b4,duration:b4,easing:b3&&b5||b5&&!bJ.isFunction(b5)&&b5};e.duration=bJ.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bJ.fx.speeds?bJ.fx.speeds[e.duration]:bJ.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bJ.isFunction(e.old)){e.old.call(this)}if(e.queue){bJ.dequeue(this,e.queue)}};return e};bJ.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bJ.timers=[];bJ.fx=G.prototype.init;bJ.fx.tick=function(){var b4,b3=bJ.timers,e=0;K=bJ.now();for(;e<b3.length;e++){b4=b3[e];if(!b4()&&b3[e]===b4){b3.splice(e--,1)}}if(!b3.length){bJ.fx.stop()}K=aG};bJ.fx.timer=function(e){if(e()&&bJ.timers.push(e)){bJ.fx.start()}};bJ.fx.interval=13;bJ.fx.start=function(){if(!ad){ad=setInterval(bJ.fx.tick,bJ.fx.interval)}};bJ.fx.stop=function(){clearInterval(ad);ad=null};bJ.fx.speeds={slow:600,fast:200,_default:400};bJ.fx.step={};if(bJ.expr&&bJ.expr.filters){bJ.expr.filters.animated=function(e){return bJ.grep(bJ.timers,function(b3){return e===b3.elem}).length}}bJ.fn.offset=function(b3){if(arguments.length){return b3===aG?this:this.each(function(b8){bJ.offset.setOffset(this,b3,b8)})}var e,b7,b5={top:0,left:0},b4=this[0],b6=b4&&b4.ownerDocument;if(!b6){return}e=b6.documentElement;if(!bJ.contains(e,b4)){return b5}if(typeof b4.getBoundingClientRect!==aC){b5=b4.getBoundingClientRect()}b7=bp(b6);return{top:b5.top+(b7.pageYOffset||e.scrollTop)-(e.clientTop||0),left:b5.left+(b7.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}};bJ.offset={setOffset:function(b5,ce,b8){var b9=bJ.css(b5,"position");if(b9==="static"){b5.style.position="relative"}var b7=bJ(b5),b3=b7.offset(),e=bJ.css(b5,"top"),cc=bJ.css(b5,"left"),cd=(b9==="absolute"||b9==="fixed")&&bJ.inArray("auto",[e,cc])>-1,cb={},ca={},b4,b6;if(cd){ca=b7.position();b4=ca.top;b6=ca.left}else{b4=parseFloat(e)||0;b6=parseFloat(cc)||0}if(bJ.isFunction(ce)){ce=ce.call(b5,b8,b3)}if(ce.top!=null){cb.top=(ce.top-b3.top)+b4}if(ce.left!=null){cb.left=(ce.left-b3.left)+b6}if("using" in ce){ce.using.call(b5,cb)}else{b7.css(cb)}}};bJ.fn.extend({position:function(){if(!this[0]){return}var b4,b5,e={top:0,left:0},b3=this[0];if(bJ.css(b3,"position")==="fixed"){b5=b3.getBoundingClientRect()}else{b4=this.offsetParent();b5=this.offset();if(!bJ.nodeName(b4[0],"html")){e=b4.offset()}e.top+=bJ.css(b4[0],"borderTopWidth",true);e.left+=bJ.css(b4[0],"borderLeftWidth",true)}return{top:b5.top-e.top-bJ.css(b3,"marginTop",true),left:b5.left-e.left-bJ.css(b3,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||l.documentElement;while(e&&(!bJ.nodeName(e,"html")&&bJ.css(e,"position")==="static")){e=e.offsetParent}return e||l.documentElement})}});bJ.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b4,b3){var e=/Y/.test(b3);bJ.fn[b4]=function(b5){return bJ.access(this,function(b6,b9,b8){var b7=bp(b6);if(b8===aG){return b7?(b3 in b7)?b7[b3]:b7.document.documentElement[b9]:b6[b9]}if(b7){b7.scrollTo(!e?b8:bJ(b7).scrollLeft(),e?b8:bJ(b7).scrollTop())}else{b6[b9]=b8}},b4,b5,arguments.length,null)}});function bp(e){return bJ.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bJ.each({Height:"height",Width:"width"},function(e,b3){bJ.each({padding:"inner"+e,content:b3,"":"outer"+e},function(b4,b5){bJ.fn[b5]=function(b9,b8){var b7=arguments.length&&(b4||typeof b9!=="boolean"),b6=b4||(b9===true||b8===true?"margin":"border");return bJ.access(this,function(cb,ca,cc){var cd;if(bJ.isWindow(cb)){return cb.document.documentElement["client"+e]}if(cb.nodeType===9){cd=cb.documentElement;return Math.max(cb.body["scroll"+e],cd["scroll"+e],cb.body["offset"+e],cd["offset"+e],cd["client"+e])}return cc===aG?bJ.css(cb,ca,b6):bJ.style(cb,ca,cc,b6)},b3,b7?b9:aG,b7,null)}})});a2.jQuery=a2.$=bJ;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bJ})}})(window);
/*!
 * jQuery Color Animations v2.0pre
 * http://jquery.org/
 *
 * Copyright 2011 John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(o,c){var j="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),g=/^([\-+])=\s*(\d+\.?\d*)/,f=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(p){return[p[1],p[2],p[3],p[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(p){return[2.55*p[1],2.55*p[2],2.55*p[3],p[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(p){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(p){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(p){return[p[1],p[2]/100,p[3]/100,p[4]]}}],d=o.Color=function(q,r,p,s){return new o.Color.fn.parse(q,r,p,s)},i={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:true},green:{idx:1,type:"byte",empty:true},blue:{idx:2,type:"byte",empty:true},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:true},saturation:{idx:1,type:"percent",empty:true},lightness:{idx:2,type:"percent",empty:true}}}},n={"byte":{floor:true,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:true}},l=i.rgba.props,m=d.support={},a,k=o.each;i.hsla.props.alpha=l.alpha;function h(r,t,q){var p=n[t.type]||{},s=t.empty||q;if(s&&r==null){return null}if(t.def&&r==null){return t.def}if(p.floor){r=~~r}else{r=parseFloat(r)}if(r==null||isNaN(r)){return t.def}if(p.mod){r=r%p.mod;return r<0?p.mod+r:r}return p.min>r?p.min:p.max<r?p.max:r}function e(p){var r=d(),q=r._rgba=[];p=p.toLowerCase();k(f,function(x,y){var w=y.re.exec(p),v=w&&y.parse(w),u,t=y.space||"rgba",s=i[t].cache;if(v){u=r[t](v);r[s]=u[s];q=r._rgba=u._rgba;return false}});if(q.length!==0){if(Math.max.apply(Math,q)===0){o.extend(q,a.transparent)}return r}if(p=a[p]){return p}}d.fn=d.prototype={constructor:d,parse:function(w,u,p,v){if(w===c){this._rgba=[null,null,null,null];return this}if(w instanceof o||w.nodeType){w=w instanceof o?w.css(u):o(w).css(u);u=c}var t=this,r=o.type(w),q=this._rgba=[],s;if(u!==c){w=[w,u,p,v];r="array"}if(r==="string"){return this.parse(e(w)||a._default)}if(r==="array"){k(l,function(x,y){q[y.idx]=h(w[y.idx],y)});return this}if(r==="object"){if(w instanceof d){k(i,function(x,y){if(w[y.cache]){t[y.cache]=w[y.cache].slice()}})}else{k(i,function(x,y){k(y.props,function(A,B){var z=y.cache;if(!t[z]&&y.to){if(w[A]==null||A==="alpha"){return}t[z]=y.to(t._rgba)}t[z][B.idx]=h(w[A],B,true)})})}return this}},is:function(r){var q=d(r),s=true,p=this;k(i,function(t,v){var u=q[v.cache],w;if(u){w=p[v.cache]||v.to&&v.to(p._rgba)||[];k(v.props,function(x,y){if(u[y.idx]!=null){s=(u[y.idx]===w[y.idx]);return s}})}return s});return s},_space:function(){var p=[],q=this;k(i,function(r,s){if(q[s.cache]){p.push(r)}});return p.pop()},transition:function(q,v){var r=d(q),s=r._space(),t=i[s],u=this[t.cache]||t.to(this._rgba),p=u.slice();r=r[t.cache];k(t.props,function(z,B){var y=B.idx,x=u[y],w=r[y],A=n[B.type]||{};if(w===null){return}if(x===null){p[y]=w}else{if(A.mod){if(w-x>A.mod/2){x+=A.mod}else{if(x-w>A.mod/2){x-=A.mod}}}p[B.idx]=h((w-x)*v+x,B)}});return this[s](p)},blend:function(s){if(this._rgba[3]===1){return this}var r=this._rgba.slice(),q=r.pop(),p=d(s)._rgba;return d(o.map(r,function(t,u){return(1-q)*p[u]+q*t}))},toRgbaString:function(){var q="rgba(",p=o.map(this._rgba,function(r,s){return r==null?(s>2?1:0):r});if(p[3]===1){p.pop();q="rgb("}return q+p.join(",")+")"},toHslaString:function(){var q="hsla(",p=o.map(this.hsla(),function(r,s){if(r==null){r=s>2?1:0}if(s&&s<3){r=Math.round(r*100)+"%"}return r});if(p[3]===1){p.pop();q="hsl("}return q+p.join(",")+")"},toHexString:function(p){var q=this._rgba.slice(),r=q.pop();if(p){q.push(~~(r*255))}return"#"+o.map(q,function(s,t){s=(s||0).toString(16);return s.length===1?"0"+s:s}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}};d.fn.parse.prototype=d.fn;function b(t,s,r){r=(r+1)%1;if(r*6<1){return t+(s-t)*6*r}if(r*2<1){return s}if(r*3<2){return t+(s-t)*((2/3)-r)*6}return t}i.hsla.to=function(t){if(t[0]==null||t[1]==null||t[2]==null){return[null,null,null,t[3]]}var p=t[0]/255,w=t[1]/255,x=t[2]/255,z=t[3],y=Math.max(p,w,x),u=Math.min(p,w,x),A=y-u,B=y+u,q=B*0.5,v,C;if(u===y){v=0}else{if(p===y){v=(60*(w-x)/A)+360}else{if(w===y){v=(60*(x-p)/A)+120}else{v=(60*(p-w)/A)+240}}}if(q===0||q===1){C=q}else{if(q<=0.5){C=A/B}else{C=A/(2-B)}}return[Math.round(v)%360,C,q,z==null?1:z]};i.hsla.from=function(v){if(v[0]==null||v[1]==null||v[2]==null){return[null,null,null,v[3]]}var y=v[0]/360,C=v[1],x=v[2],B=v[3],u=x<=0.5?x*(1+C):x+C-x*C,w=2*x-u,t,z,A;return[Math.round(b(w,u,y+(1/3))*255),Math.round(b(w,u,y)*255),Math.round(b(w,u,y-(1/3))*255),B]};k(i,function(q,s){var r=s.props,p=s.cache,u=s.to,t=s.from;d.fn[q]=function(z){if(u&&!this[p]){this[p]=u(this._rgba)}if(z===c){return this[p].slice()}var y=o.type(z),v=(y==="array"||y==="object")?z:arguments,x=this[p].slice(),w;k(r,function(A,C){var B=v[y==="object"?A:C.idx];if(B==null){B=x[C.idx]}x[C.idx]=h(B,C)});if(t){w=d(t(x));w[p]=x;return w}else{return d(x)}};k(r,function(v,w){if(d.fn[v]){return}d.fn[v]=function(A){var C=o.type(A),z=(v==="alpha"?(this._hsla?"hsla":"rgba"):q),y=this[z](),B=y[w.idx],x;if(C==="undefined"){return B}if(C==="function"){A=A.call(this,B);C=o.type(A)}if(A==null&&w.empty){return this}if(C==="string"){x=g.exec(A);if(x){A=B+parseFloat(x[2])*(x[1]==="+"?1:-1)}}y[w.idx]=A;return this[z](y)}})});k(j,function(p,q){o.cssHooks[q]={set:function(u,v){var s,r,t;if(o.type(v)!=="string"||(s=e(v))){v=d(s||v);if(!m.rgba&&v._rgba[3]!==1){t=q==="backgroundColor"?u.parentNode:u;do{r=o.curCSS(t,"backgroundColor")}while((r===""||r==="transparent")&&(t=t.parentNode)&&t.style);v=v.blend(r&&r!=="transparent"?r:"_default")}v=v.toRgbaString()}u.style[q]=v}};o.fx.step[q]=function(r){if(!r.colorInit){r.start=d(r.elem,q);r.end=d(r.end);r.colorInit=true}o.cssHooks[q].set(r.elem,r.start.transition(r.end,r.pos))}});o(function(){var q=document.createElement("div"),p=q.style;p.cssText="background-color:rgba(1,1,1,.5)";m.rgba=p.backgroundColor.indexOf("rgba")>-1});a=o.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(a){a.Jcrop=function(e,C){var J=a.extend({},a.Jcrop.defaults),ag,aj=navigator.userAgent.toLowerCase(),ad=/msie/.test(aj),ai=/msie [1-6]\./.test(aj);function n(av){return Math.round(av)+"px"}function E(av){return J.baseClass+"-"+av}function F(){return a.fx.step.hasOwnProperty("backgroundColor")}function G(av){var aw=a(av).offset();return[aw.left,aw.top]}function H(av){return[(av.pageX-ag[0]),(av.pageY-ag[1])]}function B(av){if(typeof(av)!=="object"){av={}}J=a.extend(J,av);a.each(["onChange","onSelect","onRelease","onDblClick"],function(aw,ax){if(typeof(J[ax])!=="function"){J[ax]=function(){}}})}function g(ax,aA,az){ag=G(at);Q.setCursor(ax==="move"?ax:ax+"-resize");if(ax==="move"){return Q.activateHandlers(S(aA),r,az)}var av=ab.getFixed();var aw=t(ax);var ay=ab.getCorner(t(aw));ab.setPressed(ab.getCorner(aw));ab.setCurrent(ay);Q.activateHandlers(I(ax,av),r,az)}function I(aw,av){return function(ax){if(!J.aspectRatio){switch(aw){case"e":ax[1]=av.y2;break;case"w":ax[1]=av.y2;break;case"n":ax[0]=av.x2;break;case"s":ax[0]=av.x2;break}}else{switch(aw){case"e":ax[1]=av.y+1;break;case"w":ax[1]=av.y+1;break;case"n":ax[0]=av.x+1;break;case"s":ax[0]=av.x+1;break}}ab.setCurrent(ax);X.update()}}function S(aw){var av=aw;ar.watchKeys();return function(ax){ab.moveOffset([ax[0]-av[0],ax[1]-av[1]]);av=ax;X.update()}}function t(av){switch(av){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function c(av){return function(aw){if(J.disabled){return false}if((av==="move")&&!J.allowMove){return false}ag=G(at);s=true;g(av,H(aw));aw.stopPropagation();aw.preventDefault();return false}}function V(az,aw,ay){var av=az.width(),ax=az.height();if((av>aw)&&aw>0){av=aw;ax=(aw/az.width())*az.height()}if((ax>ay)&&ay>0){ax=ay;av=(ay/az.height())*az.width()}N=az.width()/av;f=az.height()/ax;az.width(av).height(ax)}function Z(av){return{x:av.x*N,y:av.y*f,x2:av.x2*N,y2:av.y2*f,w:av.w*N,h:av.h*f}}function r(aw){var av=ab.getFixed();if((av.w>J.minSelect[0])&&(av.h>J.minSelect[1])){X.enableHandles();X.done()}else{X.release()}Q.setCursor(J.allowSelect?"crosshair":"default")}function af(av){if(J.disabled){return false}if(!J.allowSelect){return false}s=true;ag=G(at);X.disableHandles();Q.setCursor("crosshair");var aw=H(av);ab.setPressed(aw);X.update();Q.activateHandlers(aq,r,av.type.substring(0,5)==="touch");ar.watchKeys();av.stopPropagation();av.preventDefault();return false}function aq(av){ab.setCurrent(av);X.update()}function ah(){var av=a("<div></div>").addClass(E("tracker"));if(ad){av.css({opacity:0,backgroundColor:"white"})}return av}if(typeof(e)!=="object"){e=a(e)[0]}if(typeof(C)!=="object"){C={}}B(C);var j={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0};var Y=a(e),al=true;if(e.tagName=="IMG"){if(Y[0].width!=0&&Y[0].height!=0){Y.width(Y[0].width);Y.height(Y[0].height)}else{var w=new Image();w.src=Y[0].src;Y.width(w.width);Y.height(w.height)}var at=Y.clone().removeAttr("id").css(j).show();at.width(Y.width());at.height(Y.height());Y.after(at).hide()}else{at=Y.css(j).show();al=false;if(J.shade===null){J.shade=true}}V(at,J.boxWidth,J.boxHeight);var R=at.width(),P=at.height(),aa=a("<div />").width(R).height(P).addClass(E("holder")).css({position:"relative",backgroundColor:J.bgColor}).insertAfter(Y).append(at);if(J.addClass){aa.addClass(J.addClass)}var K=a("<div />"),m=a("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),M=a("<div />").width("100%").height("100%").css("zIndex",320),A=a("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var av=ab.getFixed();J.onDblClick.call(i,av)}).insertBefore(at).append(m,M);if(al){K=a("<img />").attr("src",at.attr("src")).css(j).width(R).height(P),m.append(K)}if(ai){A.css({overflowY:"hidden"})}var v=J.boundary;var b=ah().width(R+(v*2)).height(P+(v*2)).css({position:"absolute",top:n(-v),left:n(-v),zIndex:290}).mousedown(af);var ap=J.bgColor,ac=J.bgOpacity,z,an,q,U,N,f,p=true,s,D,ae;ag=G(at);var T=(function(){function av(){var aC={},aA=["touchstart","touchmove","touchend"],aB=document.createElement("div"),az;try{for(az=0;az<aA.length;az++){var ax=aA[az];ax="on"+ax;var ay=(ax in aB);if(!ay){aB.setAttribute(ax,"return;");ay=typeof aB[ax]=="function"}aC[aA[az]]=ay}return aC.touchstart&&aC.touchend&&aC.touchmove}catch(aD){return false}}function aw(){if((J.touchSupport===true)||(J.touchSupport===false)){return J.touchSupport}else{return av()}}return{createDragger:function(ax){return function(ay){if(J.disabled){return false}if((ax==="move")&&!J.allowMove){return false}ag=G(at);s=true;g(ax,H(T.cfilter(ay)),true);ay.stopPropagation();ay.preventDefault();return false}},newSelection:function(ax){return af(T.cfilter(ax))},cfilter:function(ax){ax.pageX=ax.originalEvent.changedTouches[0].pageX;ax.pageY=ax.originalEvent.changedTouches[0].pageY;return ax},isSupported:av,support:aw()}}());var ab=(function(){var ax=0,aI=0,aw=0,aH=0,aA,ay;function aC(aL){aL=az(aL);aw=ax=aL[0];aH=aI=aL[1]}function aB(aL){aL=az(aL);aA=aL[0]-aw;ay=aL[1]-aH;aw=aL[0];aH=aL[1]}function aK(){return[aA,ay]}function av(aN){var aM=aN[0],aL=aN[1];if(0>ax+aM){aM-=aM+ax}if(0>aI+aL){aL-=aL+aI}if(P<aH+aL){aL+=P-(aH+aL)}if(R<aw+aM){aM+=R-(aw+aM)}ax+=aM;aw+=aM;aI+=aL;aH+=aL}function aD(aL){var aM=aJ();switch(aL){case"ne":return[aM.x2,aM.y];case"nw":return[aM.x,aM.y];case"se":return[aM.x2,aM.y2];case"sw":return[aM.x,aM.y2]}}function aJ(){if(!J.aspectRatio){return aG()}var aN=J.aspectRatio,aU=J.minSize[0]/N,aM=J.maxSize[0]/N,aX=J.maxSize[1]/f,aO=aw-ax,aW=aH-aI,aP=Math.abs(aO),aQ=Math.abs(aW),aS=aP/aQ,aL,aT,aV,aR;if(aM===0){aM=R*10}if(aX===0){aX=P*10}if(aS<aN){aT=aH;aV=aQ*aN;aL=aO<0?ax-aV:aV+ax;if(aL<0){aL=0;aR=Math.abs((aL-ax)/aN);aT=aW<0?aI-aR:aR+aI}else{if(aL>R){aL=R;aR=Math.abs((aL-ax)/aN);aT=aW<0?aI-aR:aR+aI}}}else{aL=aw;aR=aP/aN;aT=aW<0?aI-aR:aI+aR;if(aT<0){aT=0;aV=Math.abs((aT-aI)*aN);aL=aO<0?ax-aV:aV+ax}else{if(aT>P){aT=P;aV=Math.abs(aT-aI)*aN;aL=aO<0?ax-aV:aV+ax}}}if(aL>ax){if(aL-ax<aU){aL=ax+aU}else{if(aL-ax>aM){aL=ax+aM}}if(aT>aI){aT=aI+(aL-ax)/aN}else{aT=aI-(aL-ax)/aN}}else{if(aL<ax){if(ax-aL<aU){aL=ax-aU}else{if(ax-aL>aM){aL=ax-aM}}if(aT>aI){aT=aI+(ax-aL)/aN}else{aT=aI-(ax-aL)/aN}}}if(aL<0){ax-=aL;aL=0}else{if(aL>R){ax-=aL-R;aL=R}}if(aT<0){aI-=aT;aT=0}else{if(aT>P){aI-=aT-P;aT=P}}return aF(aE(ax,aI,aL,aT))}function az(aL){if(aL[0]<0){aL[0]=0}if(aL[1]<0){aL[1]=0}if(aL[0]>R){aL[0]=R}if(aL[1]>P){aL[1]=P}return[Math.round(aL[0]),Math.round(aL[1])]}function aE(aO,aQ,aN,aP){var aS=aO,aR=aN,aM=aQ,aL=aP;if(aN<aO){aS=aN;aR=aO}if(aP<aQ){aM=aP;aL=aQ}return[aS,aM,aR,aL]}function aG(){var aM=aw-ax,aL=aH-aI,aN;if(z&&(Math.abs(aM)>z)){aw=(aM>0)?(ax+z):(ax-z)}if(an&&(Math.abs(aL)>an)){aH=(aL>0)?(aI+an):(aI-an)}if(U/f&&(Math.abs(aL)<U/f)){aH=(aL>0)?(aI+U/f):(aI-U/f)}if(q/N&&(Math.abs(aM)<q/N)){aw=(aM>0)?(ax+q/N):(ax-q/N)}if(ax<0){aw-=ax;ax-=ax}if(aI<0){aH-=aI;aI-=aI}if(aw<0){ax-=aw;aw-=aw}if(aH<0){aI-=aH;aH-=aH}if(aw>R){aN=aw-R;ax-=aN;aw-=aN}if(aH>P){aN=aH-P;aI-=aN;aH-=aN}if(ax>R){aN=ax-P;aH-=aN;aI-=aN}if(aI>P){aN=aI-P;aH-=aN;aI-=aN}return aF(aE(ax,aI,aw,aH))}function aF(aL){return{x:aL[0],y:aL[1],x2:aL[2],y2:aL[3],w:aL[2]-aL[0],h:aL[3]-aL[1]}}return{flipCoords:aE,setPressed:aC,setCurrent:aB,getOffset:aK,moveOffset:av,getCorner:aD,getFixed:aJ}}());var d=(function(){var aA=false,aF=a("<div />").css({position:"absolute",zIndex:240,opacity:0}),az={top:aB(),left:aB().height(P),right:aB().height(P),bottom:aB()};function aH(aI,aJ){az.left.css({height:n(aJ)});az.right.css({height:n(aJ)})}function ax(){return aC(ab.getFixed())}function aC(aI){az.top.css({left:n(aI.x),width:n(aI.w),height:n(aI.y)});az.bottom.css({top:n(aI.y2),left:n(aI.x),width:n(aI.w),height:n(P-aI.y2)});az.right.css({left:n(aI.x2),width:n(R-aI.x2)});az.left.css({width:n(aI.x)})}function aB(){return a("<div />").css({position:"absolute",backgroundColor:J.shadeColor||J.bgColor}).appendTo(aF)}function ay(){if(!aA){aA=true;aF.insertBefore(at);ax();X.setBgOpacity(1,0,1);K.hide();aE(J.shadeColor||J.bgColor,1);if(X.isAwake()){aw(J.bgOpacity,1)}else{aw(1,1)}}}function aE(aI,aJ){h(av(),aI,aJ)}function aG(){if(aA){aF.remove();K.show();aA=false;if(X.isAwake()){X.setBgOpacity(J.bgOpacity,1,1)}else{X.setBgOpacity(1,1,1);X.disableHandles()}h(aa,0,1)}}function aw(aJ,aI){if(aA){if(J.bgFade&&!aI){aF.animate({opacity:1-aJ},{queue:false,duration:J.fadeTime})}else{aF.css({opacity:1-aJ})}}}function aD(){J.shade?ay():aG();if(X.isAwake()){aw(J.bgOpacity)}}function av(){return aF.children()}return{update:ax,updateRaw:aC,getShades:av,setBgColor:aE,enable:ay,disable:aG,resize:aH,refresh:aD,opacity:aw}}());var X=(function(){var aG,aP=370,aC={},aS={},ax={},az=false;function aD(aW){var aX=a("<div />").css({position:"absolute",opacity:J.borderOpacity}).addClass(E(aW));m.append(aX);return aX}function ay(aW,aX){var aY=a("<div />").mousedown(c(aW)).css({cursor:aW+"-resize",position:"absolute",zIndex:aX}).addClass("ord-"+aW);if(T.support){aY.bind("touchstart.jcrop",T.createDragger(aW))}M.append(aY);return aY}function aH(aW){var aX=J.handleSize,aY=ay(aW,aP++).css({opacity:J.handleOpacity}).addClass(E("handle"));if(aX){aY.width(aX).height(aX)}return aY}function aN(aW){return ay(aW,aP++).addClass("jcrop-dragbar")}function aK(aW){var aX;for(aX=0;aX<aW.length;aX++){ax[aW[aX]]=aN(aW[aX])}}function aO(aW){var aX,aY;for(aY=0;aY<aW.length;aY++){switch(aW[aY]){case"n":aX="hline";break;case"s":aX="hline bottom";break;case"e":aX="vline right";break;case"w":aX="vline";break}aC[aW[aY]]=aD(aX)}}function aJ(aW){var aX;for(aX=0;aX<aW.length;aX++){aS[aW[aX]]=aH(aW[aX])}}function aF(aW,aX){if(!J.shade){K.css({top:n(-aX),left:n(-aW)})}A.css({top:n(aX),left:n(aW)})}function aV(aW,aX){A.width(Math.round(aW)).height(Math.round(aX))}function aA(){var aW=ab.getFixed();ab.setPressed([aW.x,aW.y]);ab.setCurrent([aW.x2,aW.y2]);aT()}function aT(aW){if(aG){return aE(aW)}}function aE(aW){var aX=ab.getFixed();aV(aX.w,aX.h);aF(aX.x,aX.y);if(J.shade){d.updateRaw(aX)}aG||aU();if(aW){J.onSelect.call(i,Z(aX))}else{J.onChange.call(i,Z(aX))}}function aw(aX,aY,aW){if(!aG&&!aY){return}if(J.bgFade&&!aW){at.animate({opacity:aX},{queue:false,duration:J.fadeTime})}else{at.css("opacity",aX)}}function aU(){A.show();if(J.shade){d.opacity(ac)}else{aw(ac,true)}aG=true}function aQ(){aR();A.hide();if(J.shade){d.opacity(1)}else{aw(1)}aG=false;J.onRelease.call(i)}function av(){if(az){M.show()}}function aL(){az=true;if(J.allowResize){M.show();return true}}function aR(){az=false;M.hide()}function aM(aW){if(aW){D=true;aR()}else{D=false;aL()}}function aI(){aM(false);aA()}if(J.dragEdges&&a.isArray(J.createDragbars)){aK(J.createDragbars)}if(a.isArray(J.createHandles)){aJ(J.createHandles)}if(J.drawBorders&&a.isArray(J.createBorders)){aO(J.createBorders)}a(document).bind("touchstart.jcrop-ios",function(aW){if(a(aW.currentTarget).hasClass("jcrop-tracker")){aW.stopPropagation()}});var aB=ah().mousedown(c("move")).css({cursor:"move",position:"absolute",zIndex:360});if(T.support){aB.bind("touchstart.jcrop",T.createDragger("move"))}m.append(aB);aR();return{updateVisible:aT,update:aE,release:aQ,refresh:aA,isAwake:function(){return aG},setCursor:function(aW){aB.css("cursor",aW)},enableHandles:aL,enableOnly:function(){az=true},showHandles:av,disableHandles:aR,animMode:aM,setBgOpacity:aw,done:aI}}());var Q=(function(){var aw=function(){},ay=function(){},ax=J.trackDocument;function aF(aG){b.css({zIndex:450});if(aG){a(document).bind("touchmove.jcrop",aE).bind("touchend.jcrop",aB)}else{if(ax){a(document).bind("mousemove.jcrop",av).bind("mouseup.jcrop",az)}}}function aD(){b.css({zIndex:290});a(document).unbind(".jcrop")}function av(aG){aw(H(aG));return false}function az(aG){aG.preventDefault();aG.stopPropagation();if(s){s=false;ay(H(aG));if(X.isAwake()){J.onSelect.call(i,Z(ab.getFixed()))}aD();aw=function(){};ay=function(){}}return false}function aA(aH,aG,aI){s=true;aw=aH;ay=aG;aF(aI);return false}function aE(aG){aw(H(T.cfilter(aG)));return false}function aB(aG){return az(T.cfilter(aG))}function aC(aG){b.css("cursor",aG)}if(!ax){b.mousemove(av).mouseup(az).mouseout(az)}at.before(b);return{activateHandlers:aA,setCursor:aC}}());var ar=(function(){var ay=a('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),aA=a("<div />").css({position:"absolute",overflow:"hidden"}).append(ay);function aw(){if(J.keySupport){ay.show();ay.focus()}}function az(aB){ay.hide()}function ax(aC,aB,aD){if(J.allowMove){ab.moveOffset([aB,aD]);X.updateVisible(true)}aC.preventDefault();aC.stopPropagation()}function av(aC){if(aC.ctrlKey||aC.metaKey){return true}ae=aC.shiftKey?true:false;var aB=ae?10:1;switch(aC.keyCode){case 37:ax(aC,-aB,0);break;case 39:ax(aC,aB,0);break;case 38:ax(aC,0,-aB);break;case 40:ax(aC,0,aB);break;case 27:if(J.allowSelect){X.release()}break;case 9:return true}return false}if(J.keySupport){ay.keydown(av).blur(az);if(ai||!J.fixedSupport){ay.css({position:"absolute",left:"-20px"});aA.append(ay).insertBefore(at)}else{ay.insertBefore(at)}}return{watchKeys:aw}}());function l(av){aa.removeClass().addClass(E("holder")).addClass(av)}function u(aO,aC){var aI=aO[0]/N,ax=aO[1]/f,aH=aO[2]/N,aw=aO[3]/f;if(D){return}var aG=ab.flipCoords(aI,ax,aH,aw),aM=ab.getFixed(),aJ=[aM.x,aM.y,aM.x2,aM.y2],az=aJ,ay=J.animationDelay,aL=aG[0]-aJ[0],aB=aG[1]-aJ[1],aK=aG[2]-aJ[2],aA=aG[3]-aJ[3],aF=0,aD=J.swingSpeed;aI=az[0];ax=az[1];aH=az[2];aw=az[3];X.animMode(true);var av;function aE(){window.setTimeout(aN,ay)}var aN=(function(){return function(){aF+=(100-aF)/aD;az[0]=Math.round(aI+((aF/100)*aL));az[1]=Math.round(ax+((aF/100)*aB));az[2]=Math.round(aH+((aF/100)*aK));az[3]=Math.round(aw+((aF/100)*aA));if(aF>=99.8){aF=100}if(aF<100){ao(az);aE()}else{X.done();X.animMode(false);if(typeof(aC)==="function"){aC.call(i)}}}}());aE()}function L(av){ao([av[0]/N,av[1]/f,av[2]/N,av[3]/f]);J.onSelect.call(i,Z(ab.getFixed()));X.enableHandles()}function ao(av){ab.setPressed([av[0],av[1]]);ab.setCurrent([av[2],av[3]]);X.update()}function k(){return Z(ab.getFixed())}function am(){return ab.getFixed()}function x(av){B(av);O()}function y(){J.disabled=true;X.disableHandles();X.setCursor("default");Q.setCursor("default")}function W(){J.disabled=false;O()}function o(){X.done();Q.activateHandlers(null,null)}function ak(){aa.remove();Y.show();Y.css("visibility","visible");a(e).removeData("Jcrop")}function au(aw,ax){X.release();y();var av=new Image();av.onload=function(){var ay=av.width;var aA=av.height;var aB=J.boxWidth;var az=J.boxHeight;at.width(ay).height(aA);at.attr("src",aw);K.attr("src",aw);V(at,aB,az);R=at.width();P=at.height();K.width(R).height(P);b.width(R+(v*2)).height(P+(v*2));aa.width(R).height(P);d.resize(R,P);W();if(typeof(ax)==="function"){ax.call(i)}};av.src=aw}function h(ay,av,aw){var ax=av||J.bgColor;if(J.bgFade&&F()&&J.fadeTime&&!aw){ay.animate({backgroundColor:ax},{queue:false,duration:J.fadeTime})}else{ay.css("backgroundColor",ax)}}function O(av){if(J.allowResize){if(av){X.enableOnly()}else{X.enableHandles()}}else{X.disableHandles()}Q.setCursor(J.allowSelect?"crosshair":"default");X.setCursor(J.allowMove?"move":"default");if(J.hasOwnProperty("trueSize")){N=J.trueSize[0]/R;f=J.trueSize[1]/P}if(J.hasOwnProperty("setSelect")){L(J.setSelect);X.done();delete (J.setSelect)}d.refresh();if(J.bgColor!=ap){h(J.shade?d.getShades():aa,J.shade?(J.shadeColor||J.bgColor):J.bgColor);ap=J.bgColor}if(ac!=J.bgOpacity){ac=J.bgOpacity;if(J.shade){d.refresh()}else{X.setBgOpacity(ac)}}z=J.maxSize[0]||0;an=J.maxSize[1]||0;q=J.minSize[0]||0;U=J.minSize[1]||0;if(J.hasOwnProperty("outerImage")){at.attr("src",J.outerImage);delete (J.outerImage)}X.refresh()}if(T.support){b.bind("touchstart.jcrop",T.newSelection)}M.hide();O(true);var i={setImage:au,animateTo:u,setSelect:L,setOptions:x,tellSelect:k,tellScaled:am,setClass:l,disable:y,enable:W,cancel:o,release:X.release,destroy:ak,focus:ar.watchKeys,getBounds:function(){return[R*N,P*f]},getWidgetSize:function(){return[R,P]},getScaleFactor:function(){return[N,f]},getOptions:function(){return J},ui:{holder:aa,selection:A}};if(ad){aa.bind("selectstart",function(){return false})}Y.data("Jcrop",i);return i};a.fn.Jcrop=function(b,d){var c;this.each(function(){if(a(this).data("Jcrop")){if(b==="api"){return a(this).data("Jcrop")}else{a(this).data("Jcrop").setOptions(b)}}else{if(this.tagName=="IMG"){a.Jcrop.Loader(this,function(){a(this).css({display:"block",visibility:"hidden"});c=a.Jcrop(this,b);if(a.isFunction(d)){d.call(c)}})}else{a(this).css({display:"block",visibility:"hidden"});c=a.Jcrop(this,b);if(a.isFunction(d)){d.call(c)}}}});return this};a.Jcrop.Loader=function(f,g,c){var d=a(f),b=d[0];function e(){if(b.complete){d.unbind(".jcloader");if(a.isFunction(g)){g.call(b)}}else{window.setTimeout(e,50)}}d.bind("load.jcloader",e).bind("error.jcloader",function(h){d.unbind(".jcloader");if(a.isFunction(c)){c.call(b)}});if(b.complete&&a.isFunction(g)){d.unbind(".jcloader");g.call(b)}};a.Jcrop.defaults={allowSelect:true,allowMove:true,allowResize:true,trackDocument:true,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:0.6,bgFade:false,borderOpacity:0.4,handleOpacity:0.5,handleSize:null,aspectRatio:0,keySupport:true,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:true,dragEdges:true,fixedSupport:true,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery));window.Modernizr=function(ah,ag,af){function F(b){Y.cssText=b}function E(d,c){return F(V.join(d+";")+(c||""))}function S(d,c){return typeof d===c}function Q(d,c){return !!~(""+d).indexOf(c)}function O(g,c,j){for(var i in g){var h=c[g[i]];if(h!==af){return j===!1?g[i]:S(h,"function")?h.bind(j||c):h}}return !1}var ae="2.6.2",ad={},ac=!0,ab=ag.documentElement,aa="modernizr",Z=ag.createElement(aa),Y=Z.style,X,W={}.toString,V=" -webkit- -moz- -o- -ms- ".split(" "),U={svg:"http://www.w3.org/2000/svg"},T={},R={},P={},N=[],M=N.slice,K,J=function(v,u,t,s){var r,q,p,o,h=ag.createElement("div"),g=ag.body,b=g||ag.createElement("body");if(parseInt(t,10)){while(t--){p=ag.createElement("div"),p.id=s?s[t]:aa+(t+1),h.appendChild(p)}}return r=["&#173;",'<style id="s',aa,'">',v,"</style>"].join(""),h.id=aa,(g?h:b).innerHTML+=r,b.appendChild(h),g||(b.style.background="",b.style.overflow="hidden",o=ab.style.overflow,ab.style.overflow="hidden",ab.appendChild(b)),q=u(h,v),g?h.parentNode.removeChild(h):(b.parentNode.removeChild(b),ab.style.overflow=o),!!q},I=function(a){var f=ah.matchMedia||ah.msMatchMedia;if(f){return f(a).matches}var e;return J("@media "+a+" { #"+aa+" { position: absolute; } }",function(c){e=(ah.getComputedStyle?getComputedStyle(c,null):c.currentStyle)["position"]=="absolute"}),e},H={}.hasOwnProperty,G;!S(H,"undefined")&&!S(H.call,"undefined")?G=function(d,c){return H.call(d,c)}:G=function(d,c){return c in d&&S(d.constructor.prototype[c],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;if(typeof h!="function"){throw new TypeError}var g=M.call(arguments,1),f=function(){if(this instanceof f){var b=function(){};b.prototype=h.prototype;var d=new b,c=h.apply(d,g.concat(M.call(arguments)));return Object(c)===c?c:d}return h.apply(a,g.concat(M.call(arguments)))};return f}),T.touch=function(){var a;return"ontouchstart" in ah||ah.DocumentTouch&&ag instanceof DocumentTouch?a=!0:J(["@media (",V.join("touch-enabled),("),aa,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(b){a=b.offsetTop===9}),a},T.svg=function(){return !!ag.createElementNS&&!!ag.createElementNS(U.svg,"svg").createSVGRect},T.inlinesvg=function(){var b=ag.createElement("div");return b.innerHTML="<svg/>",(b.firstChild&&b.firstChild.namespaceURI)==U.svg},T.svgclippaths=function(){return !!ag.createElementNS&&/SVGClipPath/.test(W.call(ag.createElementNS(U.svg,"clipPath")))};for(var L in T){G(T,L)&&(K=L.toLowerCase(),ad[K]=T[L](),N.push((ad[K]?"":"no-")+K))}return ad.addTest=function(e,c){if(typeof e=="object"){for(var f in e){G(e,f)&&ad.addTest(f,e[f])}}else{e=e.toLowerCase();if(ad[e]!==af){return ad}c=typeof c=="function"?c():c,typeof ac!="undefined"&&ac&&(ab.className+=" "+(c?"":"no-")+e),ad[e]=c}return ad},F(""),Z=X=null,function(an,am){function z(f,e){var h=f.createElement("p"),g=f.getElementsByTagName("head")[0]||f.documentElement;return h.innerHTML="x<style>"+e+"</style>",g.insertBefore(h.lastChild,g.firstChild)}function y(){var b=s.elements;return typeof b=="string"?b.split(" "):b}function x(d){var c=B[d[D]];return c||(c={},C++,d[D]=C,B[C]=c),c}function w(b,h,e){h||(h=am);if(A){return h.createElement(b)}e||(e=x(h));var d;return e.cache[b]?d=e.cache[b].cloneNode():aj.test(b)?d=(e.cache[b]=e.createElem(b)).cloneNode():d=e.createElem(b),d.canHaveChildren&&!ak.test(b)?e.frag.appendChild(d):d}function v(b,l){b||(b=am);if(A){return b.createDocumentFragment()}l=l||x(b);var k=l.frag.cloneNode(),j=0,i=y(),h=i.length;for(;j<h;j++){k.createElement(i[j])}return k}function u(d,c){c.cache||(c.cache={},c.createElem=d.createElement,c.createFrag=d.createDocumentFragment,c.frag=c.createFrag()),d.createElement=function(a){return s.shivMethods?w(a,d,c):c.createElem(a)},d.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+y().join().replace(/\w+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(s,c.frag)}function t(b){b||(b=am);var d=x(b);return s.shivCSS&&!ai&&!d.hasCSS&&(d.hasCSS=!!z(b,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),A||u(b,d),b}var al=an.html5||{},ak=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,aj=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,ai,D="_html5shiv",C=0,B={},A;(function(){try{var b=am.createElement("a");b.innerHTML="<xyz></xyz>",ai="hidden" in b,A=b.childNodes.length==1||function(){am.createElement("a");var c=am.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()}catch(d){ai=!0,A=!0}})();var s={elements:al.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:al.shivCSS!==!1,supportsUnknownElements:A,shivMethods:al.shivMethods!==!1,type:"default",shivDocument:t,createElement:w,createDocumentFragment:v};an.html5=s,t(am)}(this,ag),ad._version=ae,ad._prefixes=V,ad.mq=I,ad.testStyles=J,ab.className=ab.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(ac?" js "+N.join(" "):""),ad}(this,this.document),function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)}function Z(b){return"string"==typeof b}function Y(){}function X(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b}function W(){var b=O.shift();M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),W()):M=0}function V(w,v,t,s,q,p,n){function m(a){if(!g&&X(h.readyState)&&(x.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=w&&R(function(){I.removeChild(h)},50);for(var c in D[v]){D[v].hasOwnProperty(c)&&D[v][c].onload()}}}var n=n||L.errorTimeout,h=ac.createElement(w),g=0,b=0,x={t:t,s:v,e:q,a:p,x:n};1===D[v]&&(b=1,D[v]=[]),"object"==w?h.data=v:(h.src=v,h.type=w),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)},O.splice(s,0,x),"img"!=w&&(b||2===D[v]?(I.insertBefore(h,J?null:Q),R(m,n)):D[v].push(h))}function U(g,e,j,i,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,j,i,h):(O.splice(this.i++,0,g),1==O.length&&W()),this}function T(){var b=L;return b.loader={load:U,i:0},b}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d}},N,L;L=function(e){function c(i){var i=i.split("!"),h=E.length,q=i.pop(),p=i.length,q={url:q,origUrl:q,prefixes:i},o,l,j;for(l=0;l<p;l++){j=i[l].split("="),(o=C[j.shift()])&&(q=o(q,j))}for(l=0;l<h;l++){q=E[l](q)}return q}function n(b,s,r,q,p){var o=c(b),l=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(s&&(s=aa(s)?s:s[b]||s[q]||s[b.split("/").pop().split("?")[0]]),o.instead?o.instead(b,s,r,q,p):(D[o.url]?o.noexec=!0:D[o.url]=1,r.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":ab,o.noexec,o.attrs,o.timeout),(aa(s)||aa(l))&&r.load(function(){T(),s&&s(o.origUrl,p,q),l&&l(o.origUrl,p,q),D[o.url]=2})))}function m(w,v){function u(b,h){if(b){if(Z(b)){h||(r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}),n(b,r,v,0,t)}else{if(Object(b)===b){for(g in o=function(){var a=0,i;for(i in b){b.hasOwnProperty(i)&&a++}return a}(),b){b.hasOwnProperty(g)&&(!h&&!--o&&(aa(r)?r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}:r[g]=function(i){return function(){var a=[].slice.call(arguments);i&&i.apply(this,a),p()}}(q[g])),n(b[g],r,v,g,t))}}}}else{!h&&p()}}var t=!!w.test,s=w.load||w.both,r=w.callback||Y,q=r,p=w.complete||Y,o,g;u(t?w.yep:w.nope,!!s),s&&u(s)}var k,f,d=this.yepnope.loader;if(Z(e)){n(e,0,d,0)}else{if(F(e)){for(k=0;k<e.length;k++){f=e[k],Z(f)?n(f,0,d,0):F(f)?L(f):Object(f)===f&&m(f,d)}}else{Object(e)===e&&m(e,d)}}},L.addPrefix=function(d,c){C[d]=c},L.addFilter=function(b){E.push(b)},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(r,q,p,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;g.src=r;for(b in p){g.setAttribute(b,p[b])}q=h?W:q||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,q(),g.onload=g.onreadystatechange=null)},R(function(){f||(f=1,q(1))},n),m?g.onload():Q.parentNode.insertBefore(g,Q)},ad.yepnope.injectCss=function(b,n,m,l,k,h){var l=ac.createElement("link"),f,n=h?W:n||Y;l.href=b,l.rel="stylesheet",l.type="text/css";for(f in m){l.setAttribute(f,m[f])}k||(Q.parentNode.insertBefore(l,Q),R(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("ie8compat",function(){return !window.addEventListener&&document.documentMode&&document.documentMode===7});var libFuncName=null;if(typeof jQuery==="undefined"&&typeof Zepto==="undefined"&&typeof $==="function"){libFuncName=$}else{if(typeof jQuery==="function"){libFuncName=jQuery}else{if(typeof Zepto==="function"){libFuncName=Zepto}else{throw new TypeError()}}}(function(c,b,a,d){b.matchMedia=b.matchMedia||(function(i,j){var g,e=i.documentElement,f=e.firstElementChild||e.firstChild,h=i.createElement("body"),k=i.createElement("div");k.id="mq-test-1";k.style.cssText="position:absolute;top:-100em";h.style.background="none";h.appendChild(k);return function(l){k.innerHTML='&shy;<style media="'+l+'"> #mq-test-1 { width: 42px; }</style>';e.insertBefore(h,f);g=k.offsetWidth===42;e.removeChild(h);return{matches:g,media:l}}}(a));if(!Array.prototype.filter){Array.prototype.filter=function(f){if(this==null){throw new TypeError()}var k=Object(this),e=k.length>>>0;if(typeof f!=="function"){return}var j=[],h=arguments[1];for(var g=0;g<e;g++){if(g in k){var l=k[g];if(f&&f.call(h,l,g,k)){j.push(l)}}}return j}}if(!Function.prototype.bind){Function.prototype.bind=function(e){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var i=Array.prototype.slice.call(arguments,1),h=this,f=function(){},g=function(){return h.apply(this instanceof f&&e?this:e,i.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;g.prototype=new f();return g}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(g){if(this==null){throw new TypeError()}var h=Object(this);var e=h.length>>>0;if(e===0){return -1}var i=0;if(arguments.length>1){i=Number(arguments[1]);if(i!=i){i=0}else{if(i!=0&&i!=Infinity&&i!=-Infinity){i=(i>0||-1)*Math.floor(Math.abs(i))}}}if(i>=e){return -1}var f=i>=0?i:Math.max(e-Math.abs(i),0);for(;f<e;f++){if(f in h&&h[f]===g){return f}}return -1}}c.fn.stop=c.fn.stop||function(){return this};b.Foundation={name:"Foundation",version:"4.3.1",cache:{},init:function(o,l,e,p,f,h){var j,m=[o,e,p,f],k=[],h=h||false;if(h){this.nc=h}this.rtl=/rtl/i.test(c("html").attr("dir"));this.scope=o||this.scope;if(l&&typeof l==="string"&&!/reflow/i.test(l)){if(/off/i.test(l)){return this.off()}j=l.split(" ");if(j.length>0){for(var g=j.length-1;g>=0;g--){k.push(this.init_lib(j[g],m))}}}else{if(/reflow/i.test(l)){m[1]="reflow"}for(var n in this.libs){k.push(this.init_lib(n,m))}}if(typeof l==="function"){m.unshift(l)}return this.response_obj(k,m)},response_obj:function(f,g){for(var h=0,e=g.length;h<e;h++){if(typeof g[h]==="function"){return g[h]({errors:f.filter(function(i){if(typeof i==="string"){return i}})})}}return f},init_lib:function(f,e){return this.trap(function(){if(this.libs.hasOwnProperty(f)){this.patch(this.libs[f]);return this.libs[f].init.apply(this.libs[f],e)}else{return function(){}}}.bind(this),f)},trap:function(f,h){if(!this.nc){try{return f()}catch(g){return this.error({name:h,message:"could not be initialized",more:g.name+" "+g.message})}}return f()},patch:function(e){this.fix_outer(e);e.scope=this.scope;e.rtl=this.rtl},inherit:function(h,f){var e=f.split(" ");for(var g=e.length-1;g>=0;g--){if(this.lib_methods.hasOwnProperty(e[g])){this.libs[h.name][e[g]]=this.lib_methods[e[g]]}}},random_str:function(g){var f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");if(!g){g=Math.floor(Math.random()*f.length)}var h="";for(var e=0;e<g;e++){h+=f[Math.floor(Math.random()*f.length)]}return h},libs:{},lib_methods:{set_data:function(e,f){var g=[this.name,+new Date(),Foundation.random_str(5)].join("-");Foundation.cache[g]=f;e.attr("data-"+this.name+"-id",g);return f},get_data:function(e){return Foundation.cache[e.attr("data-"+this.name+"-id")]},remove_data:function(e){if(e){delete Foundation.cache[e.attr("data-"+this.name+"-id")];e.attr("data-"+this.name+"-id","")}else{c("[data-"+this.name+"-id]").each(function(){delete Foundation.cache[c(this).attr("data-"+this.name+"-id")];c(this).attr("data-"+this.name+"-id","")})}},throttle:function(e,f){var g=null;return function(){var i=this,h=arguments;clearTimeout(g);g=setTimeout(function(){e.apply(i,h)},f)}},data_options:function(j){var k={},i,l,h=(j.attr("data-options")||":").split(";"),g=h.length;function f(m){return !isNaN(m-0)&&m!==null&&m!==""&&m!==false&&m!==true}function e(m){if(typeof m==="string"){return c.trim(m)}return m}for(i=g-1;i>=0;i--){l=h[i].split(":");if(/true/i.test(l[1])){l[1]=true}if(/false/i.test(l[1])){l[1]=false}if(f(l[1])){l[1]=parseInt(l[1],10)}if(l.length===2&&l[0].length>0){k[e(l[0])]=e(l[1])}}return k},delay:function(e,f){return setTimeout(e,f)},scrollTo:function(f,i,g){if(g<0){return}var h=i-c(b).scrollTop();var e=h/g*10;this.scrollToTimerCache=setTimeout(function(){if(!isNaN(parseInt(e,10))){b.scrollTo(0,c(b).scrollTop()+e);this.scrollTo(f,i,g-10)}}.bind(this),10)},scrollLeft:function(e){if(!e.length){return}return("scrollLeft" in e[0])?e[0].scrollLeft:e[0].pageXOffset},empty:function(f){if(f.length&&f.length>0){return false}if(f.length&&f.length===0){return true}for(var e in f){if(hasOwnProperty.call(f,e)){return false}}return true}},fix_outer:function(e){e.outerHeight=function(g,f){if(typeof Zepto==="function"){return g.height()}if(typeof f!=="undefined"){return g.outerHeight(f)}return g.outerHeight()};e.outerWidth=function(g,f){if(typeof Zepto==="function"){return g.width()}if(typeof f!=="undefined"){return g.outerWidth(f)}return g.outerWidth()}},error:function(e){return e.name+" "+e.message+"; "+e.more},off:function(){c(this.scope).off(".fndtn");c(b).off(".fndtn");return true},zj:c};c.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){Foundation.init.apply(Foundation,[this].concat(e));return this})}}(libFuncName,this,this.document));(function(c,b,a,d){Foundation.libs.abide={name:"abide",version:"4.3.0",settings:{live_validate:true,focus_on_invalid:true,timeout:1000,patterns:{alpha:/[a-zA-Z]+/,alpha_numeric:/[a-zA-Z0-9]+/,integer:/-?\d+/,number:/-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?/,password:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,url:/(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}$/,datetime:/([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/,time:/(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}/,dateISO:/\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,month_day_year:/(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.](19|20)\d\d/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/}},timer:null,init:function(f,g,e){if(typeof g==="object"){c.extend(true,this.settings,g)}if(typeof g!=="string"){if(!this.settings.init){this.events()}}else{return this[g].call(this,e)}},events:function(){var f=this,e=c("form[data-abide]",this.scope).attr("novalidate","novalidate");e.on("submit validate",function(g){return f.validate(c(this).find("input, textarea, select").get(),g)});this.settings.init=true;if(!this.settings.live_validate){return}e.find("input, textarea, select").on("blur change",function(g){f.validate([this],g)}).on("keydown",function(g){clearTimeout(f.timer);f.timer=setTimeout(function(){f.validate([this],g)}.bind(this),f.settings.timeout)})},validate:function(h,j){var g=this.parse_patterns(h),f=g.length,i=c(h[0]).closest("form");while(f--){if(!g[f]&&/submit/.test(j.type)){if(this.settings.focus_on_invalid){h[f].focus()}i.trigger("invalid");c(h[f]).closest("form").attr("data-invalid","");return false}}if(/submit/.test(j.type)){i.trigger("valid")}i.removeAttr("data-invalid");return true},parse_patterns:function(g){var h=g.length,e=[];for(var f=h-1;f>=0;f--){e.push(this.pattern(g[f]))}return this.check_validation_and_apply_styles(e)},pattern:function(f){var e=f.getAttribute("type"),h=typeof f.getAttribute("required")==="string";if(this.settings.patterns.hasOwnProperty(e)){return[f,this.settings.patterns[e],h]}var g=f.getAttribute("pattern")||"";if(this.settings.patterns.hasOwnProperty(g)&&g.length>0){return[f,this.settings.patterns[g],h]}else{if(g.length>0){return[f,new RegExp(g),h]}}g=/.*/;return[f,g,h]},check_validation_and_apply_styles:function(g){var j=g.length,f=[];for(var h=j-1;h>=0;h--){var e=g[h][0],l=g[h][2],m=e.value,n=e.type==="radio",k=(l)?(e.value.length>0):true;if(n&&l){f.push(this.valid_radio(e,l))}else{if(g[h][1].test(m)&&k||!l&&e.value.length<1){c(e).removeAttr("data-invalid").parent().removeClass("error");f.push(true)}else{c(e).attr("data-invalid","").parent().addClass("error");f.push(false)}}}return f},valid_radio:function(g,l){var e=g.getAttribute("name"),k=a.getElementsByName(e),j=k.length,h=false;for(var f=0;f<j;f++){if(k[f].checked){h=true}}for(var f=0;f<j;f++){if(h){c(k[f]).removeAttr("data-invalid").parent().removeClass("error")}else{c(k[f]).attr("data-invalid","").parent().addClass("error")}}return h}}}(Foundation.zj,this,this.document));(function(c,b,a,d){Foundation.libs.reveal={name:"reveal",version:"4.2.2",locked:false,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:true,closeOnEsc:true,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:c(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(f,g,e){Foundation.inherit(this,"data_options delay");if(typeof g==="object"){c.extend(true,this.settings,g)}else{if(typeof e!=="undefined"){c.extend(true,this.settings,e)}}if(typeof g!=="string"){this.events();return this.settings.init}else{return this[g].call(this,e)}},events:function(){var e=this;c(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(i){i.preventDefault();if(!e.locked){var g=c(this),h=g.data("reveal-ajax");e.locked=true;if(typeof h==="undefined"){e.open.call(e,g)}else{var f=h===true?g.attr("href"):h;e.open.call(e,g,{url:f})}}}).on("click.fndtn.reveal",this.close_targets(),function(g){g.preventDefault();if(!e.locked){var f=c.extend({},e.settings,e.data_options(c(".reveal-modal.open")));if(c(g.target)[0]===c("."+f.bgClass)[0]&&!f.closeOnBackgroundClick){return}e.locked=true;e.close.call(e,c(this).closest(".reveal-modal"))}}).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video);c("body").bind("keyup.reveal",function(h){var f=c(".reveal-modal.open"),g=c.extend({},e.settings,e.data_options(f));if(h.which===27&&g.closeOnEsc){f.foundation("reveal","close")}});return true},open:function(h,i){if(h){if(typeof h.selector!=="undefined"){var g=c("#"+h.data("reveal-id"))}else{var g=c(this.scope);i=h}}else{var g=c(this.scope)}if(!g.hasClass("open")){var f=c(".reveal-modal.open");if(typeof g.data("css-top")==="undefined"){g.data("css-top",parseInt(g.css("top"),10)).data("offset",this.cache_offset(g))}g.trigger("open");if(f.length<1){this.toggle_bg(g)}if(typeof i==="undefined"||!i.url){this.hide(f,this.settings.css.close);this.show(g,this.settings.css.open)}else{var e=this,j=typeof i.success!=="undefined"?i.success:null;c.extend(i,{success:function(l,m,k){if(c.isFunction(j)){j(l,m,k)}g.html(l);c(g).foundation("section","reflow");e.hide(f,e.settings.css.close);e.show(g,e.settings.css.open)}});c.ajax(i)}}},close:function(f){var f=f&&f.length?f:c(this.scope),e=c(".reveal-modal.open");if(e.length>0){this.locked=true;f.trigger("close");this.toggle_bg(f);this.hide(e,this.settings.css.close)}},close_targets:function(){var e="."+this.settings.dismissModalClass;if(this.settings.closeOnBackgroundClick){return e+", ."+this.settings.bgClass}return e},toggle_bg:function(e){if(c(".reveal-modal-bg").length===0){this.settings.bg=c("<div />",{"class":this.settings.bgClass}).appendTo("body")}if(this.settings.bg.filter(":visible").length>0){this.hide(this.settings.bg)}else{this.show(this.settings.bg)}},show:function(g,f){if(f){if(/pop/i.test(this.settings.animation)){f.top=c(b).scrollTop()-g.data("offset")+"px";var e={top:c(b).scrollTop()+g.data("css-top")+"px",opacity:1};return this.delay(function(){return g.css(f).animate(e,this.settings.animationSpeed,"linear",function(){this.locked=false;g.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var e={opacity:1};return this.delay(function(){return g.css(f).animate(e,this.settings.animationSpeed,"linear",function(){this.locked=false;g.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return g.css(f).show().css({opacity:1}).addClass("open").trigger("opened")}if(/fade/i.test(this.settings.animation)){return g.fadeIn(this.settings.animationSpeed/2)}return g.show()},hide:function(g,f){if(f){if(/pop/i.test(this.settings.animation)){var e={top:-c(b).scrollTop()-g.data("offset")+"px",opacity:0};return this.delay(function(){return g.animate(e,this.settings.animationSpeed,"linear",function(){this.locked=false;g.css(f).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var e={opacity:0};return this.delay(function(){return g.animate(e,this.settings.animationSpeed,"linear",function(){this.locked=false;g.css(f).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}return g.hide().css(f).removeClass("open").trigger("closed")}if(/fade/i.test(this.settings.animation)){return g.fadeOut(this.settings.animationSpeed/2)}return g.hide()},close_video:function(h){var g=c(this).find(".flex-video"),f=g.find("iframe");if(f.length>0){f.attr("data-src",f[0].src);f.attr("src","about:blank");g.hide()}},open_video:function(h){var g=c(this).find(".flex-video"),f=g.find("iframe");if(f.length>0){var j=f.attr("data-src");if(typeof j==="string"){f[0].src=f.attr("data-src")}else{var i=f[0].src;f[0].src=d;f[0].src=i}g.show()}},cache_offset:function(e){var f=e.show().height()+parseInt(e.css("top"),10);e.hide();return f},off:function(){c(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(Foundation.zj,this,this.document));(function(c,b,a,d){Foundation.libs.topbar={name:"topbar",version:"4.3.1",settings:{index:0,stickyClass:"sticky",custom_back_text:true,back_text:"Back",is_hover:true,mobile_show_parent_link:true,scrolltop:true,init:false},init:function(g,h,f){Foundation.inherit(this,"data_options");var e=this;if(typeof h==="object"){c.extend(true,this.settings,h)}else{if(typeof f!=="undefined"){c.extend(true,this.settings,f)}}if(typeof h!=="string"){c(".top-bar, [data-topbar]").each(function(){c.extend(true,e.settings,e.data_options(c(this)));e.settings.$w=c(b);e.settings.$topbar=c(this);e.settings.$section=e.settings.$topbar.find("section");e.settings.$titlebar=e.settings.$topbar.children("ul").first();e.settings.$topbar.data("index",0);var i=c("<div class='top-bar-js-breakpoint'/>").insertAfter(e.settings.$topbar);e.settings.breakPoint=i.width();i.remove();e.assemble();if(e.settings.is_hover){e.settings.$topbar.find(".has-dropdown").addClass("not-click")}if(e.settings.$topbar.parent().hasClass("fixed")){c("body").css("padding-top",e.outerHeight(e.settings.$topbar))}});if(!e.settings.init){this.events()}return this.settings.init}else{return this[h].call(this,f)}},timer:null,events:function(){var e=this;var f=this.outerHeight(c(".top-bar, [data-topbar]"));c(this.scope).off(".fndtn.topbar").on("click.fndtn.topbar",".top-bar .toggle-topbar, [data-topbar] .toggle-topbar",function(j){var g=c(this).closest(".top-bar, [data-topbar]"),i=g.find("section, .section"),h=g.children("ul").first();j.preventDefault();if(e.breakpoint()){if(!e.rtl){i.css({left:"0%"});i.find(">.name").css({left:"100%"})}else{i.css({right:"0%"});i.find(">.name").css({right:"100%"})}i.find("li.moved").removeClass("moved");g.data("index",0);g.toggleClass("expanded").css("height","")}if(!g.hasClass("expanded")){if(g.hasClass("fixed")){g.parent().addClass("fixed");g.removeClass("fixed");c("body").css("padding-top",f)}}else{if(g.parent().hasClass("fixed")){g.parent().removeClass("fixed");g.addClass("fixed");c("body").css("padding-top","0");if(e.settings.scrolltop){b.scrollTo(0,0)}}}}).on("click.fndtn.topbar",".top-bar li.has-dropdown",function(k){if(e.breakpoint()){return}var h=c(this),j=c(k.target),i=h.closest("[data-topbar], .top-bar"),g=i.data("topbar");if(e.settings.is_hover&&!Modernizr.touch){return}k.stopImmediatePropagation();if(j[0].nodeName==="A"&&j.parent().hasClass("has-dropdown")){k.preventDefault()}if(h.hasClass("hover")){h.removeClass("hover").find("li").removeClass("hover")}else{h.addClass("hover")}}).on("click.fndtn.topbar",".top-bar .has-dropdown>a, [data-topbar] .has-dropdown>a",function(m){if(e.breakpoint()){m.preventDefault();var l=c(this),h=l.closest(".top-bar, [data-topbar]"),k=h.find("section, .section"),j=h.children("ul").first(),i=l.next(".dropdown").outerHeight(),g=l.closest("li");h.data("index",h.data("index")+1);g.addClass("moved");if(!e.rtl){k.css({left:-(100*h.data("index"))+"%"});k.find(">.name").css({left:100*h.data("index")+"%"})}else{k.css({right:-(100*h.data("index"))+"%"});k.find(">.name").css({right:100*h.data("index")+"%"})}h.css("height",e.outerHeight(l.siblings("ul"),true)+e.height(j))}});c(b).on("resize.fndtn.topbar",function(){if(!e.breakpoint()){c(".top-bar, [data-topbar]").css("height","").removeClass("expanded").find("li").removeClass("hover")}}.bind(this));c("body").on("click.fndtn.topbar",function(h){var g=c(h.target).closest("[data-topbar], .top-bar");if(g.length>0){return}c(".top-bar li, [data-topbar] li").removeClass("hover")});c(this.scope).on("click.fndtn",".top-bar .has-dropdown .back, [data-topbar] .has-dropdown .back",function(m){m.preventDefault();var l=c(this),h=l.closest(".top-bar, [data-topbar]"),j=h.children("ul").first(),k=h.find("section, .section"),i=l.closest("li.moved"),g=i.parent();h.data("index",h.data("index")-1);if(!e.rtl){k.css({left:-(100*h.data("index"))+"%"});k.find(">.name").css({left:100*h.data("index")+"%"})}else{k.css({right:-(100*h.data("index"))+"%"});k.find(">.name").css({right:100*h.data("index")+"%"})}if(h.data("index")===0){h.css("height","")}else{h.css("height",e.outerHeight(g,true)+e.height(j))}setTimeout(function(){i.removeClass("moved")},300)})},breakpoint:function(){return c(a).width()<=this.settings.breakPoint||c("html").hasClass("lt-ie9")},assemble:function(){var e=this;this.settings.$section.detach();this.settings.$section.find(".has-dropdown>a").each(function(){var f=c(this),i=f.siblings(".dropdown"),g=f.attr("href");if(e.settings.mobile_show_parent_link&&g&&g.length>1){var h=c('<li class="title back js-generated"><h5><a href="#"></a></h5></li><li><a class="parent-link js-generated" href="'+g+'">'+f.text()+"</a></li>")}else{var h=c('<li class="title back js-generated"><h5><a href="#"></a></h5></li>')}if(e.settings.custom_back_text==true){h.find("h5>a").html("&laquo; "+e.settings.back_text)}else{h.find("h5>a").html("&laquo; "+f.html())}i.prepend(h)});this.settings.$section.appendTo(this.settings.$topbar);this.sticky()},height:function(f){var g=0,e=this;f.find("> li").each(function(){g+=e.outerHeight(c(this),true)});return g},sticky:function(){var e="."+this.settings.stickyClass;if(c(e).length>0){var i=c(e).length?c(e).offset().top:0,g=c(b),h=this.outerHeight(c(".top-bar")),f;c(b).resize(function(){clearTimeout(f);f=setTimeout(function(){i=c(e).offset().top},105)});g.scroll(function(){if(g.scrollTop()>(i)){c(e).addClass("fixed");c("body").css("padding-top",h)}else{if(g.scrollTop()<=i){c(e).removeClass("fixed");c("body").css("padding-top","0")}}})}},off:function(){c(this.scope).off(".fndtn.topbar");c(b).off(".fndtn.topbar")},reflow:function(){}}}(Foundation.zj,this,this.document));(function(c,b,a){Foundation.libs.section={name:"section",version:"4.3.1",settings:{deep_linking:false,small_breakpoint:768,one_up:true,section_selector:"[data-section]",region_selector:"section, .section, [data-section-region]",title_selector:".title, [data-section-title]",resized_data_attr:"data-section-resized",small_style_data_attr:"data-section-small-style",content_selector:".content, [data-section-content]",nav_selector:'[data-section="vertical-nav"], [data-section="horizontal-nav"]',active_class:"active",callback:function(){}},init:function(f,g,e){var d=this;Foundation.inherit(this,"throttle data_options position_right offset_right");if(typeof g==="object"){c.extend(true,d.settings,g)}if(typeof g!=="string"){this.events();return true}else{return this[g].call(this,e)}},events:function(){var p=this;var g=[],d=p.settings.section_selector,o=p.settings.region_selector.split(","),l=p.settings.title_selector.split(",");for(var h=0,m=o.length;h<m;h++){var n=o[h];for(var f=0,e=l.length;f<e;f++){var k=d+">"+n+">"+l[f];g.push(k+" a");g.push(k)}}c(p.scope).on("click.fndtn.section",g.join(","),function(i){var j=c(this).closest(p.settings.title_selector);p.close_navs(j);if(j.siblings(p.settings.content_selector).length>0){p.toggle_active.call(j[0],i)}});c(b).on("resize.fndtn.section",p.throttle(function(){p.resize()},30)).on("hashchange.fndtn.section",p.set_active_from_hash);c(a).on("click.fndtn.section",function(i){if(i.isPropagationStopped&&i.isPropagationStopped()){return}if(i.target===a){return}p.close_navs(c(i.target).closest(p.settings.title_selector))});c(b).triggerHandler("resize.fndtn.section");c(b).triggerHandler("hashchange.fndtn.section")},close_navs:function(f){var d=Foundation.libs.section,e=c(d.settings.nav_selector).filter(function(){return !c.extend({},d.settings,d.data_options(c(this))).one_up});if(f.length>0){var g=f.parent().parent();if(d.is_horizontal_nav(g)||d.is_vertical_nav(g)){e=e.filter(function(){return this!==g[0]})}}e.children(d.settings.region_selector).removeClass(d.settings.active_class)},toggle_active:function(l){var k=c(this),d=Foundation.libs.section,j=k.parent(),h=k.siblings(d.settings.content_selector),i=j.parent(),g=c.extend({},d.settings,d.data_options(i)),f=i.children(d.settings.region_selector).filter("."+d.settings.active_class);if(!g.deep_linking&&h.length>0){l.preventDefault()}l.stopPropagation();if(!j.hasClass(d.settings.active_class)){f.removeClass(d.settings.active_class);j.addClass(d.settings.active_class);d.resize(j.find(d.settings.section_selector).not("["+d.settings.resized_data_attr+"]"),true)}else{if(!g.one_up&&(d.small(i)||d.is_vertical_nav(i)||d.is_horizontal_nav(i)||d.is_accordion(i))){j.removeClass(d.settings.active_class)}}g.callback(i)},check_resize_timer:null,resize:function(h,e){var d=Foundation.libs.section,g=d.small(c(a)),f=function(j,i){return !d.is_accordion(j)&&!j.is("["+d.settings.resized_data_attr+"]")&&(!g||d.is_horizontal_tabs(j))&&i===(j.css("display")==="none"||!j.parent().is(":visible"))};h=h||c(d.settings.section_selector);clearTimeout(d.check_resize_timer);if(!g){h.removeAttr(d.settings.small_style_data_attr)}h.filter(function(){return f(c(this),false)}).each(function(){var q=c(this),k=q.children(d.settings.region_selector),n=k.children(d.settings.title_selector),o=k.children(d.settings.content_selector),r=0;if(e&&q.children(d.settings.region_selector).filter("."+d.settings.active_class).length==0){var j=c.extend({},d.settings,d.data_options(q));if(!j.deep_linking&&(j.one_up||!d.is_horizontal_nav(q)&&!d.is_vertical_nav(q)&&!d.is_accordion(q))){k.filter(":visible").first().addClass(d.settings.active_class)}}if(d.is_horizontal_tabs(q)||d.is_auto(q)){var i=0;n.each(function(){var u=c(this);if(u.is(":visible")){u.css(!d.rtl?"left":"right",i);var t=parseInt(u.css("border-"+(d.rtl?"left":"right")+"-width"),10);if(t.toString()==="Nan"){t=0}i+=d.outerWidth(u)-t;r=Math.max(r,d.outerHeight(u))}});n.css("height",r);k.each(function(){var u=c(this),v=u.children(d.settings.content_selector),t=parseInt(v.css("border-top-width"),10);if(t.toString()==="Nan"){t=0}u.css("padding-top",r-t)});q.css("min-height",r)}else{if(d.is_horizontal_nav(q)){var m=true;n.each(function(){r=Math.max(r,d.outerHeight(c(this)))});k.each(function(){var t=c(this);t.css("margin-left","-"+(m?q:t.children(d.settings.title_selector)).css("border-left-width"));m=false});k.css("margin-top","-"+q.css("border-top-width"));n.css("height",r);o.css("top",r);q.css("min-height",r)}else{if(d.is_vertical_tabs(q)){var p=0;n.each(function(){var t=c(this);if(t.is(":visible")){t.css("top",p);var u=parseInt(t.css("border-top-width"),10);if(u.toString()==="Nan"){u=0}p+=d.outerHeight(t)-u}});o.css("min-height",p+1)}else{if(d.is_vertical_nav(q)){var l=0,s=true;n.each(function(){l=Math.max(l,d.outerWidth(c(this)))});k.each(function(){var t=c(this);t.css("margin-top","-"+(s?q:t.children(d.settings.title_selector)).css("border-top-width"));s=false});n.css("width",l);o.css(!d.rtl?"left":"right",l);q.css("width",l)}}}}q.attr(d.settings.resized_data_attr,true)});if(c(d.settings.section_selector).filter(function(){return f(c(this),true)}).length>0){d.check_resize_timer=setTimeout(function(){d.resize(h.filter(function(){return f(c(this),false)}),true)},700)}if(g){h.attr(d.settings.small_style_data_attr,true)}},is_vertical_nav:function(d){return/vertical-nav/i.test(d.data("section"))},is_horizontal_nav:function(d){return/horizontal-nav/i.test(d.data("section"))},is_accordion:function(d){return/accordion/i.test(d.data("section"))},is_horizontal_tabs:function(d){return/^tabs$/i.test(d.data("section"))},is_vertical_tabs:function(d){return/vertical-tabs/i.test(d.data("section"))},is_auto:function(d){var e=d.data("section");return e===""||/auto/i.test(e)},set_active_from_hash:function(){var d=Foundation.libs.section,e=b.location.hash.substring(1),f=c(d.settings.section_selector);f.each(function(){var j=c(this),i=c.extend({},d.settings,d.data_options(j)),k=j.children(d.settings.region_selector),g=i.deep_linking&&e.length>0,h=false;k.each(function(){var m=c(this);if(h){m.removeClass(d.settings.active_class)}else{if(g){var l=m.children(d.settings.content_selector).data("slug");if(l&&new RegExp(l,"i").test(e)){if(!m.hasClass(d.settings.active_class)){m.addClass(d.settings.active_class)}h=true}else{m.removeClass(d.settings.active_class)}}else{if(m.hasClass(d.settings.active_class)){h=true}}}});if(!h&&!i.deep_linking&&(i.one_up||!d.is_horizontal_nav(j)&&!d.is_vertical_nav(j)&&!d.is_accordion(j))){k.filter(":visible").first().addClass(d.settings.active_class)}})},reflow:function(){var d=Foundation.libs.section;c(d.settings.section_selector).removeAttr(d.settings.resized_data_attr);d.throttle(function(){d.resize()},30)()},small:function(e){var d=c.extend({},this.settings,this.data_options(e));if(this.is_horizontal_tabs(e)){return false}if(e&&this.is_accordion(e)){return true}if(c("html").hasClass("lt-ie9")){return true}if(c("html").hasClass("ie8compat")){return true}return c(this.scope).width()<d.small_breakpoint},off:function(){c(this.scope).off(".fndtn.section");c(b).off(".fndtn.section");c(a).off(".fndtn.section")}};c.fn.reflow_section=function(e){var f=this,d=Foundation.libs.section;f.removeAttr(d.settings.resized_data_attr);d.throttle(function(){d.resize(f,e)},30)();return this}}(Foundation.zj,window,document));(function(c,b,a,d){Foundation.libs.dropdown={name:"dropdown",version:"4.3.0",settings:{activeClass:"open",is_hover:false,opened:function(){},closed:function(){}},init:function(f,g,e){this.scope=f||this.scope;Foundation.inherit(this,"throttle scrollLeft data_options");if(typeof g==="object"){c.extend(true,this.settings,g)}if(typeof g!=="string"){if(!this.settings.init){this.events()}return this.settings.init}else{return this[g].call(this,e)}},events:function(){var e=this;c(this.scope).on("click.fndtn.dropdown","[data-dropdown]",function(g){var f=c.extend({},e.settings,e.data_options(c(this)));g.preventDefault();if(!f.is_hover){e.toggle(c(this))}}).on("mouseenter","[data-dropdown]",function(g){var f=c.extend({},e.settings,e.data_options(c(this)));if(f.is_hover){e.toggle(c(this))}}).on("mouseleave","[data-dropdown-content]",function(h){var g=c('[data-dropdown="'+c(this).attr("id")+'"]'),f=c.extend({},e.settings,e.data_options(g));if(f.is_hover){e.close.call(e,c(this))}}).on("opened.fndtn.dropdown","[data-dropdown-content]",this.settings.opened).on("closed.fndtn.dropdown","[data-dropdown-content]",this.settings.closed);c(a).on("click.fndtn.dropdown",function(g){var f=c(g.target).closest("[data-dropdown-content]");if(c(g.target).data("dropdown")){return}if(f.length>0&&(c(g.target).is("[data-dropdown-content]")||c.contains(f.first()[0],g.target))){g.stopPropagation();return}e.close.call(e,c("[data-dropdown-content]"))});c(b).on("resize.fndtn.dropdown",e.throttle(function(){e.resize.call(e)},50)).trigger("resize");this.settings.init=true},close:function(f){var e=this;f.each(function(){if(c(this).hasClass(e.settings.activeClass)){c(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(e.settings.activeClass);c(this).trigger("closed")}})},open:function(f,e){this.css(f.addClass(this.settings.activeClass),e);f.trigger("opened")},toggle:function(e){var f=c("#"+e.data("dropdown"));this.close.call(this,c("[data-dropdown-content]").not(f));if(f.hasClass(this.settings.activeClass)){this.close.call(this,f)}else{this.close.call(this,c("[data-dropdown-content]"));this.open.call(this,f,e)}},resize:function(){var f=c("[data-dropdown-content].open"),e=c("[data-dropdown='"+f.attr("id")+"']");if(f.length&&e.length){this.css(f,e)}},css:function(i,h){var f=i.offsetParent();var e=h.offset();e.top-=f.offset().top;e.left-=f.offset().left;if(this.small()){i.css({position:"absolute",width:"95%",left:"2.5%","max-width":"none",top:e.top+this.outerHeight(h)})}else{if(!Foundation.rtl&&c(b).width()>this.outerWidth(i)+h.offset().left){var g=e.left;if(i.hasClass("right")){i.removeClass("right")}}else{if(!i.hasClass("right")){i.addClass("right")}var g=e.left-(this.outerWidth(i)-this.outerWidth(h))}i.attr("style","").css({position:"absolute",top:e.top+this.outerHeight(h),left:g})}return i},small:function(){return c(b).width()<768||c("html").hasClass("lt-ie9")},off:function(){c(this.scope).off(".fndtn.dropdown");c("html, body").off(".fndtn.dropdown");c(b).off(".fndtn.dropdown");c("[data-dropdown-content]").off(".fndtn.dropdown");this.settings.init=false},reflow:function(){}}}(Foundation.zj,this,this.document));
/*! jQuery UI - v1.10.3 - 2013-09-09
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(g,d){function c(k,j){var l,e,n,m=k.nodeName.toLowerCase();return"area"===m?(l=k.parentNode,e=l.name,k.href&&e&&"map"===l.nodeName.toLowerCase()?(n=g("img[usemap=#"+e+"]")[0],!!n&&h(n)):!1):(/input|select|textarea|button|object/.test(m)?!k.disabled:"a"===m?k.href||j:j)&&h(k)}function h(a){return g.expr.filters.visible(a)&&!g(a).parents().addBack().filter(function(){return"hidden"===g.css(this,"visibility")}).length}var f=0,b=/^ui-id-\d+$/;g.ui=g.ui||{},g.extend(g.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),g.fn.extend({focus:function(a){return function(e,j){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){g(i).focus(),j&&j.call(i)},e)}):a.apply(this,arguments)}}(g.fn.focus),scrollParent:function(){var a;return a=g.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.css(this,"position"))&&/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?g(document):a},zIndex:function(j){if(j!==d){return this.css("zIndex",j)}if(this.length){for(var l,k,e=g(this[0]);e.length&&e[0]!==document;){if(l=e.css("position"),("absolute"===l||"relative"===l||"fixed"===l)&&(k=parseInt(e.css("zIndex"),10),!isNaN(k)&&0!==k)){return k}e=e.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){b.test(this.id)&&g(this).removeAttr("id")})}}),g.extend(g.expr[":"],{data:g.expr.createPseudo?g.expr.createPseudo(function(a){return function(e){return !!g.data(e,a)}}):function(e,a,j){return !!g.data(e,j[3])},focusable:function(a){return c(a,!isNaN(g.attr(a,"tabindex")))},tabbable:function(a){var i=g.attr(a,"tabindex"),e=isNaN(i);return(e||i>=0)&&c(a,!e)}}),g("<a>").outerWidth(1).jquery||g.each(["Width","Height"],function(j,p){function k(o,a,r,q){return g.each(e,function(){a-=parseFloat(g.css(o,"padding"+this))||0,r&&(a-=parseFloat(g.css(o,"border"+this+"Width"))||0),q&&(a-=parseFloat(g.css(o,"margin"+this))||0)}),a}var e="Width"===p?["Left","Right"]:["Top","Bottom"],m=p.toLowerCase(),l={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};g.fn["inner"+p]=function(a){return a===d?l["inner"+p].call(this):this.each(function(){g(this).css(m,k(this,a)+"px")})},g.fn["outer"+p]=function(n,a){return"number"!=typeof n?l["outer"+p].call(this,n):this.each(function(){g(this).css(m,k(this,n,!0,a)+"px")})}}),g.fn.addBack||(g.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),g("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(g.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,g.camelCase(e)):a.call(this)}}(g.fn.removeData)),g.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),g.support.selectstart="onselectstart" in document.createElement("div"),g.fn.extend({disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),g.extend(g.ui,{plugin:{add:function(k,j,m){var l,e=g.ui[k].prototype;for(l in m){e.plugins[l]=e.plugins[l]||[],e.plugins[l].push([j,m[l]])}},call:function(l,j,a){var m,k=l.plugins[j];if(k&&l.element[0].parentNode&&11!==l.element[0].parentNode.nodeType){for(m=0;k.length>m;m++){l.options[k[m][0]]&&k[m][1].apply(l.element,a)}}}},hasScroll:function(e,a){if("hidden"===g(e).css("overflow")){return !1}var k=a&&"left"===a?"scrollLeft":"scrollTop",j=!1;return e[k]>0?!0:(e[k]=1,j=e[k]>0,e[k]=0,j)}})})(jQuery);(function(b,d){var a=0,c=Array.prototype.slice,f=b.cleanData;b.cleanData=function(j){for(var g,h=0;null!=(g=j[h]);h++){try{b(g).triggerHandler("remove")}catch(k){}}f(j)},b.widget=function(m,u,j){var g,t,e,p,k={},q=m.split(".")[0];m=m.split(".")[1],g=q+"-"+m,j||(j=u,u=b.Widget),b.expr[":"][g.toLowerCase()]=function(h){return !!b.data(h,g)},b[q]=b[q]||{},t=b[q][m],e=b[q][m]=function(l,h){return this._createWidget?(arguments.length&&this._createWidget(l,h),d):new e(l,h)},b.extend(e,t,{version:j.version,_proto:b.extend({},j),_childConstructors:[]}),p=new u,p.options=b.widget.extend({},p.options),b.each(j,function(h,l){return b.isFunction(l)?(k[h]=function(){var i=function(){return u.prototype[h].apply(this,arguments)},n=function(o){return u.prototype[h].apply(this,o)};return function(){var r,v=this._super,w=this._superApply;return this._super=i,this._superApply=n,r=l.apply(this,arguments),this._super=v,this._superApply=w,r}}(),d):(k[h]=l,d)}),e.prototype=b.widget.extend(p,{widgetEventPrefix:t?p.widgetEventPrefix:m},k,{constructor:e,namespace:q,widgetName:m,widgetFullName:g}),t?(b.each(t._childConstructors,function(n,h){var l=h.prototype;b.widget(l.namespace+"."+l.widgetName,e,h._proto)}),delete t._childConstructors):u._childConstructors.push(e),b.widget.bridge(m,e)},b.widget.extend=function(g){for(var m,l,e=c.call(arguments,1),k=0,j=e.length;j>k;k++){for(m in e[k]){l=e[k][m],e[k].hasOwnProperty(m)&&l!==d&&(g[m]=b.isPlainObject(l)?b.isPlainObject(g[m])?b.widget.extend({},g[m],l):b.widget.extend({},l):l)}}return g},b.widget.bridge=function(e,h){var g=h.prototype.widgetFullName||e;b.fn[e]=function(j){var m="string"==typeof j,k=c.call(arguments,1),i=this;return j=!m&&k.length?b.widget.extend.apply(null,[j].concat(k)):j,m?this.each(function(){var l,o=b.data(this,g);return o?b.isFunction(o[j])&&"_"!==j.charAt(0)?(l=o[j].apply(o,k),l!==o&&l!==d?(i=l&&l.jquery?i.pushStack(l.get()):l,!1):d):b.error("no such method '"+j+"' for "+e+" widget instance"):b.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+j+"'")}):this.each(function(){var l=b.data(this,g);l?l.option(j||{})._init():b.data(this,g,new h(j,this))}),i}},b.Widget=function(){},b.Widget._childConstructors=[],b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(h,g){g=b(g||this.defaultElement||this)[0],this.element=b(g),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=b.widget.extend({},this.options,this._getCreateOptions(),h),this.bindings=b(),this.hoverable=b(),this.focusable=b(),g!==this&&(b.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===g&&this.destroy()}}),this.document=b(g.style?g.ownerDocument:g.document||g),this.window=b(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(g,h){var l,k,e,j=g;if(0===arguments.length){return b.widget.extend({},this.options)}if("string"==typeof g){if(j={},l=g.split("."),g=l.shift(),l.length){for(k=j[g]=b.widget.extend({},this.options[g]),e=0;l.length-1>e;e++){k[l[e]]=k[l[e]]||{},k=k[l[e]]}if(g=l.pop(),h===d){return k[g]===d?null:k[g]}k[g]=h}else{if(h===d){return this.options[g]===d?null:this.options[g]}j[g]=h}}return this._setOptions(j),this},_setOptions:function(g){var h;for(h in g){this._setOption(h,g[h])}return this},_setOption:function(g,h){return this.options[g]=h,"disabled"===g&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(g,h,k){var j,e=this;"boolean"!=typeof g&&(k=h,h=g,g=!1),k?(h=j=b(h),this.bindings=this.bindings.add(h)):(k=h,h=this.element,j=this.widget()),b.each(k,function(s,p){function o(){return g||e.options.disabled!==!0&&!b(this).hasClass("ui-state-disabled")?("string"==typeof p?e[p]:p).apply(e,arguments):d}"string"!=typeof p&&(o.guid=p.guid=p.guid||o.guid||b.guid++);var i=s.match(/^(\w+)\s*(.*)$/),q=i[1]+e.eventNamespace,m=i[2];m?j.delegate(m,q,o):h.bind(q,o)})},_off:function(g,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,g.unbind(h).undelegate(h)},_delay:function(h,k){function g(){return("string"==typeof h?j[h]:h).apply(j,arguments)}var j=this;return setTimeout(g,k||0)},_hoverable:function(g){this.hoverable=this.hoverable.add(g),this._on(g,{mouseenter:function(h){b(h.currentTarget).addClass("ui-state-hover")},mouseleave:function(h){b(h.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(g){this.focusable=this.focusable.add(g),this._on(g,{focusin:function(h){b(h.currentTarget).addClass("ui-state-focus")},focusout:function(h){b(h.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(k,h,j){var m,l,g=this.options[k];if(j=j||{},h=b.Event(h),h.type=(k===this.widgetEventPrefix?k:this.widgetEventPrefix+k).toLowerCase(),h.target=this.element[0],l=h.originalEvent){for(m in l){m in h||(h[m]=l[m])}}return this.element.trigger(h,j),!(b.isFunction(g)&&g.apply(this.element[0],[h].concat(j))===!1||h.isDefaultPrevented())}},b.each({show:"fadeIn",hide:"fadeOut"},function(h,g){b.Widget.prototype["_"+h]=function(i,l,k){"string"==typeof l&&(l={effect:l});var e,j=l?l===!0||"number"==typeof l?g:l.effect||g:h;l=l||{},"number"==typeof l&&(l={duration:l}),e=!b.isEmptyObject(l),l.complete=k,l.delay&&i.delay(l.delay),e&&b.effects&&b.effects.effect[j]?i[h](l):j!==h&&i[j]?i[j](l.duration,l.easing,k):i.queue(function(m){b(this)[h](),k&&k.call(i[0]),m()})}})})(jQuery);(function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===a.data(d.target,c.widgetName+".preventClickEvent")?(a.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!b){this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;var e=this,f=1===d.which,c="string"==typeof this.options.cancel&&d.target.nodeName?a(d.target).closest(this.options.cancel).length:!1;return f&&!c&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===a.data(d.target,this.widgetName+".preventClickEvent")&&a.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return e._mouseMove(g)},this._mouseUpDelegate=function(g){return e._mouseUp(g)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(c){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},_mouseUp:function(c){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(C,x){function q(c,d,a){return[parseFloat(c[0])*(g.test(c[0])?d/100:1),parseFloat(c[1])*(g.test(c[1])?a/100:1)]}function D(c,a){return parseInt(C.css(c,a),10)||0}function k(c){var a=c[0];return 9===a.nodeType?{width:c.width(),height:c.height(),offset:{top:0,left:0}}:C.isWindow(a)?{width:c.width(),height:c.height(),offset:{top:c.scrollTop(),left:c.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:c.outerWidth(),height:c.outerHeight(),offset:c.offset()}}C.ui=C.ui||{};var A,j=Math.max,b=Math.abs,m=Math.round,v=/left|center|right/,z=/top|center|bottom/,B=/[\+\-]\d+(\.[\d]+)?%?/,y=/^\w+/,g=/%$/,w=C.fn.position;C.position={scrollbarWidth:function(){if(A!==x){return A}var a,c,e=C("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=e.children()[0];return C("body").append(e),a=d.offsetWidth,e.css("overflow","scroll"),c=d.offsetWidth,a===c&&(c=e[0].clientWidth),e.remove(),A=a-c},getScrollInfo:function(h){var d=h.isWindow?"":h.element.css("overflow-x"),f=h.isWindow?"":h.element.css("overflow-y"),l="scroll"===d||"auto"===d&&h.width<h.element[0].scrollWidth,c="scroll"===f||"auto"===f&&h.height<h.element[0].scrollHeight;return{width:c?C.position.scrollbarWidth():0,height:l?C.position.scrollbarWidth():0}},getWithinInfo:function(d){var a=C(d||window),c=C.isWindow(a[0]);return{element:a,isWindow:c,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}},C.fn.position=function(l){if(!l||!l.of){return w.apply(this,arguments)}l=C.extend({},l);var r,d,i,f,u,t,o=C(l.of),n=C.position.getWithinInfo(l.within),h=C.position.getScrollInfo(n),s=(l.collision||"flip").split(" "),c={};return t=k(o),o[0].preventDefault&&(l.at="left top"),d=t.width,i=t.height,f=t.offset,u=C.extend({},f),C.each(["my","at"],function(){var e,a,p=(l[this]||"").split(" ");1===p.length&&(p=v.test(p[0])?p.concat(["center"]):z.test(p[0])?["center"].concat(p):["center","center"]),p[0]=v.test(p[0])?p[0]:"center",p[1]=z.test(p[1])?p[1]:"center",e=B.exec(p[0]),a=B.exec(p[1]),c[this]=[e?e[0]:0,a?a[0]:0],l[this]=[y.exec(p[0])[0],y.exec(p[1])[0]]}),1===s.length&&(s[1]=s[0]),"right"===l.at[0]?u.left+=d:"center"===l.at[0]&&(u.left+=d/2),"bottom"===l.at[1]?u.top+=i:"center"===l.at[1]&&(u.top+=i/2),r=q(c.at,d,i),u.left+=r[0],u.top+=r[1],this.each(function(){var e,E,I=C(this),L=I.outerWidth(),H=I.outerHeight(),F=D(this,"marginLeft"),K=D(this,"marginTop"),J=L+F+D(this,"marginRight")+h.width,a=H+K+D(this,"marginBottom")+h.height,G=C.extend({},u),p=q(c.my,I.outerWidth(),I.outerHeight());"right"===l.my[0]?G.left-=L:"center"===l.my[0]&&(G.left-=L/2),"bottom"===l.my[1]?G.top-=H:"center"===l.my[1]&&(G.top-=H/2),G.left+=p[0],G.top+=p[1],C.support.offsetFractions||(G.left=m(G.left),G.top=m(G.top)),e={marginLeft:F,marginTop:K},C.each(["left","top"],function(M,N){C.ui.position[s[M]]&&C.ui.position[s[M]][N](G,{targetWidth:d,targetHeight:i,elemWidth:L,elemHeight:H,collisionPosition:e,collisionWidth:J,collisionHeight:a,offset:[r[0]+p[0],r[1]+p[1]],my:l.my,at:l.at,within:n,elem:I})}),l.using&&(E=function(P){var O=f.left-G.left,Q=O+d-L,R=f.top-G.top,N=R+i-H,M={target:{element:o,left:f.left,top:f.top,width:d,height:i},element:{element:I,left:G.left,top:G.top,width:L,height:H},horizontal:0>Q?"left":O>0?"right":"center",vertical:0>N?"top":R>0?"bottom":"middle"};L>d&&d>b(O+Q)&&(M.horizontal="center"),H>i&&i>b(R+N)&&(M.vertical="middle"),M.important=j(b(O),b(Q))>j(b(R),b(N))?"horizontal":"vertical",l.using.call(this,P,M)}),I.offset(C.extend(G,{using:E}))})},C.ui.position={fit:{left:function(F,u){var o,G=u.within,d=G.isWindow?G.scrollLeft:G.offset.left,E=G.width,c=F.left-u.collisionPosition.marginLeft,f=d-c,p=c+u.collisionWidth-E-d;u.collisionWidth>E?f>0&&0>=p?(o=F.left+f+u.collisionWidth-E-d,F.left+=f-o):F.left=p>0&&0>=f?d:f>p?d+E-u.collisionWidth:d:f>0?F.left+=f:p>0?F.left-=p:F.left=j(F.left-c,F.left)},top:function(F,u){var o,G=u.within,d=G.isWindow?G.scrollTop:G.offset.top,E=u.within.height,c=F.top-u.collisionPosition.marginTop,f=d-c,p=c+u.collisionHeight-E-d;u.collisionHeight>E?f>0&&0>=p?(o=F.top+f+u.collisionHeight-E-d,F.top+=f-o):F.top=p>0&&0>=f?d:f>p?d+E-u.collisionHeight:d:f>0?F.top+=f:p>0?F.top-=p:F.top=j(F.top-c,F.top)}},flip:{left:function(P,K){var H,Q,F=K.within,N=F.offset.left+F.scrollLeft,E=F.width,G=F.isWindow?F.scrollLeft:F.offset.left,I=P.left-K.collisionPosition.marginLeft,M=I-G,O=I+K.collisionWidth-E-G,L="left"===K.my[0]?-K.elemWidth:"right"===K.my[0]?K.elemWidth:0,r="left"===K.at[0]?K.targetWidth:"right"===K.at[0]?-K.targetWidth:0,J=-2*K.offset[0];0>M?(H=P.left+L+r+J+K.collisionWidth-E-N,(0>H||b(M)>H)&&(P.left+=L+r+J)):O>0&&(Q=P.left-K.collisionPosition.marginLeft+L+r+J-G,(Q>0||O>b(Q))&&(P.left+=L+r+J))},top:function(Q,L){var H,R,F=L.within,O=F.offset.top+F.scrollTop,E=F.height,G=F.isWindow?F.scrollTop:F.offset.top,I=Q.top-L.collisionPosition.marginTop,N=I-G,P=I+L.collisionHeight-E-G,M="top"===L.my[1],r=M?-L.elemHeight:"bottom"===L.my[1]?L.elemHeight:0,K="top"===L.at[1]?L.targetHeight:"bottom"===L.at[1]?-L.targetHeight:0,J=-2*L.offset[1];0>N?(R=Q.top+r+K+J+L.collisionHeight-E-O,Q.top+r+K+J>N&&(0>R||b(N)>R)&&(Q.top+=r+K+J)):P>0&&(H=Q.top-L.collisionPosition.marginTop+r+K+J-G,Q.top+r+K+J>P&&(H>0||P>b(H))&&(Q.top+=r+K+J))}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments)},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments)}}},function(){var l,d,f,t,c,p=document.getElementsByTagName("body")[0],h=document.createElement("div");l=document.createElement(p?"div":"body"),f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},p&&C.extend(f,{position:"absolute",left:"-1000px",top:"-1000px"});for(c in f){l.style[c]=f[c]}l.appendChild(h),d=p||document.documentElement,d.insertBefore(l,d.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",t=C(h).offset().left,C.support.offsetFractions=t>10&&11>t,l.innerHTML="",d.removeChild(l)}()})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(c){var b=this.options;return this.helper||b.disabled||a(c.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(c),this.handle?(a(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var b=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this._setContainment(),this._trigger("start",c)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(d,b){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(d),this.positionAbs=this._convertPositionTo("absolute"),!b){var c=this._uiHash();if(this._trigger("drag",d,c)===!1){return this._mouseUp({}),!1}this.position=c.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,d),!1},_mouseStop:function(d){var b=this,c=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,d)),this.dropped&&(c=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!c||"valid"===this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){b._trigger("stop",d)!==!1&&b._clear()}):this._trigger("stop",d)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(d){var b=this.options,c=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[d])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;return c.parents("body").length||c.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d,b,c,f=this.options;return f.containment?"window"===f.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===f.containment?(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):f.containment.constructor===Array?(this.containment=f.containment,undefined):("parent"===f.containment&&(f.containment=this.helper[0].parentNode),b=a(f.containment),c=b[0],c&&(d="hidden"!==b.css("overflow"),this.containment=[(parseInt(b.css("borderLeftWidth"),10)||0)+(parseInt(b.css("paddingLeft"),10)||0),(parseInt(b.css("borderTopWidth"),10)||0)+(parseInt(b.css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b.css("borderRightWidth"),10)||0)-(parseInt(b.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(b.css("borderBottomWidth"),10)||0)-(parseInt(b.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b),undefined):(this.containment=null,undefined)},_convertPositionTo:function(d,b){b||(b=this.position);var c="absolute"===d?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:f.scrollTop(),left:f.scrollLeft()}),{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*c}},_generatePosition:function(k){var g,p,d,m,c=this.options,b="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=k.pageX,j=k.pageY;return this.offset.scroll||(this.offset.scroll={top:b.scrollTop(),left:b.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(p=this.relative_container.offset(),g=[this.containment[0]+p.left,this.containment[1]+p.top,this.containment[2]+p.left,this.containment[3]+p.top]):g=this.containment,k.pageX-this.offset.click.left<g[0]&&(f=g[0]+this.offset.click.left),k.pageY-this.offset.click.top<g[1]&&(j=g[1]+this.offset.click.top),k.pageX-this.offset.click.left>g[2]&&(f=g[2]+this.offset.click.left),k.pageY-this.offset.click.top>g[3]&&(j=g[3]+this.offset.click.top)),c.grid&&(d=c.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,j=g?d-this.offset.click.top>=g[1]||d-this.offset.click.top>g[3]?d:d-this.offset.click.top>=g[1]?d-c.grid[1]:d+c.grid[1]:d,m=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,f=g?m-this.offset.click.left>=g[0]||m-this.offset.click.left>g[2]?m:m-this.offset.click.left>=g[0]?m-c.grid[0]:m+c.grid[0]:m)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(d,b,c){return c=c||this._uiHash(),a.ui.plugin.call(this,d,[b,c]),"drag"===d&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,d,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(f,c){var d=a(this).data("ui-draggable"),g=d.options,b=a.extend({},c,{item:d.element});d.sortables=[],a(g.connectToSortable).each(function(){var e=a.data(this,"ui-sortable");e&&!e.options.disabled&&(d.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",f,b))})},stop:function(d,b){var c=a(this).data("ui-draggable"),f=a.extend({},b,{item:c.element});a.each(c.sortables,function(){this.instance.isOver?(this.instance.isOver=0,c.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(d),this.instance.options.helper=this.instance.options._helper,"original"===c.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",d,f))})},drag:function(d,b){var c=a(this).data("ui-draggable"),f=this;a.each(c.sortables,function(){var e=!1,g=this;this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,a.each(c.sortables,function(){return this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0]},d.target=this.instance.currentItem[0],this.instance._mouseCapture(d,!0),this.instance._mouseStart(d,!0,!0),this.instance.offset.click.top=c.offset.click.top,this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger("toSortable",d),c.dropped=this.instance.element,c.currentItem=c.element,this.instance.fromOutside=c),this.instance.currentItem&&this.instance._mouseDrag(d)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",d,this.instance._uiHash(this.instance)),this.instance._mouseStop(d,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),c._trigger("fromSortable",d),c.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),b=a(this).data("ui-draggable").options;c.css("cursor")&&(b._cursor=c.css("cursor")),c.css("cursor",b.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(d,b){var c=a(b.helper),f=a(this).data("ui-draggable").options;c.css("opacity")&&(f._opacity=c.css("opacity")),c.css("opacity",f.opacity)},stop:function(d,b){var c=a(this).data("ui-draggable").options;c._opacity&&a(b.helper).css("opacity",c._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(d){var b=a(this).data("ui-draggable"),c=b.options,f=!1;b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName?(c.axis&&"x"===c.axis||(b.overflowOffset.top+b.scrollParent[0].offsetHeight-d.pageY<c.scrollSensitivity?b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+c.scrollSpeed:d.pageY-b.overflowOffset.top<c.scrollSensitivity&&(b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-c.scrollSpeed)),c.axis&&"y"===c.axis||(b.overflowOffset.left+b.scrollParent[0].offsetWidth-d.pageX<c.scrollSensitivity?b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+c.scrollSpeed:d.pageX-b.overflowOffset.left<c.scrollSensitivity&&(b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-c.scrollSpeed))):(c.axis&&"x"===c.axis||(d.pageY-a(document).scrollTop()<c.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(d.pageY-a(document).scrollTop())<c.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed))),c.axis&&"y"===c.axis||(d.pageX-a(document).scrollLeft()<c.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(d.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,d)}}),a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),b=c.options;c.snapElements=[],a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var d=a(this),e=d.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:e.top,left:e.left})})},drag:function(F,B){var q,y,J,x,t,A,C,H,k,G,w=a(this).data("ui-draggable"),D=w.options,E=D.snapTolerance,z=B.offset.left,K=z+w.helperProportions.width,j=B.offset.top,I=j+w.helperProportions.height;for(k=w.snapElements.length-1;k>=0;k--){t=w.snapElements[k].left,A=t+w.snapElements[k].width,C=w.snapElements[k].top,H=C+w.snapElements[k].height,t-E>K||z>A+E||C-E>I||j>H+E||!a.contains(w.snapElements[k].item.ownerDocument,w.snapElements[k].item)?(w.snapElements[k].snapping&&w.options.snap.release&&w.options.snap.release.call(w.element,F,a.extend(w._uiHash(),{snapItem:w.snapElements[k].item})),w.snapElements[k].snapping=!1):("inner"!==D.snapMode&&(q=E>=Math.abs(C-I),y=E>=Math.abs(H-j),J=E>=Math.abs(t-K),x=E>=Math.abs(A-z),q&&(B.position.top=w._convertPositionTo("relative",{top:C-w.helperProportions.height,left:0}).top-w.margins.top),y&&(B.position.top=w._convertPositionTo("relative",{top:H,left:0}).top-w.margins.top),J&&(B.position.left=w._convertPositionTo("relative",{top:0,left:t-w.helperProportions.width}).left-w.margins.left),x&&(B.position.left=w._convertPositionTo("relative",{top:0,left:A}).left-w.margins.left)),G=q||y||J||x,"outer"!==D.snapMode&&(q=E>=Math.abs(C-j),y=E>=Math.abs(H-I),J=E>=Math.abs(t-z),x=E>=Math.abs(A-K),q&&(B.position.top=w._convertPositionTo("relative",{top:C,left:0}).top-w.margins.top),y&&(B.position.top=w._convertPositionTo("relative",{top:H-w.helperProportions.height,left:0}).top-w.margins.top),J&&(B.position.left=w._convertPositionTo("relative",{top:0,left:t}).left-w.margins.left),x&&(B.position.left=w._convertPositionTo("relative",{top:0,left:A-w.helperProportions.width}).left-w.margins.left)),!w.snapElements[k].snapping&&(q||y||J||x||G)&&w.options.snap.snap&&w.options.snap.snap.call(w.element,F,a.extend(w._uiHash(),{snapItem:w.snapElements[k].item})),w.snapElements[k].snapping=q||y||J||x||G)}}}),a.ui.plugin.add("draggable","stack",{start:function(){var d,b=this.data("ui-draggable").options,c=a.makeArray(a(b.stack)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||0)-(parseInt(a(f).css("zIndex"),10)||0)});c.length&&(d=parseInt(a(c[0]).css("zIndex"),10)||0,a(c).each(function(e){a(this).css("zIndex",d+e)}),this.css("zIndex",d+c.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(d,b){var c=a(b.helper),f=a(this).data("ui-draggable").options;c.css("zIndex")&&(f._zIndex=c.css("zIndex")),c.css("zIndex",f.zIndex)},stop:function(d,b){var c=a(this).data("ui-draggable").options;c._zIndex&&a(b.helper).css("zIndex",c._zIndex)}})})(jQuery);(function(a){function b(d,f,c){return d>f&&f+c>d}a.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var d=this.options,c=d.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(c)?c:function(e){return e.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[],a.ui.ddmanager.droppables[d.scope].push(this),d.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var d=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>d;d++){c[d]===this&&c.splice(d,1)}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,c){"accept"===d&&(this.accept=a.isFunction(c)?c:function(e){return e.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",d,this.ui(c))},_deactivate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",d,this.ui(c))},_over:function(d){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",d,this.ui(c)))},_out:function(d){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",d,this.ui(c)))},_drop:function(f,c){var d=c||a.ui.ddmanager.current,g=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var h=a.data(this,"ui-droppable");return h.options.greedy&&!h.options.disabled&&h.options.scope===d.options.scope&&h.accept.call(h.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(h,{offset:h.element.offset()}),h.options.tolerance)?(g=!0,!1):undefined}),g?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",f,this.ui(d)),this.element):!1):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}}),a.ui.intersect=function(z,m,A){if(!m.offset){return !1}var j,x,g=(z.positionAbs||z.position.absolute).left,e=g+z.helperProportions.width,k=(z.positionAbs||z.position.absolute).top,q=k+z.helperProportions.height,w=m.offset.left,y=w+m.proportions.width,v=m.offset.top,f=v+m.proportions.height;switch(A){case"fit":return g>=w&&y>=e&&k>=v&&f>=q;case"intersect":return g+z.helperProportions.width/2>w&&y>e-z.helperProportions.width/2&&k+z.helperProportions.height/2>v&&f>q-z.helperProportions.height/2;case"pointer":return j=(z.positionAbs||z.position.absolute).left+(z.clickOffset||z.offset.click).left,x=(z.positionAbs||z.position.absolute).top+(z.clickOffset||z.offset.click).top,b(x,v,m.proportions.height)&&b(j,w,m.proportions.width);case"touch":return(k>=v&&f>=k||q>=v&&f>=q||v>k&&q>f)&&(g>=w&&y>=g||e>=w&&y>=e||w>g&&e>y);default:return !1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(h,d){var f,k,c=a.ui.ddmanager.droppables[h.options.scope]||[],j=d?d.type:null,g=(h.currentItem||h.element).find(":data(ui-droppable)").addBack();a:for(f=0;c.length>f;f++){if(!(c[f].options.disabled||h&&!c[f].accept.call(c[f].element[0],h.currentItem||h.element))){for(k=0;g.length>k;k++){if(g[k]===c[f].element[0]){c[f].proportions.height=0;continue a}}c[f].visible="none"!==c[f].element.css("display"),c[f].visible&&("mousedown"===j&&c[f]._activate.call(c[f],d),c[f].offset=c[f].element.offset(),c[f].proportions={width:c[f].element[0].offsetWidth,height:c[f].element[0].offsetHeight})}}},drop:function(f,c){var d=!1;return a.each((a.ui.ddmanager.droppables[f.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(f,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],f.currentItem||f.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(d,c){d.element.parentsUntil("body").bind("scroll.droppable",function(){d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c)})},drag:function(d,c){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,c),a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var f,i,e,h=a.ui.intersect(d,this,this.options.tolerance),g=!h&&this.isover?"isout":h&&!this.isover?"isover":null;g&&(this.options.greedy&&(i=this.options.scope,e=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===i}),e.length&&(f=a.data(e[0],"ui-droppable"),f.greedyChild="isover"===g)),f&&"isover"===g&&(f.isover=!1,f.isout=!0,f._out.call(f,c)),this[g]=!0,this["isout"===g?"isover":"isout"]=!1,this["isover"===g?"_over":"_out"].call(this,c),f&&"isout"===g&&(f.isout=!1,f.isover=!0,f._over.call(f,c)))}})},dragStop:function(d,c){d.element.parentsUntil("body").unbind("scroll.droppable"),d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c)}}})(jQuery);(function(b){function c(d){return parseInt(d,10)||0}function a(d){return !isNaN(parseInt(d,10))}b.widget("ui.resizable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var j,f,g,l,d,k=this,h=this.options;if(this.element.addClass("ui-resizable"),b.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(b("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),j=this.handles.split(","),this.handles={},f=0;j.length>f;f++){g=b.trim(j[f]),d="ui-resizable-"+g,l=b("<div class='ui-resizable-handle "+d+"'></div>"),l.css({zIndex:h.zIndex}),"se"===g&&l.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(l)}}this._renderAxis=function(q){var o,p,r,m;q=q||this.element;for(o in this.handles){this.handles[o].constructor===String&&(this.handles[o]=b(this.handles[o],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(p=b(this.handles[o],this.element),m=/sw|ne|nw|se|n|s/.test(o)?p.outerHeight():p.outerWidth(),r=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join(""),q.css(r,m),this._proportionallyResize()),b(this.handles[o]).length}},this._renderAxis(this.element),this._handles=b(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){k.resizing||(this.className&&(l=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),k.axis=l&&l[1]?l[1]:"se")}),h.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(b(this).removeClass("ui-resizable-autohide"),k._handles.show())}).mouseleave(function(){h.disabled||k.resizing||(b(this).addClass("ui-resizable-autohide"),k._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var f,d=function(g){b(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(d(this.element),f=this.element,this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f),f.remove()),this.originalElement.css("resize",this.originalResizeStyle),d(this.originalElement),this},_mouseCapture:function(g){var d,f,h=!1;for(d in this.handles){f=b(this.handles[d])[0],(f===g.target||b.contains(f,g.target))&&(h=!0)}return !this.options.disabled&&h},_mouseStart:function(e){var g,l,d,k=this.options,j=this.element.position(),f=this.element;return this.resizing=!0,/absolute/.test(f.css("position"))?f.css({position:"absolute",top:f.css("top"),left:f.css("left")}):f.is(".ui-draggable")&&f.css({position:"absolute",top:j.top,left:j.left}),this._renderProxy(),g=c(this.helper.css("left")),l=c(this.helper.css("top")),k.containment&&(g+=b(k.containment).scrollLeft()||0,l+=b(k.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:l},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:l},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof k.aspectRatio?k.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=b(".ui-resizable-"+this.axis).css("cursor"),b("body").css("cursor","auto"===d?this.axis+"-resize":d),f.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(v){var q,A=this.helper,k={},y=this.originalMousePosition,j=this.axis,f=this.position.top,t=this.position.left,m=this.size.width,x=this.size.height,z=v.pageX-y.left||0,w=v.pageY-y.top||0,g=this._change[j];return g?(q=g.apply(this,[v,z,w]),this._updateVirtualBoundaries(v.shiftKey),(this._aspectRatio||v.shiftKey)&&(q=this._updateRatio(q,v)),q=this._respectSize(q,v),this._updateCache(q),this._propagate("resize",v),this.position.top!==f&&(k.top=this.position.top+"px"),this.position.left!==t&&(k.left=this.position.left+"px"),this.size.width!==m&&(k.width=this.size.width+"px"),this.size.height!==x&&(k.height=this.size.height+"px"),A.css(k),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),b.isEmptyObject(k)||this._trigger("resize",v,this.ui()),!1):!1},_mouseStop:function(p){this.resizing=!1;var k,u,g,t,f,d,m,j=this.options,q=this;return this._helper&&(k=this._proportionallyResizeElements,u=k.length&&/textarea/i.test(k[0].nodeName),g=u&&b.ui.hasScroll(k[0],"left")?0:q.sizeDiff.height,t=u?0:q.sizeDiff.width,f={width:q.helper.width()-t,height:q.helper.height()-g},d=parseInt(q.element.css("left"),10)+(q.position.left-q.originalPosition.left)||null,m=parseInt(q.element.css("top"),10)+(q.position.top-q.originalPosition.top)||null,j.animate||this.element.css(b.extend(f,{top:m,left:d})),q.helper.height(q.size.height),q.helper.width(q.size.width),this._helper&&!j.animate&&this._proportionallyResize()),b("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",p),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(f){var i,g,k,d,j,h=this.options;j={minWidth:a(h.minWidth)?h.minWidth:0,maxWidth:a(h.maxWidth)?h.maxWidth:1/0,minHeight:a(h.minHeight)?h.minHeight:0,maxHeight:a(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||f)&&(i=j.minHeight*this.aspectRatio,k=j.minWidth/this.aspectRatio,g=j.maxHeight*this.aspectRatio,d=j.maxWidth/this.aspectRatio,i>j.minWidth&&(j.minWidth=i),k>j.minHeight&&(j.minHeight=k),j.maxWidth>g&&(j.maxWidth=g),j.maxHeight>d&&(j.maxHeight=d)),this._vBoundaries=j},_updateCache:function(d){this.offset=this.helper.offset(),a(d.left)&&(this.position.left=d.left),a(d.top)&&(this.position.top=d.top),a(d.height)&&(this.size.height=d.height),a(d.width)&&(this.size.width=d.width)},_updateRatio:function(d){var g=this.position,f=this.size,h=this.axis;return a(d.height)?d.width=d.height*this.aspectRatio:a(d.width)&&(d.height=d.width/this.aspectRatio),"sw"===h&&(d.left=g.left+(f.width-d.width),d.top=null),"nw"===h&&(d.top=g.top+(f.height-d.height),d.left=g.left+(f.width-d.width)),d},_respectSize:function(v){var k=this._vBoundaries,w=this.axis,g=a(v.width)&&k.maxWidth&&k.maxWidth<v.width,p=a(v.height)&&k.maxHeight&&k.maxHeight<v.height,f=a(v.width)&&k.minWidth&&k.minWidth>v.width,d=a(v.height)&&k.minHeight&&k.minHeight>v.height,j=this.originalPosition.left+this.originalSize.width,i=this.position.top+this.size.height,m=/sw|nw|w/.test(w),q=/nw|ne|n/.test(w);return f&&(v.width=k.minWidth),d&&(v.height=k.minHeight),g&&(v.width=k.maxWidth),p&&(v.height=k.maxHeight),f&&m&&(v.left=j-k.minWidth),g&&m&&(v.left=j-k.maxWidth),d&&q&&(v.top=i-k.minHeight),p&&q&&(v.top=i-k.maxHeight),v.width||v.height||v.left||!v.top?v.width||v.height||v.top||!v.left||(v.left=null):v.top=null,v},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var g,j,f,h,k,d=this.helper||this.element;for(g=0;this._proportionallyResizeElements.length>g;g++){if(k=this._proportionallyResizeElements[g],!this.borderDif){for(this.borderDif=[],f=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")],h=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")],j=0;f.length>j;j++){this.borderDif[j]=(parseInt(f[j],10)||0)+(parseInt(h[j],10)||0)}}k.css({height:d.height()-this.borderDif[0]-this.borderDif[2]||0,width:d.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var f=this.element,d=this.options;this.elementOffset=f.offset(),this._helper?(this.helper=this.helper||b("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++d.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(d,f){return{width:this.originalSize.width+f}},w:function(f,h){var d=this.originalSize,g=this.originalPosition;return{left:g.left+h,width:d.width-h}},n:function(f,h,d){var g=this.originalSize,j=this.originalPosition;return{top:j.top+d,height:g.height-d}},s:function(f,g,d){return{height:this.originalSize.height+d}},se:function(g,d,f){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,d,f]))},sw:function(g,d,f){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,d,f]))},ne:function(g,d,f){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,d,f]))},nw:function(g,d,f){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,d,f]))}},_propagate:function(f,d){b.ui.plugin.call(this,f,[d,this.ui()]),"resize"!==f&&this._trigger(f,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),b.ui.plugin.add("resizable","animate",{stop:function(p){var k=b(this).data("ui-resizable"),u=k.options,g=k._proportionallyResizeElements,t=g.length&&/textarea/i.test(g[0].nodeName),f=t&&b.ui.hasScroll(g[0],"left")?0:k.sizeDiff.height,d=t?0:k.sizeDiff.width,m={width:k.size.width-d,height:k.size.height-f},j=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,q=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null;k.element.animate(b.extend(m,q&&j?{top:q,left:j}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var e={width:parseInt(k.element.css("width"),10),height:parseInt(k.element.css("height"),10),top:parseInt(k.element.css("top"),10),left:parseInt(k.element.css("left"),10)};g&&g.length&&b(g[0]).css({width:e.width,height:e.height}),k._updateCache(e),k._propagate("resize",p)}})}}),b.ui.plugin.add("resizable","containment",{start:function(){var m,y,j,w,g,e,q,k=b(this).data("ui-resizable"),v=k.options,x=k.element,t=v.containment,f=t instanceof b?t.get(0):/parent/.test(t)?x.parent().get(0):t;f&&(k.containerElement=b(f),/document/.test(t)||t===document?(k.containerOffset={left:0,top:0},k.containerPosition={left:0,top:0},k.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight}):(m=b(f),y=[],b(["Top","Right","Left","Bottom"]).each(function(d,h){y[d]=c(m.css("padding"+h))}),k.containerOffset=m.offset(),k.containerPosition=m.position(),k.containerSize={height:m.innerHeight()-y[3],width:m.innerWidth()-y[1]},j=k.containerOffset,w=k.containerSize.height,g=k.containerSize.width,e=b.ui.hasScroll(f,"left")?f.scrollWidth:g,q=b.ui.hasScroll(f)?f.scrollHeight:w,k.parentData={element:f,left:j.left,top:j.top,width:e,height:q}))},resize:function(q){var m,y,j,w,g=b(this).data("ui-resizable"),f=g.options,p=g.containerOffset,k=g.position,v=g._aspectRatio||q.shiftKey,x={top:0,left:0},t=g.containerElement;t[0]!==document&&/static/.test(t.css("position"))&&(x=p),k.left<(g._helper?p.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-p.left:g.position.left-x.left),v&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=f.helper?p.left:0),k.top<(g._helper?p.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-p.top:g.position.top),v&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?p.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,m=Math.abs((g._helper?g.offset.left-x.left:g.offset.left-x.left)+g.sizeDiff.width),y=Math.abs((g._helper?g.offset.top-x.top:g.offset.top-p.top)+g.sizeDiff.height),j=g.containerElement.get(0)===g.element.parent().get(0),w=/relative|absolute/.test(g.containerElement.css("position")),j&&w&&(m-=g.parentData.left),m+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-m,v&&(g.size.height=g.size.width/g.aspectRatio)),y+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-y,v&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var p=b(this).data("ui-resizable"),k=p.options,t=p.containerOffset,g=p.containerPosition,q=p.containerElement,f=b(p.helper),d=f.offset(),m=f.outerWidth()-p.sizeDiff.width,j=f.outerHeight()-p.sizeDiff.height;p._helper&&!k.animate&&/relative/.test(q.css("position"))&&b(this).css({left:d.left-g.left-t.left,width:m,height:j}),p._helper&&!k.animate&&/static/.test(q.css("position"))&&b(this).css({left:d.left-g.left-t.left,width:m,height:j})}}),b.ui.plugin.add("resizable","alsoResize",{start:function(){var g=b(this).data("ui-resizable"),d=g.options,f=function(h){b(h).each(function(){var i=b(this);i.data("ui-resizable-alsoresize",{width:parseInt(i.width(),10),height:parseInt(i.height(),10),left:parseInt(i.css("left"),10),top:parseInt(i.css("top"),10)})})};"object"!=typeof d.alsoResize||d.alsoResize.parentNode?f(d.alsoResize):d.alsoResize.length?(d.alsoResize=d.alsoResize[0],f(d.alsoResize)):b.each(d.alsoResize,function(e){f(e)})},resize:function(l,f){var j=b(this).data("ui-resizable"),p=j.options,d=j.originalSize,m=j.originalPosition,k={height:j.size.height-d.height||0,width:j.size.width-d.width||0,top:j.position.top-m.top||0,left:j.position.left-m.left||0},g=function(i,h){b(i).each(function(){var r=b(this),t=b(this).data("ui-resizable-alsoresize"),q={},s=h&&h.length?h:r.parents(f.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(s,function(o,u){var n=(t[u]||0)+(k[u]||0);n&&n>=0&&(q[u]=n||null)}),r.css(q)})};"object"!=typeof p.alsoResize||p.alsoResize.nodeType?g(p.alsoResize):b.each(p.alsoResize,function(h,i){g(h,i)})},stop:function(){b(this).removeData("resizable-alsoresize")}}),b.ui.plugin.add("resizable","ghost",{start:function(){var g=b(this).data("ui-resizable"),d=g.options,f=g.size;g.ghost=g.originalElement.clone(),g.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:""),g.ghost.appendTo(g.helper)},resize:function(){var d=b(this).data("ui-resizable");d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=b(this).data("ui-resizable");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),b.ui.plugin.add("resizable","grid",{resize:function(){var C=b(this).data("ui-resizable"),y=C.options,I=C.size,t=C.originalSize,F=C.originalPosition,q=C.axis,j="number"==typeof y.grid?[y.grid,y.grid]:y.grid,z=j[0]||1,x=j[1]||1,E=Math.round((I.width-t.width)/z)*z,H=Math.round((I.height-t.height)/x)*x,D=t.width+E,k=t.height+H,B=y.maxWidth&&D>y.maxWidth,A=y.maxHeight&&k>y.maxHeight,w=y.minWidth&&y.minWidth>D,G=y.minHeight&&y.minHeight>k;y.grid=j,w&&(D+=z),G&&(k+=x),B&&(D-=z),A&&(k-=x),/^(se|s|e)$/.test(q)?(C.size.width=D,C.size.height=k):/^(ne)$/.test(q)?(C.size.width=D,C.size.height=k,C.position.top=F.top-H):/^(sw)$/.test(q)?(C.size.width=D,C.size.height=k,C.position.left=F.left-E):(C.size.width=D,C.size.height=k,C.position.top=F.top-H,C.position.left=F.left-E)}})})(jQuery);(function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,b=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var f=a(this),d=f.offset();a.data(this,"selectable-item",{element:this,$element:f,left:d.left,top:d.top,right:d.left+f.outerWidth(),bottom:d.top+f.outerHeight(),startselected:!1,selected:f.hasClass("ui-selected"),selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(d){var b=this,c=this.options;this.opos=[d.pageX,d.pageY],this.options.disabled||(this.selectees=a(c.filter,this.element[0]),this._trigger("start",d),a(c.appendTo).append(this.helper),this.helper.css({left:d.pageX,top:d.pageY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=a.data(this,"selectable-item");e.startselected=!0,d.metaKey||d.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,b._trigger("unselecting",d,{unselecting:e.element}))}),a(d.target).parents().addBack().each(function(){var e,f=a.data(this,"selectable-item");return f?(e=!d.metaKey&&!d.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),f.unselecting=!e,f.selecting=e,f.selected=e,e?b._trigger("selecting",d,{selecting:f.element}):b._trigger("unselecting",d,{unselecting:f.element}),!1):undefined}))},_mouseDrag:function(h){if(this.dragged=!0,!this.options.disabled){var d,f=this,k=this.options,c=this.opos[0],j=this.opos[1],g=h.pageX,b=h.pageY;return c>g&&(d=g,g=c,c=d),j>b&&(d=b,b=j,j=d),this.helper.css({left:c,top:j,width:g-c,height:b-j}),this.selectees.each(function(){var e=a.data(this,"selectable-item"),l=!1;e&&e.element!==f.element[0]&&("touch"===k.tolerance?l=!(e.left>g||c>e.right||e.top>b||j>e.bottom):"fit"===k.tolerance&&(l=e.left>c&&g>e.right&&e.top>j&&b>e.bottom),l?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,f._trigger("selecting",h,{selecting:e.element}))):(e.selecting&&((h.metaKey||h.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),f._trigger("unselecting",h,{unselecting:e.element}))),e.selected&&(h.metaKey||h.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,f._trigger("unselecting",h,{unselecting:e.element})))))}),!1}},_mouseStop:function(c){var b=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,b._trigger("unselected",c,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,b._trigger("selected",c,{selected:d.element})}),this._trigger("stop",c),this.helper.remove(),!1}})})(jQuery);(function(b){function c(f,g,d){return f>g&&g+d>f}function a(d){return/left|right/.test(d.css("float"))||/inline|table-cell/.test(d.css("display"))}b.widget("ui.sortable",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var d=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===d.axis||a(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var d=this.items.length-1;d>=0;d--){this.items[d].item.removeData(this.widgetName+"-item")}return this},_setOption:function(f,d){"disabled"===f?(this.options[f]=d,this.widget().toggleClass("ui-sortable-disabled",!!d)):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(g,d){var f=null,j=!1,h=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(g),b(g.target).parents().each(function(){return b.data(this,h.widgetName+"-item")===h?(f=b(this),!1):undefined}),b.data(g.target,h.widgetName+"-item")===h&&(f=b(g.target)),f?!this.options.handle||d||(b(this.options.handle,f).find("*").addBack().each(function(){this===g.target&&(j=!0)}),j)?(this.currentItem=f,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(h,f,g){var k,j,d=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(h),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:h.pageX-this.offset.left,top:h.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(h),this.originalPageX=h.pageX,this.originalPageY=h.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),d.containment&&this._setContainment(),d.cursor&&"auto"!==d.cursor&&(j=this.document.find("body"),this.storedCursor=j.css("cursor"),j.css("cursor",d.cursor),this.storedStylesheet=b("<style>*{ cursor: "+d.cursor+" !important; }</style>").appendTo(j)),d.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",d.opacity)),d.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",d.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",h,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!g){for(k=this.containers.length-1;k>=0;k--){this.containers[k]._trigger("activate",h,this._uiHash(this))}}return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,h),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(h),!0},_mouseDrag:function(j){var f,g,l,k,d=this.options,h=!1;for(this.position=this._generatePosition(j),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-j.pageY<d.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+d.scrollSpeed:j.pageY-this.overflowOffset.top<d.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-d.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-j.pageX<d.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+d.scrollSpeed:j.pageX-this.overflowOffset.left<d.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-d.scrollSpeed)):(j.pageY-b(document).scrollTop()<d.scrollSensitivity?h=b(document).scrollTop(b(document).scrollTop()-d.scrollSpeed):b(window).height()-(j.pageY-b(document).scrollTop())<d.scrollSensitivity&&(h=b(document).scrollTop(b(document).scrollTop()+d.scrollSpeed)),j.pageX-b(document).scrollLeft()<d.scrollSensitivity?h=b(document).scrollLeft(b(document).scrollLeft()-d.scrollSpeed):b(window).width()-(j.pageX-b(document).scrollLeft())<d.scrollSensitivity&&(h=b(document).scrollLeft(b(document).scrollLeft()+d.scrollSpeed))),h!==!1&&b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,j)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),f=this.items.length-1;f>=0;f--){if(g=this.items[f],l=g.item[0],k=this._intersectsWithPointer(g),k&&g.instance===this.currentContainer&&l!==this.currentItem[0]&&this.placeholder[1===k?"next":"prev"]()[0]!==l&&!b.contains(this.placeholder[0],l)&&("semi-dynamic"===this.options.type?!b.contains(this.element[0],l):!0)){if(this.direction=1===k?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(g)){break}this._rearrange(j,g),this._trigger("change",j,this._uiHash());break}}return this._contactContainers(j),b.ui.ddmanager&&b.ui.ddmanager.drag(this,j),this._trigger("sort",j,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(h,f){if(h){if(b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,h),this.options.revert){var g=this,k=this.placeholder.offset(),j=this.options.axis,d={};j&&"x"!==j||(d.left=k.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),j&&"y"!==j||(d.top=k.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,b(this.helper).animate(d,parseInt(this.options.revert,10)||500,function(){g._clear(h)})}else{this._clear(h,f)}return !1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("deactivate",null,this._uiHash(this)),this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",null,this._uiHash(this)),this.containers[d].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(g){var d=this._getItemsAsjQuery(g&&g.connected),f=[];return g=g||{},b(d).each(function(){var e=(b(g.item||this).attr(g.attribute||"id")||"").match(g.expression||/(.+)[\-=_](.+)/);e&&f.push((g.key||e[1]+"[]")+"="+(g.key&&g.expression?e[1]:e[2]))}),!f.length&&g.key&&f.push(g.key+"="),f.join("&")},toArray:function(g){var d=this._getItemsAsjQuery(g&&g.connected),f=[];return g=g||{},d.each(function(){f.push(b(g.item||this).attr(g.attribute||"id")||"")}),f},_intersectsWith:function(B){var w=this.positionAbs.left,q=w+this.helperProportions.width,C=this.positionAbs.top,k=C+this.helperProportions.height,j=B.left,z=j+B.width,f=B.top,v=f+B.height,m=this.offset.click.top,y=this.offset.click.left,A="x"===this.options.axis||C+m>f&&v>C+m,x="y"===this.options.axis||w+y>j&&z>w+y,g=A&&x;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>B[this.floating?"width":"height"]?g:w+this.helperProportions.width/2>j&&z>q-this.helperProportions.width/2&&C+this.helperProportions.height/2>f&&v>k-this.helperProportions.height/2},_intersectsWithPointer:function(f){var e="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,f.top,f.height),g="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,f.left,f.width),j=e&&g,h=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return j?this.floating?d&&"right"===d||"down"===h?2:1:h&&("down"===h?2:1):!1},_intersectsWithSides:function(e){var d=c(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),f=c(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),h=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?"right"===g&&f||"left"===g&&!f:h&&("down"===h&&d||"up"===h&&!d)},_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return 0!==d&&(d>0?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return 0!==d&&(d>0?"right":"left")},refresh:function(d){return this._refreshItems(d),this.refreshPositions(),this},_connectWith:function(){var d=this.options;return d.connectWith.constructor===String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(l){var f,j,p,m,d=[],k=[],g=this._connectWith();if(g&&l){for(f=g.length-1;f>=0;f--){for(p=b(g[f]),j=p.length-1;j>=0;j--){m=b.data(p[j],this.widgetFullName),m&&m!==this&&!m.options.disabled&&k.push([b.isFunction(m.options.items)?m.options.items.call(m.element):b(m.options.items,m.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),m])}}}for(k.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),f=k.length-1;f>=0;f--){k[f][0].each(function(){d.push(this)})}return b(d)},_removeCurrentsFromItems:function(){var d=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(f){for(var e=0;d.length>e;e++){if(d[e]===f.item[0]){return !1}}return !0})},_refreshItems:function(q){this.items=[],this.containers=[this];var m,y,j,g,w,f,p,k,v=this.items,x=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],q,{item:this.currentItem}):b(this.options.items,this.element),this]],t=this._connectWith();if(t&&this.ready){for(m=t.length-1;m>=0;m--){for(j=b(t[m]),y=j.length-1;y>=0;y--){g=b.data(j[y],this.widgetFullName),g&&g!==this&&!g.options.disabled&&(x.push([b.isFunction(g.options.items)?g.options.items.call(g.element[0],q,{item:this.currentItem}):b(g.options.items,g.element),g]),this.containers.push(g))}}}for(m=x.length-1;m>=0;m--){for(w=x[m][1],f=x[m][0],y=0,k=f.length;k>y;y++){p=b(f[y]),p.data(this.widgetName+"-item",w),v.push({item:p,instance:w,width:0,height:0,left:0,top:0})}}},refreshPositions:function(g){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var d,f,j,h;for(d=this.items.length-1;d>=0;d--){f=this.items[d],f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(j=this.options.toleranceElement?b(this.options.toleranceElement,f.item):f.item,g||(f.width=j.outerWidth(),f.height=j.outerHeight()),h=j.offset(),f.left=h.left,f.top=h.top)}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(d=this.containers.length-1;d>=0;d--){h=this.containers[d].element.offset(),this.containers[d].containerCache.left=h.left,this.containers[d].containerCache.top=h.top,this.containers[d].containerCache.width=this.containers[d].element.outerWidth(),this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}return this},_createPlaceholder:function(g){g=g||this;var d,f=g.options;f.placeholder&&f.placeholder.constructor!==String||(d=f.placeholder,f.placeholder={element:function(){var e=g.currentItem[0].nodeName.toLowerCase(),h=b("<"+e+">",g.document[0]).addClass(d||g.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?g.currentItem.children().each(function(){b("<td>&#160;</td>",g.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(h)}):"img"===e&&h.attr("src",g.currentItem.attr("src")),d||h.css("visibility","hidden"),h},update:function(e,h){(!d||f.forcePlaceholderSize)&&(h.height()||h.height(g.currentItem.innerHeight()-parseInt(g.currentItem.css("paddingTop")||0,10)-parseInt(g.currentItem.css("paddingBottom")||0,10)),h.width()||h.width(g.currentItem.innerWidth()-parseInt(g.currentItem.css("paddingLeft")||0,10)-parseInt(g.currentItem.css("paddingRight")||0,10)))}}),g.placeholder=b(f.placeholder.element.call(g.element,g.currentItem)),g.currentItem.after(g.placeholder),f.placeholder.update(g,g.placeholder)},_contactContainers:function(A){var k,j,y,e,q,m,x,z,w,i,v=null,t=null;for(k=this.containers.length-1;k>=0;k--){if(!b.contains(this.currentItem[0],this.containers[k].element[0])){if(this._intersectsWith(this.containers[k].containerCache)){if(v&&b.contains(this.containers[k].element[0],v.element[0])){continue}v=this.containers[k],t=k}else{this.containers[k].containerCache.over&&(this.containers[k]._trigger("out",A,this._uiHash(this)),this.containers[k].containerCache.over=0)}}}if(v){if(1===this.containers.length){this.containers[t].containerCache.over||(this.containers[t]._trigger("over",A,this._uiHash(this)),this.containers[t].containerCache.over=1)}else{for(y=10000,e=null,i=v.floating||a(this.currentItem),q=i?"left":"top",m=i?"width":"height",x=this.positionAbs[q]+this.offset.click[q],j=this.items.length-1;j>=0;j--){b.contains(this.containers[t].element[0],this.items[j].item[0])&&this.items[j].item[0]!==this.currentItem[0]&&(!i||c(this.positionAbs.top+this.offset.click.top,this.items[j].top,this.items[j].height))&&(z=this.items[j].item.offset()[q],w=!1,Math.abs(z-x)>Math.abs(z+this.items[j][m]-x)&&(w=!0,z+=this.items[j][m]),y>Math.abs(z-x)&&(y=Math.abs(z-x),e=this.items[j],this.direction=w?"up":"down"))}if(!e&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[t]){return}e?this._rearrange(A,e,null,!0):this._rearrange(A,null,this.containers[t].element,!0),this._trigger("change",A,this._uiHash()),this.containers[t]._trigger("change",A,this._uiHash(this)),this.currentContainer=this.containers[t],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[t]._trigger("over",A,this._uiHash(this)),this.containers[t].containerCache.over=1}}},_createHelper:function(g){var d=this.options,f=b.isFunction(d.helper)?b(d.helper.apply(this.element[0],[g,this.currentItem])):"clone"===d.helper?this.currentItem.clone():this.currentItem;return f.parents("body").length||b("parent"!==d.appendTo?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(f[0]),f[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!f[0].style.width||d.forceHelperSize)&&f.width(this.currentItem.width()),(!f[0].style.height||d.forceHelperSize)&&f.height(this.currentItem.height()),f},_adjustOffsetFromHelper:function(d){"string"==typeof d&&(d=d.split(" ")),b.isArray(d)&&(d={left:+d[0],top:+d[1]||0}),"left" in d&&(this.offset.click.left=d.left+this.margins.left),"right" in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left),"top" in d&&(this.offset.click.top=d.top+this.margins.top),"bottom" in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(d={top:0,left:0}),{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g,d,f,h=this.options;"parent"===h.containment&&(h.containment=this.helper[0].parentNode),("document"===h.containment||"window"===h.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b("document"===h.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"===h.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(h.containment)||(g=b(h.containment)[0],d=b(h.containment).offset(),f="hidden"!==b(g).css("overflow"),this.containment=[d.left+(parseInt(b(g).css("borderLeftWidth"),10)||0)+(parseInt(b(g).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(b(g).css("borderTopWidth"),10)||0)+(parseInt(b(g).css("paddingTop"),10)||0)-this.margins.top,d.left+(f?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(b(g).css("borderLeftWidth"),10)||0)-(parseInt(b(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(f?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(b(g).css("borderTopWidth"),10)||0)-(parseInt(b(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(g,d){d||(d=this.position);var f="absolute"===g?1:-1,j="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(j[0].tagName);return{top:d.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:j.scrollTop())*f,left:d.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:j.scrollLeft())*f}},_generatePosition:function(l){var f,j,p=this.options,m=l.pageX,d=l.pageY,k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(k[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(l.pageX-this.offset.click.left<this.containment[0]&&(m=this.containment[0]+this.offset.click.left),l.pageY-this.offset.click.top<this.containment[1]&&(d=this.containment[1]+this.offset.click.top),l.pageX-this.offset.click.left>this.containment[2]&&(m=this.containment[2]+this.offset.click.left),l.pageY-this.offset.click.top>this.containment[3]&&(d=this.containment[3]+this.offset.click.top)),p.grid&&(f=this.originalPageY+Math.round((d-this.originalPageY)/p.grid[1])*p.grid[1],d=this.containment?f-this.offset.click.top>=this.containment[1]&&f-this.offset.click.top<=this.containment[3]?f:f-this.offset.click.top>=this.containment[1]?f-p.grid[1]:f+p.grid[1]:f,j=this.originalPageX+Math.round((m-this.originalPageX)/p.grid[0])*p.grid[0],m=this.containment?j-this.offset.click.left>=this.containment[0]&&j-this.offset.click.left<=this.containment[2]?j:j-this.offset.click.left>=this.containment[0]?j-p.grid[0]:j+p.grid[0]:j)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:k.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:k.scrollLeft())}},_rearrange:function(f,h,d,g){d?d[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?h.item[0]:h.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var j=this.counter;this._delay(function(){j===this.counter&&this.refreshPositions(!g)})},_clear:function(f,h){this.reverting=!1;var d,g=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS){("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="")}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(this.fromOutside&&!h&&g.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||h||g.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(h||(g.push(function(e){this._trigger("remove",e,this._uiHash())}),g.push(function(e){return function(i){e._trigger("receive",i,this._uiHash(this))}}.call(this,this.currentContainer)),g.push(function(e){return function(i){e._trigger("update",i,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--){h||g.push(function(e){return function(i){e._trigger("deactivate",i,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over&&(g.push(function(e){return function(i){e._trigger("out",i,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over=0)}if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!h){for(this._trigger("beforeStop",f,this._uiHash()),d=0;g.length>d;d++){g[d].call(this,f)}this._trigger("stop",f,this._uiHash())}return this.fromOutside=!1,!1}if(h||this._trigger("beforeStop",f,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!h){for(d=0;g.length>d;d++){g[d].call(this,f)}this._trigger("stop",f,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){b.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(f){var d=f||this;return{helper:d.helper,placeholder:d.placeholder||b([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:f?f.element:null}}})})(jQuery);(function(f){var d=0,c={},b={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide",b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show",f.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var a=this.options;this.prevShow=this.prevHide=f(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),a.collapsible||a.active!==!1&&null!=a.active||(a.active=0),this._processPanels(),0>a.active&&(a.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():f(),content:this.active.length?this.active.next():f()}},_createIcons:function(){var a=this.options.icons;a&&(f("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(g,a){return"active"===g?(this._activate(a),undefined):("event"===g&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(a)),this._super(g,a),"collapsible"!==g||a||this.options.active!==!1||this._activate(0),"icons"===g&&(this._destroyIcons(),a&&this._createIcons()),"disabled"===g&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!a),undefined)},_keydown:function(h){if(!h.altKey&&!h.ctrlKey){var g=f.ui.keyCode,e=this.headers.length,j=this.headers.index(h.target),k=!1;switch(h.keyCode){case g.RIGHT:case g.DOWN:k=this.headers[(j+1)%e];break;case g.LEFT:case g.UP:k=this.headers[(j-1+e)%e];break;case g.SPACE:case g.ENTER:this._eventHandler(h);break;case g.HOME:k=this.headers[0];break;case g.END:k=this.headers[e-1]}k&&(f(h.target).attr("tabIndex",-1),f(k).attr("tabIndex",0),k.focus(),h.preventDefault())}},_panelKeyDown:function(a){a.keyCode===f.ui.keyCode.UP&&a.ctrlKey&&f(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels(),a.active===!1&&a.collapsible===!0||!this.headers.length?(a.active=!1,this.active=f()):a.active===!1?this._activate(0):this.active.length&&!f.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=f()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var g,e=this.options,h=e.heightStyle,k=this.element.parent(),j=this.accordionId="ui-accordion-"+(this.element.attr("id")||++d);this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(o){var m=f(this),l=m.attr("id"),p=m.next(),q=p.attr("id");l||(l=j+"-header-"+o,m.attr("id",l)),q||(q=j+"-panel-"+o,p.attr("id",q)),m.attr("aria-controls",q),p.attr("aria-labelledby",l)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===h?(g=k.height(),this.element.siblings(":visible").each(function(){var l=f(this),i=l.css("position");"absolute"!==i&&"fixed"!==i&&(g-=l.outerHeight(!0))}),this.headers.each(function(){g-=f(this).outerHeight(!0)}),this.headers.next().each(function(){f(this).height(Math.max(0,g-f(this).innerHeight()+f(this).height()))}).css("overflow","auto")):"auto"===h&&(g=0,this.headers.next().each(function(){g=Math.max(g,f(this).css("height","").height())}).height(g))},_activate:function(e){var a=this._findActive(e)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:f.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):f()},_setupEvents:function(e){var a={keydown:"_keydown"};e&&f.each(e.split(" "),function(h,g){a[g]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,a),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(q){var k=this.options,p=this.active,u=f(q.currentTarget),j=u[0]===p[0],e=j&&k.collapsible,g=e?f():u.next(),l=p.next(),m={oldHeader:p,oldPanel:l,newHeader:e?f():u,newPanel:g};q.preventDefault(),j&&!k.collapsible||this._trigger("beforeActivate",q,m)===!1||(k.active=e?!1:this.headers.index(u),this.active=j?f():u,this._toggle(m),p.removeClass("ui-accordion-header-active ui-state-active"),k.icons&&p.children(".ui-accordion-header-icon").removeClass(k.icons.activeHeader).addClass(k.icons.header),j||(u.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),k.icons&&u.children(".ui-accordion-header-icon").removeClass(k.icons.header).addClass(k.icons.activeHeader),u.next().addClass("ui-accordion-content-active")))},_toggle:function(h){var g=h.newPanel,e=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=g,this.prevHide=e,this.options.animate?this._animate(g,e,h):(e.hide(),g.show(),this._toggleComplete(h)),e.attr({"aria-expanded":"false","aria-hidden":"true"}),e.prev().attr("aria-selected","false"),g.length&&e.length?e.prev().attr("tabIndex",-1):g.length&&this.headers.filter(function(){return 0===f(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(m,y,z){var i,a,g,k=this,p=0,q=m.length&&(!y.length||m.index()<y.index()),j=this.options.animate||{},x=q&&j.down||j,w=function(){k._toggleComplete(z)};return"number"==typeof x&&(g=x),"string"==typeof x&&(a=x),a=a||x.easing||j.easing,g=g||x.duration||j.duration,y.length?m.length?(i=m.show().outerHeight(),y.animate(c,{duration:g,easing:a,step:function(l,h){h.now=Math.round(l)}}),m.hide().animate(b,{duration:g,easing:a,complete:w,step:function(l,h){h.now=Math.round(l),"height"!==h.prop?p+=h.now:"content"!==k.options.heightStyle&&(h.now=Math.round(i-y.outerHeight()-p),p=0)}}),undefined):y.animate(c,g,a,w):m.animate(b,g,a,w)},_toggleComplete:function(g){var a=g.oldPanel;a.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),a.length&&(a.parent()[0].className=a.parent()[0].className),this._trigger("activate",null,g)}})})(jQuery);(function(b){var a=0;b.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,d,f,h=this.element[0].nodeName.toLowerCase(),c="textarea"===h,g="input"===h;this.isMultiLine=c?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[c||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(j){if(this.element.prop("readOnly")){return e=!0,f=!0,d=!0,undefined}e=!1,f=!1,d=!1;var i=b.ui.keyCode;switch(j.keyCode){case i.PAGE_UP:e=!0,this._move("previousPage",j);break;case i.PAGE_DOWN:e=!0,this._move("nextPage",j);break;case i.UP:e=!0,this._keyEvent("previous",j);break;case i.DOWN:e=!0,this._keyEvent("next",j);break;case i.ENTER:case i.NUMPAD_ENTER:this.menu.active&&(e=!0,j.preventDefault(),this.menu.select(j));break;case i.TAB:this.menu.active&&this.menu.select(j);break;case i.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(j),j.preventDefault());break;default:d=!0,this._searchTimeout(j)}},keypress:function(i){if(e){return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault(),undefined}if(!d){var j=b.ui.keyCode;switch(i.keyCode){case j.PAGE_UP:this._move("previousPage",i);break;case j.PAGE_DOWN:this._move("nextPage",i);break;case j.UP:this._keyEvent("previous",i);break;case j.DOWN:this._keyEvent("next",i)}}},input:function(i){return f?(f=!1,i.preventDefault(),undefined):(this._searchTimeout(i),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(i){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(i),this._change(i),undefined)}}),this._initSource(),this.menu=b("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(k){k.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var j=this.menu.element[0];b(k.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(l){l.target===i.element[0]||l.target===j||b.contains(j,l.target)||i.close()})})},menufocus:function(k,j){if(this.isNewMenu&&(this.isNewMenu=!1,k.originalEvent&&/^mouse/.test(k.originalEvent.type))){return this.menu.blur(),this.document.one("mousemove",function(){b(k.target).trigger(k.originalEvent)}),undefined}var l=j.item.data("ui-autocomplete-item");!1!==this._trigger("focus",k,{item:l})?k.originalEvent&&/^key/.test(k.originalEvent.type)&&this._value(l.value):this.liveRegion.text(l.value)},menuselect:function(m,k){var j=k.item.data("ui-autocomplete-item"),l=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=l,this._delay(function(){this.previous=l,this.selectedItem=j})),!1!==this._trigger("select",m,{item:j})&&this._value(j.value),this.term=this._value(),this.close(m),this.selectedItem=j}}),this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(d,c){this._super(d,c),"source"===d&&this._initSource(),"appendTo"===d&&this.menu.element.appendTo(this._appendTo()),"disabled"===d&&c&&this.xhr&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;return c&&(c=c.jquery||c.nodeType?b(c):this.document.find(c).eq(0)),c||(c=this.element.closest(".ui-front")),c.length||(c=this.document[0].body),c},_initSource:function(){var d,c,e=this;b.isArray(this.options.source)?(d=this.options.source,this.source=function(f,g){g(b.ui.autocomplete.filter(d,f.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(f,g){e.xhr&&e.xhr.abort(),e.xhr=b.ajax({url:c,data:f,dataType:"json",success:function(h){g(h)},error:function(){g([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(d,c){return d=null!=d?d:this._value(),this.term=this._value(),d.length<this.options.minLength?this.close(c):this._trigger("search",c)!==!1?this._search(d):undefined},_search:function(c){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:c},this._response())},_response:function(){var d=this,c=++a;return function(e){c===a&&d.__response(e),d.pending--,d.pending||d.element.removeClass("ui-autocomplete-loading")}},__response:function(c){c&&(c=this._normalize(c)),this._trigger("response",null,{content:c}),!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0,this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:b.map(c,function(d){return"string"==typeof d?{label:d,value:d}:b.extend({label:d.label||d.value,value:d.value||d.label},d)})},_suggest:function(d){var c=this.menu.element.empty();this._renderMenu(c,d),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(b.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(d,c){var e=this;b.each(c,function(g,f){e._renderItemData(d,f)})},_renderItemData:function(d,c){return this._renderItem(d,c).data("ui-autocomplete-item",c)},_renderItem:function(d,c){return b("<li>").append(b("<a>").text(c.label)).appendTo(d)},_move:function(d,c){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(d)||this.menu.isLastItem()&&/^next/.test(d)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[d](c),undefined):(this.search(null,c),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(d,c){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(d,c),c.preventDefault())}}),b.extend(b.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(d,c){var e=RegExp(b.ui.autocomplete.escapeRegex(c),"i");return b.grep(d,function(f){return e.test(f.label||f.value||f)})}}),b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(c>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(d){var c;this._superApply(arguments),this.options.disabled||this.cancelSearch||(c=d&&d.length?this.options.messages.results(d.length):this.options.messages.noResults,this.liveRegion.text(c))}})})(jQuery);(function(j){var m,f,d,p,k="ui-button ui-widget ui-state-default ui-corner-all",c="ui-state-hover ui-state-active ",b="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",g=function(){var a=j(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},l=function(e){var a=e.name,o=e.form,h=j([]);return a&&(a=a.replace(/'/g,"\\'"),h=o?j(o).find("[name='"+a+"']"):j("[name='"+a+"']",e.ownerDocument).filter(function(){return !this.form})),h};j.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,g),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var i=this,e=this.options,a="checkbox"===this.type||"radio"===this.type,n=a?"":"ui-state-active",h="ui-state-focus";null===e.label&&(e.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(k).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){e.disabled||this===m&&j(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){e.disabled||j(this).removeClass(n)}).bind("click"+this.eventNamespace,function(o){e.disabled&&(o.preventDefault(),o.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){i.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){i.buttonElement.removeClass(h)}),a&&(this.element.bind("change"+this.eventNamespace,function(){p||i.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(o){e.disabled||(p=!1,f=o.pageX,d=o.pageY)}).bind("mouseup"+this.eventNamespace,function(o){e.disabled||(f!==o.pageX||d!==o.pageY)&&(p=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return e.disabled||p?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled||p){return !1}j(this).addClass("ui-state-active"),i.buttonElement.attr("aria-pressed","true");var o=i.element[0];l(o).not(o).map(function(){return j(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return e.disabled?!1:(j(this).addClass("ui-state-active"),m=this,i.document.one("mouseup",function(){m=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return e.disabled?!1:(j(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(o){return e.disabled?!1:((o.keyCode===j.ui.keyCode.SPACE||o.keyCode===j.ui.keyCode.ENTER)&&j(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){j(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(o){o.keyCode===j.ui.keyCode.SPACE&&j(this).click()})),this._setOption("disabled",e.disabled),this._resetButton()},_determineButtonType:function(){var n,h,a;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(n=this.element.parents().last(),h="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(h),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(h),this.buttonElement.length||(this.buttonElement=n.find(h))),this.element.addClass("ui-helper-hidden-accessible"),a=this.element.is(":checked"),a&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(k+" "+c+" "+b).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(h,a){return this._super(h,a),"disabled"===h?(a?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?l(this.element[0]).each(function(){j(this).is(":checked")?j(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):j(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type){return this.options.label&&this.element.val(this.options.label),undefined}var o=this.buttonElement.removeClass(b),h=j("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(o.empty()).text(),r=this.options.icons,q=r.primary&&r.secondary,e=[];r.primary||r.secondary?(this.options.text&&e.push("ui-button-text-icon"+(q?"s":r.primary?"-primary":"-secondary")),r.primary&&o.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>"),r.secondary&&o.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>"),this.options.text||(e.push(q?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||o.attr("title",j.trim(h)))):e.push("ui-button-text-only"),o.addClass(e.join(" "))}}),j.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(h,a){"disabled"===h&&this.buttons.button("option",h,a),this._super(h,a)},refresh:function(){var a="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return j(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return j(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function(h,d){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},h.extend(this._defaults,this.regional[""]),this.dpDiv=b(h("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function b(e){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(a,"mouseout",function(){h(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&h(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&h(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",function(){h.datepicker._isDisabledDatepicker(j.inline?e.parent()[0]:j.input[0])||(h(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),h(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&h(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&h(this).addClass("ui-datepicker-next-hover"))})}function f(l,k){h.extend(l,k);for(var e in k){null==k[e]&&(l[e]=k[e])}return l}h.extend(h.ui,{datepicker:{version:"1.10.3"}});var j,g="datepicker";h.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,a||{}),this},_attachDatepicker:function(l,k){var e,m,o;e=l.nodeName.toLowerCase(),m="div"===e||"span"===e,l.id||(this.uuid+=1,l.id="dp"+this.uuid),o=this._newInst(h(l),m),o.settings=h.extend({},k||{}),"input"===e?this._connectDatepicker(l,o):m&&this._inlineDatepicker(l,o)},_newInst:function(e,a){var k=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:k,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?b(h("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(l,k){var e=h(l);k.append=h([]),k.trigger=h([]),e.hasClass(this.markerClassName)||(this._attachments(e,k),e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(k),h.data(l,g,k),k.settings.disabled&&this._disableDatepicker(l))},_attachments:function(l,k){var e,m,u,p=this._get(k,"appendText"),q=this._get(k,"isRTL");k.append&&k.append.remove(),p&&(k.append=h("<span class='"+this._appendClass+"'>"+p+"</span>"),l[q?"before":"after"](k.append)),l.unbind("focus",this._showDatepicker),k.trigger&&k.trigger.remove(),e=this._get(k,"showOn"),("focus"===e||"both"===e)&&l.focus(this._showDatepicker),("button"===e||"both"===e)&&(m=this._get(k,"buttonText"),u=this._get(k,"buttonImage"),k.trigger=h(this._get(k,"buttonImageOnly")?h("<img/>").addClass(this._triggerClass).attr({src:u,alt:m,title:m}):h("<button type='button'></button>").addClass(this._triggerClass).html(u?h("<img/>").attr({src:u,alt:m,title:m}):m)),l[q?"before":"after"](k.trigger),k.trigger.click(function(){return h.datepicker._datepickerShowing&&h.datepicker._lastInput===l[0]?h.datepicker._hideDatepicker():h.datepicker._datepickerShowing&&h.datepicker._lastInput!==l[0]?(h.datepicker._hideDatepicker(),h.datepicker._showDatepicker(l[0])):h.datepicker._showDatepicker(l[0]),!1}))},_autoSize:function(q){if(this._get(q,"autoSize")&&!q.inline){var m,l,k,o,u=new Date(2009,11,20),p=this._get(q,"dateFormat");p.match(/[DM]/)&&(m=function(a){for(l=0,k=0,o=0;a.length>o;o++){a[o].length>l&&(l=a[o].length,k=o)}return k},u.setMonth(m(this._get(q,p.match(/MM/)?"monthNames":"monthNamesShort"))),u.setDate(m(this._get(q,p.match(/DD/)?"dayNames":"dayNamesShort"))+20-u.getDay())),q.input.attr("size",this._formatDate(q,u).length)}},_inlineDatepicker:function(l,k){var e=h(l);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(k.dpDiv),h.data(l,g,k),this._setDate(k,this._getDefaultDate(k),!0),this._updateDatepicker(k),this._updateAlternate(k),k.settings.disabled&&this._disableDatepicker(l),k.dpDiv.css("display","block"))},_dialogDatepicker:function(z,r,x,m,k){var y,w,q,s,v,e=this._dialogInst;return e||(this.uuid+=1,y="dp"+this.uuid,this._dialogInput=h("<input type='text' id='"+y+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),h("body").append(this._dialogInput),e=this._dialogInst=this._newInst(this._dialogInput,!1),e.settings={},h.data(this._dialogInput[0],g,e)),f(e.settings,m||{}),r=r&&r.constructor===Date?this._formatDate(e,r):r,this._dialogInput.val(r),this._pos=k?k.length?k:[k.pageX,k.pageY]:null,this._pos||(w=document.documentElement.clientWidth,q=document.documentElement.clientHeight,s=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[w/2-100+s,q/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),e.settings.onSelect=x,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),h.blockUI&&h.blockUI(this.dpDiv),h.data(this._dialogInput[0],g,e),this},_destroyDatepicker:function(l){var k,e=h(l),m=h.data(l,g);e.hasClass(this.markerClassName)&&(k=l.nodeName.toLowerCase(),h.removeData(l,g),"input"===k?(m.append.remove(),m.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===k||"span"===k)&&e.removeClass(this.markerClassName).empty())},_enableDatepicker:function(l){var k,e,m=h(l),o=h.data(l,g);m.hasClass(this.markerClassName)&&(k=l.nodeName.toLowerCase(),"input"===k?(l.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===k||"span"===k)&&(e=m.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=h.map(this._disabledInputs,function(a){return a===l?null:a}))},_disableDatepicker:function(l){var k,e,m=h(l),o=h.data(l,g);m.hasClass(this.markerClassName)&&(k=l.nodeName.toLowerCase(),"input"===k?(l.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===k||"span"===k)&&(e=m.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=h.map(this._disabledInputs,function(a){return a===l?null:a}),this._disabledInputs[this._disabledInputs.length]=l)},_isDisabledDatepicker:function(i){if(!i){return !1}for(var a=0;this._disabledInputs.length>a;a++){if(this._disabledInputs[a]===i){return !0}}return !1},_getInst:function(e){try{return h.data(e,g)}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(p,k,v){var q,s,m,t,e=this._getInst(p);return 2===arguments.length&&"string"==typeof k?"defaults"===k?h.extend({},h.datepicker._defaults):e?"all"===k?h.extend({},e.settings):this._get(e,k):null:(q=k||{},"string"==typeof k&&(q={},q[k]=v),e&&(this._curInst===e&&this._hideDatepicker(),s=this._getDateDatepicker(p,!0),m=this._getMinMaxDate(e,"min"),t=this._getMinMaxDate(e,"max"),f(e.settings,q),null!==m&&q.dateFormat!==d&&q.minDate===d&&(e.settings.minDate=this._formatDate(e,m)),null!==t&&q.dateFormat!==d&&q.maxDate===d&&(e.settings.maxDate=this._formatDate(e,t)),"disabled" in q&&(q.disabled?this._disableDatepicker(p):this._enableDatepicker(p)),this._attachments(h(p),e),this._autoSize(e),this._setDate(e,s),this._updateAlternate(e),this._updateDatepicker(e)),d)},_changeDatepicker:function(l,k,a){this._optionDatepicker(l,k,a)},_refreshDatepicker:function(i){var a=this._getInst(i);a&&this._updateDatepicker(a)},_setDateDatepicker:function(l,k){var a=this._getInst(l);a&&(this._setDate(a,k),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(l,k){var a=this._getInst(l);return a&&!a.inline&&this._setDateFromField(a,k),a?this._getDate(a):null},_doKeyDown:function(l){var k,e,m,u=h.datepicker._getInst(l.target),p=!0,q=u.dpDiv.is(".ui-datepicker-rtl");if(u._keyEvent=!0,h.datepicker._datepickerShowing){switch(l.keyCode){case 9:h.datepicker._hideDatepicker(),p=!1;break;case 13:return m=h("td."+h.datepicker._dayOverClass+":not(."+h.datepicker._currentClass+")",u.dpDiv),m[0]&&h.datepicker._selectDay(l.target,u.selectedMonth,u.selectedYear,m[0]),k=h.datepicker._get(u,"onSelect"),k?(e=h.datepicker._formatDate(u),k.apply(u.input?u.input[0]:null,[e,u])):h.datepicker._hideDatepicker(),!1;case 27:h.datepicker._hideDatepicker();break;case 33:h.datepicker._adjustDate(l.target,l.ctrlKey?-h.datepicker._get(u,"stepBigMonths"):-h.datepicker._get(u,"stepMonths"),"M");break;case 34:h.datepicker._adjustDate(l.target,l.ctrlKey?+h.datepicker._get(u,"stepBigMonths"):+h.datepicker._get(u,"stepMonths"),"M");break;case 35:(l.ctrlKey||l.metaKey)&&h.datepicker._clearDate(l.target),p=l.ctrlKey||l.metaKey;break;case 36:(l.ctrlKey||l.metaKey)&&h.datepicker._gotoToday(l.target),p=l.ctrlKey||l.metaKey;break;case 37:(l.ctrlKey||l.metaKey)&&h.datepicker._adjustDate(l.target,q?1:-1,"D"),p=l.ctrlKey||l.metaKey,l.originalEvent.altKey&&h.datepicker._adjustDate(l.target,l.ctrlKey?-h.datepicker._get(u,"stepBigMonths"):-h.datepicker._get(u,"stepMonths"),"M");break;case 38:(l.ctrlKey||l.metaKey)&&h.datepicker._adjustDate(l.target,-7,"D"),p=l.ctrlKey||l.metaKey;break;case 39:(l.ctrlKey||l.metaKey)&&h.datepicker._adjustDate(l.target,q?-1:1,"D"),p=l.ctrlKey||l.metaKey,l.originalEvent.altKey&&h.datepicker._adjustDate(l.target,l.ctrlKey?+h.datepicker._get(u,"stepBigMonths"):+h.datepicker._get(u,"stepMonths"),"M");break;case 40:(l.ctrlKey||l.metaKey)&&h.datepicker._adjustDate(l.target,7,"D"),p=l.ctrlKey||l.metaKey;break;default:p=!1}}else{36===l.keyCode&&l.ctrlKey?h.datepicker._showDatepicker(this):p=!1}p&&(l.preventDefault(),l.stopPropagation())},_doKeyPress:function(k){var e,l,m=h.datepicker._getInst(k.target);return h.datepicker._get(m,"constrainInput")?(e=h.datepicker._possibleChars(h.datepicker._get(m,"dateFormat")),l=String.fromCharCode(null==k.charCode?k.keyCode:k.charCode),k.ctrlKey||k.metaKey||" ">l||!e||e.indexOf(l)>-1):d},_doKeyUp:function(l){var k,e=h.datepicker._getInst(l.target);if(e.input.val()!==e.lastVal){try{k=h.datepicker.parseDate(h.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,h.datepicker._getFormatConfig(e)),k&&(h.datepicker._setDateFromField(e),h.datepicker._updateAlternate(e),h.datepicker._updateDatepicker(e))}catch(m){}}return !0},_showDatepicker:function(m){if(m=m.target||m,"input"!==m.nodeName.toLowerCase()&&(m=h("input",m.parentNode)[0]),!h.datepicker._isDisabledDatepicker(m)&&h.datepicker._lastInput!==m){var l,e,v,p,q,k,s;l=h.datepicker._getInst(m),h.datepicker._curInst&&h.datepicker._curInst!==l&&(h.datepicker._curInst.dpDiv.stop(!0,!0),l&&h.datepicker._datepickerShowing&&h.datepicker._hideDatepicker(h.datepicker._curInst.input[0])),e=h.datepicker._get(l,"beforeShow"),v=e?e.apply(m,[m,l]):{},v!==!1&&(f(l.settings,v),l.lastVal=null,h.datepicker._lastInput=m,h.datepicker._setDateFromField(l),h.datepicker._inDialog&&(m.value=""),h.datepicker._pos||(h.datepicker._pos=h.datepicker._findPos(m),h.datepicker._pos[1]+=m.offsetHeight),p=!1,h(m).parents().each(function(){return p|="fixed"===h(this).css("position"),!p}),q={left:h.datepicker._pos[0],top:h.datepicker._pos[1]},h.datepicker._pos=null,l.dpDiv.empty(),l.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),h.datepicker._updateDatepicker(l),q=h.datepicker._checkOffset(l,q,p),l.dpDiv.css({position:h.datepicker._inDialog&&h.blockUI?"static":p?"fixed":"absolute",display:"none",left:q.left+"px",top:q.top+"px"}),l.inline||(k=h.datepicker._get(l,"showAnim"),s=h.datepicker._get(l,"duration"),l.dpDiv.zIndex(h(m).zIndex()+1),h.datepicker._datepickerShowing=!0,h.effects&&h.effects.effect[k]?l.dpDiv.show(k,h.datepicker._get(l,"showOptions"),s):l.dpDiv[k||"show"](k?s:null),h.datepicker._shouldFocusInput(l)&&l.input.focus(),h.datepicker._curInst=l))}},_updateDatepicker:function(l){this.maxRows=4,j=l,l.dpDiv.empty().append(this._generateHTML(l)),this._attachHandlers(l),l.dpDiv.find("."+this._dayOverClass+" a").mouseover();var k,e=this._getNumberOfMonths(l),m=e[1],n=17;l.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),m>1&&l.dpDiv.addClass("ui-datepicker-multi-"+m).css("width",n*m+"em"),l.dpDiv[(1!==e[0]||1!==e[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),l.dpDiv[(this._get(l,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),l===h.datepicker._curInst&&h.datepicker._datepickerShowing&&h.datepicker._shouldFocusInput(l)&&l.input.focus(),l.yearshtml&&(k=l.yearshtml,setTimeout(function(){k===l.yearshtml&&l.yearshtml&&l.dpDiv.find("select.ui-datepicker-year:first").replaceWith(l.yearshtml),k=l.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(w,m,q){var x=w.dpDiv.outerWidth(),l=w.dpDiv.outerHeight(),e=w.input?w.input.outerWidth():0,k=w.input?w.input.outerHeight():0,v=document.documentElement.clientWidth+(q?0:h(document).scrollLeft()),p=document.documentElement.clientHeight+(q?0:h(document).scrollTop());return m.left-=this._get(w,"isRTL")?x-e:0,m.left-=q&&m.left===w.input.offset().left?h(document).scrollLeft():0,m.top-=q&&m.top===w.input.offset().top+k?h(document).scrollTop():0,m.left-=Math.min(m.left,m.left+x>v&&v>x?Math.abs(m.left+x-v):0),m.top-=Math.min(m.top,m.top+l>p&&p>l?Math.abs(l+k):0),m},_findPos:function(l){for(var k,e=this._getInst(l),m=this._get(e,"isRTL");l&&("hidden"===l.type||1!==l.nodeType||h.expr.filters.hidden(l));){l=l[m?"previousSibling":"nextSibling"]}return k=h(l).offset(),[k.left,k.top]},_hideDatepicker:function(l){var k,e,m,q,p=this._curInst;!p||l&&p!==h.data(l,g)||this._datepickerShowing&&(k=this._get(p,"showAnim"),e=this._get(p,"duration"),m=function(){h.datepicker._tidyDialog(p)},h.effects&&(h.effects.effect[k]||h.effects[k])?p.dpDiv.hide(k,h.datepicker._get(p,"showOptions"),e,m):p.dpDiv["slideDown"===k?"slideUp":"fadeIn"===k?"fadeOut":"hide"](k?e:null,m),k||m(),this._datepickerShowing=!1,q=this._get(p,"onClose"),q&&q.apply(p.input?p.input[0]:null,[p.input?p.input.val():"",p]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),h.blockUI&&(h.unblockUI(),h("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(l){if(h.datepicker._curInst){var k=h(l.target),e=h.datepicker._getInst(k[0]);(k[0].id!==h.datepicker._mainDivId&&0===k.parents("#"+h.datepicker._mainDivId).length&&!k.hasClass(h.datepicker.markerClassName)&&!k.closest("."+h.datepicker._triggerClass).length&&h.datepicker._datepickerShowing&&(!h.datepicker._inDialog||!h.blockUI)||k.hasClass(h.datepicker.markerClassName)&&h.datepicker._curInst!==e)&&h.datepicker._hideDatepicker()}},_adjustDate:function(l,k,e){var m=h(l),o=this._getInst(m[0]);this._isDisabledDatepicker(m[0])||(this._adjustInstDate(o,k+("M"===e?this._get(o,"showCurrentAtPos"):0),e),this._updateDatepicker(o))},_gotoToday:function(l){var k,e=h(l),m=this._getInst(e[0]);this._get(m,"gotoCurrent")&&m.currentDay?(m.selectedDay=m.currentDay,m.drawMonth=m.selectedMonth=m.currentMonth,m.drawYear=m.selectedYear=m.currentYear):(k=new Date,m.selectedDay=k.getDate(),m.drawMonth=m.selectedMonth=k.getMonth(),m.drawYear=m.selectedYear=k.getFullYear()),this._notifyChange(m),this._adjustDate(e)},_selectMonthYear:function(l,k,e){var m=h(l),o=this._getInst(m[0]);o["selected"+("M"===e?"Month":"Year")]=o["draw"+("M"===e?"Month":"Year")]=parseInt(k.options[k.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(m)},_selectDay:function(l,k,e,m){var p,o=h(l);h(m).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(p=this._getInst(o[0]),p.selectedDay=p.currentDay=h("a",m).html(),p.selectedMonth=p.currentMonth=k,p.selectedYear=p.currentYear=e,this._selectDate(l,this._formatDate(p,p.currentDay,p.currentMonth,p.currentYear)))},_clearDate:function(e){var a=h(e);this._selectDate(a,"")},_selectDate:function(l,k){var e,m=h(l),o=this._getInst(m[0]);k=null!=k?k:this._formatDate(o),o.input&&o.input.val(k),this._updateAlternate(o),e=this._get(o,"onSelect"),e?e.apply(o.input?o.input[0]:null,[k,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(l){var k,e,m,o=this._get(l,"altField");o&&(k=this._get(l,"altFormat")||this._get(l,"dateFormat"),e=this._getDate(l),m=this.formatDate(k,e,this._getFormatConfig(l)),h(o).each(function(){h(this).val(m)}))},noWeekends:function(i){var a=i.getDay();return[a>0&&6>a,""]},iso8601Week:function(l){var k,a=new Date(l.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),k=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((k-a)/86400000)/7)+1},parseDate:function(K,S,B){if(null==K||null==S){throw"Invalid arguments"}if(S="object"==typeof S?""+S:S+"",""===S){return null}var G,C,F,z,Q=0,I=(B?B.shortYearCutoff:null)||this._defaults.shortYearCutoff,L="string"!=typeof I?I:(new Date).getFullYear()%100+parseInt(I,10),P=(B?B.dayNamesShort:null)||this._defaults.dayNamesShort,E=(B?B.dayNames:null)||this._defaults.dayNames,N=(B?B.monthNamesShort:null)||this._defaults.monthNamesShort,H=(B?B.monthNames:null)||this._defaults.monthNames,O=-1,T=-1,x=-1,J=-1,R=!1,q=function(i){var a=K.length>G+1&&K.charAt(G+1)===i;return a&&G++,a},A=function(m){var k=q(m),a="@"===m?14:"!"===m?20:"y"===m&&k?4:"o"===m?3:2,l=RegExp("^\\d{1,"+a+"}"),o=S.substring(Q).match(l);if(!o){throw"Missing number at position "+Q}return Q+=o[0].length,parseInt(o[0],10)},t=function(a,k,p){var l=-1,m=h.map(q(a)?p:k,function(n,i){return[[i,n]]}).sort(function(n,i){return -(n[1].length-i[1].length)});if(h.each(m,function(r,n){var o=n[1];return S.substr(Q,o.length).toLowerCase()===o.toLowerCase()?(l=n[0],Q+=o.length,!1):d}),-1!==l){return l+1}throw"Unknown name at position "+Q},e=function(){if(S.charAt(Q)!==K.charAt(G)){throw"Unexpected literal at position "+Q}Q++};for(G=0;K.length>G;G++){if(R){"'"!==K.charAt(G)||q("'")?e():R=!1}else{switch(K.charAt(G)){case"d":x=A("d");break;case"D":t("D",P,E);break;case"o":J=A("o");break;case"m":T=A("m");break;case"M":T=t("M",N,H);break;case"y":O=A("y");break;case"@":z=new Date(A("@")),O=z.getFullYear(),T=z.getMonth()+1,x=z.getDate();break;case"!":z=new Date((A("!")-this._ticksTo1970)/10000),O=z.getFullYear(),T=z.getMonth()+1,x=z.getDate();break;case"'":q("'")?e():R=!0;break;default:e()}}}if(S.length>Q&&(F=S.substr(Q),!/^\s+/.test(F))){throw"Extra/unparsed characters found in date: "+F}if(-1===O?O=(new Date).getFullYear():100>O&&(O+=(new Date).getFullYear()-(new Date).getFullYear()%100+(L>=O?0:-100)),J>-1){for(T=1,x=J;;){if(C=this._getDaysInMonth(O,T-1),C>=x){break}T++,x-=C}}if(z=this._daylightSavingAdjust(new Date(O,T-1,x)),z.getFullYear()!==O||z.getMonth()+1!==T||z.getDate()!==x){throw"Invalid date"}return z},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(x,C,v){if(!C){return""}var A,D=(v?v.dayNamesShort:null)||this._defaults.dayNamesShort,p=(v?v.dayNames:null)||this._defaults.dayNames,k=(v?v.monthNamesShort:null)||this._defaults.monthNamesShort,m=(v?v.monthNames:null)||this._defaults.monthNames,B=function(e){var a=x.length>A+1&&x.charAt(A+1)===e;return a&&A++,a},z=function(r,o,n){var l=""+o;if(B(r)){for(;n>l.length;){l="0"+l}}return l},q=function(r,o,n,l){return B(r)?l[o]:n[o]},w="",y=!1;if(C){for(A=0;x.length>A;A++){if(y){"'"!==x.charAt(A)||B("'")?w+=x.charAt(A):y=!1}else{switch(x.charAt(A)){case"d":w+=z("d",C.getDate(),2);break;case"D":w+=q("D",C.getDay(),D,p);break;case"o":w+=z("o",Math.round((new Date(C.getFullYear(),C.getMonth(),C.getDate()).getTime()-new Date(C.getFullYear(),0,0).getTime())/86400000),3);break;case"m":w+=z("m",C.getMonth()+1,2);break;case"M":w+=q("M",C.getMonth(),k,m);break;case"y":w+=B("y")?C.getFullYear():(10>C.getYear()%100?"0":"")+C.getYear()%100;break;case"@":w+=C.getTime();break;case"!":w+=10000*C.getTime()+this._ticksTo1970;break;case"'":B("'")?w+="'":y=!0;break;default:w+=x.charAt(A)}}}}return w},_possibleChars:function(o){var m,l="",k=!1,n=function(p){var e=o.length>m+1&&o.charAt(m+1)===p;return e&&m++,e};for(m=0;o.length>m;m++){if(k){"'"!==o.charAt(m)||n("'")?l+=o.charAt(m):k=!1}else{switch(o.charAt(m)){case"d":case"m":case"y":case"@":l+="0123456789";break;case"D":case"M":return null;case"'":n("'")?l+="'":k=!0;break;default:l+=o.charAt(m)}}}return l},_get:function(k,a){return k.settings[a]!==d?k.settings[a]:this._defaults[a]},_setDateFromField:function(u,m){if(u.input.val()!==u.lastVal){var l=this._get(u,"dateFormat"),k=u.lastVal=u.input?u.input.val():null,p=this._getDefaultDate(u),w=p,q=this._getFormatConfig(u);try{w=this.parseDate(l,k,q)||p}catch(v){k=m?"":k}u.selectedDay=w.getDate(),u.drawMonth=u.selectedMonth=w.getMonth(),u.drawYear=u.selectedYear=w.getFullYear(),u.currentDay=k?w.getDate():0,u.currentMonth=k?w.getMonth():0,u.currentYear=k?w.getFullYear():0,this._adjustInstDate(u)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(l,k,e){var m=function(i){var a=new Date;return a.setDate(a.getDate()+i),a},p=function(v){try{return h.datepicker.parseDate(h.datepicker._get(l,"dateFormat"),v,h.datepicker._getFormatConfig(l))}catch(q){}for(var w=(v.toLowerCase().match(/^c/)?h.datepicker._getDate(l):null)||new Date,A=w.getFullYear(),x=w.getMonth(),y=w.getDate(),t=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,z=t.exec(v);z;){switch(z[2]||"d"){case"d":case"D":y+=parseInt(z[1],10);break;case"w":case"W":y+=7*parseInt(z[1],10);break;case"m":case"M":x+=parseInt(z[1],10),y=Math.min(y,h.datepicker._getDaysInMonth(A,x));break;case"y":case"Y":A+=parseInt(z[1],10),y=Math.min(y,h.datepicker._getDaysInMonth(A,x))}z=t.exec(v)}return new Date(A,x,y)},o=null==k||""===k?e:"string"==typeof k?p(k):"number"==typeof k?isNaN(k)?e:m(k):new Date(k.getTime());return o=o&&"Invalid Date"==""+o?e:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(q,m,l){var k=!m,o=q.selectedMonth,u=q.selectedYear,p=this._restrictMinMax(q,this._determineDate(q,m,new Date));q.selectedDay=q.currentDay=p.getDate(),q.drawMonth=q.selectedMonth=q.currentMonth=p.getMonth(),q.drawYear=q.selectedYear=q.currentYear=p.getFullYear(),o===q.selectedMonth&&u===q.selectedYear||l||this._notifyChange(q),this._adjustInstDate(q),q.input&&q.input.val(k?"":this._formatDate(q))},_getDate:function(i){var a=!i.currentYear||i.input&&""===i.input.val()?null:this._daylightSavingAdjust(new Date(i.currentYear,i.currentMonth,i.currentDay));return a},_attachHandlers:function(l){var k=this._get(l,"stepMonths"),e="#"+l.id.replace(/\\\\/g,"\\");l.dpDiv.find("[data-handler]").map(function(){var a={prev:function(){h.datepicker._adjustDate(e,-k,"M")},next:function(){h.datepicker._adjustDate(e,+k,"M")},hide:function(){h.datepicker._hideDatepicker()},today:function(){h.datepicker._gotoToday(e)},selectDay:function(){return h.datepicker._selectDay(e,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return h.datepicker._selectMonthYear(e,this,"M"),!1},selectYear:function(){return h.datepicker._selectMonthYear(e,this,"Y"),!1}};h(this).bind(this.getAttribute("data-event"),a[this.getAttribute("data-handler")])})},_generateHTML:function(aY){var aI,aU,a2,aJ,aP,aK,aO,aH,a0,aR,aV,aZ,aN,aW,aQ,aX,a3,aG,aS,a1,aD,ax,aF,an,ay,aE,ar,am,ag,aA,aw,ah,ab,av,ak,al,aT,ap,ai,at=new Date,ad=this._daylightSavingAdjust(new Date(at.getFullYear(),at.getMonth(),at.getDate())),ao=this._get(aY,"isRTL"),af=this._get(aY,"showButtonPanel"),az=this._get(aY,"hideIfNoPrevNext"),aC=this._get(aY,"navigationAsDateFormat"),aL=this._getNumberOfMonths(aY),au=this._get(aY,"showCurrentAtPos"),aq=this._get(aY,"stepMonths"),aj=1!==aL[0]||1!==aL[1],ae=this._daylightSavingAdjust(aY.currentDay?new Date(aY.currentYear,aY.currentMonth,aY.currentDay):new Date(9999,9,9)),aB=this._getMinMaxDate(aY,"min"),ac=this._getMinMaxDate(aY,"max"),aa=aY.drawMonth-au,aM=aY.drawYear;if(0>aa&&(aa+=12,aM--),ac){for(aI=this._daylightSavingAdjust(new Date(ac.getFullYear(),ac.getMonth()-aL[0]*aL[1]+1,ac.getDate())),aI=aB&&aB>aI?aB:aI;this._daylightSavingAdjust(new Date(aM,aa,1))>aI;){aa--,0>aa&&(aa=11,aM--)}}for(aY.drawMonth=aa,aY.drawYear=aM,aU=this._get(aY,"prevText"),aU=aC?this.formatDate(aU,this._daylightSavingAdjust(new Date(aM,aa-aq,1)),this._getFormatConfig(aY)):aU,a2=this._canAdjustMonth(aY,-1,aM,aa)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"e":"w")+"'>"+aU+"</span></a>":az?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"e":"w")+"'>"+aU+"</span></a>",aJ=this._get(aY,"nextText"),aJ=aC?this.formatDate(aJ,this._daylightSavingAdjust(new Date(aM,aa+aq,1)),this._getFormatConfig(aY)):aJ,aP=this._canAdjustMonth(aY,1,aM,aa)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aJ+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"w":"e")+"'>"+aJ+"</span></a>":az?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aJ+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"w":"e")+"'>"+aJ+"</span></a>",aK=this._get(aY,"currentText"),aO=this._get(aY,"gotoCurrent")&&aY.currentDay?ae:ad,aK=aC?this.formatDate(aK,aO,this._getFormatConfig(aY)):aK,aH=aY.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aY,"closeText")+"</button>",a0=af?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ao?aH:"")+(this._isInRange(aY,aO)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+aK+"</button>":"")+(ao?"":aH)+"</div>":"",aR=parseInt(this._get(aY,"firstDay"),10),aR=isNaN(aR)?0:aR,aV=this._get(aY,"showWeek"),aZ=this._get(aY,"dayNames"),aN=this._get(aY,"dayNamesMin"),aW=this._get(aY,"monthNames"),aQ=this._get(aY,"monthNamesShort"),aX=this._get(aY,"beforeShowDay"),a3=this._get(aY,"showOtherMonths"),aG=this._get(aY,"selectOtherMonths"),aS=this._getDefaultDate(aY),a1="",ax=0;aL[0]>ax;ax++){for(aF="",this.maxRows=4,an=0;aL[1]>an;an++){if(ay=this._daylightSavingAdjust(new Date(aM,aa,aY.selectedDay)),aE=" ui-corner-all",ar="",aj){if(ar+="<div class='ui-datepicker-group",aL[1]>1){switch(an){case 0:ar+=" ui-datepicker-group-first",aE=" ui-corner-"+(ao?"right":"left");break;case aL[1]-1:ar+=" ui-datepicker-group-last",aE=" ui-corner-"+(ao?"left":"right");break;default:ar+=" ui-datepicker-group-middle",aE=""}}ar+="'>"}for(ar+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+aE+"'>"+(/all|left/.test(aE)&&0===ax?ao?aP:a2:"")+(/all|right/.test(aE)&&0===ax?ao?a2:aP:"")+this._generateMonthYearHeader(aY,aa,aM,aB,ac,ax>0||an>0,aW,aQ)+"</div><table class='ui-datepicker-calendar'><thead><tr>",am=aV?"<th class='ui-datepicker-week-col'>"+this._get(aY,"weekHeader")+"</th>":"",aD=0;7>aD;aD++){ag=(aD+aR)%7,am+="<th"+((aD+aR+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+aZ[ag]+"'>"+aN[ag]+"</span></th>"}for(ar+=am+"</tr></thead><tbody>",aA=this._getDaysInMonth(aM,aa),aM===aY.selectedYear&&aa===aY.selectedMonth&&(aY.selectedDay=Math.min(aY.selectedDay,aA)),aw=(this._getFirstDayOfMonth(aM,aa)-aR+7)%7,ah=Math.ceil((aw+aA)/7),ab=aj?this.maxRows>ah?this.maxRows:ah:ah,this.maxRows=ab,av=this._daylightSavingAdjust(new Date(aM,aa,1-aw)),ak=0;ab>ak;ak++){for(ar+="<tr>",al=aV?"<td class='ui-datepicker-week-col'>"+this._get(aY,"calculateWeek")(av)+"</td>":"",aD=0;7>aD;aD++){aT=aX?aX.apply(aY.input?aY.input[0]:null,[av]):[!0,""],ap=av.getMonth()!==aa,ai=ap&&!aG||!aT[0]||aB&&aB>av||ac&&av>ac,al+="<td class='"+((aD+aR+6)%7>=5?" ui-datepicker-week-end":"")+(ap?" ui-datepicker-other-month":"")+(av.getTime()===ay.getTime()&&aa===aY.selectedMonth&&aY._keyEvent||aS.getTime()===av.getTime()&&aS.getTime()===ay.getTime()?" "+this._dayOverClass:"")+(ai?" "+this._unselectableClass+" ui-state-disabled":"")+(ap&&!a3?"":" "+aT[1]+(av.getTime()===ae.getTime()?" "+this._currentClass:"")+(av.getTime()===ad.getTime()?" ui-datepicker-today":""))+"'"+(ap&&!a3||!aT[2]?"":" title='"+aT[2].replace(/'/g,"&#39;")+"'")+(ai?"":" data-handler='selectDay' data-event='click' data-month='"+av.getMonth()+"' data-year='"+av.getFullYear()+"'")+">"+(ap&&!a3?"&#xa0;":ai?"<span class='ui-state-default'>"+av.getDate()+"</span>":"<a class='ui-state-default"+(av.getTime()===ad.getTime()?" ui-state-highlight":"")+(av.getTime()===ae.getTime()?" ui-state-active":"")+(ap?" ui-priority-secondary":"")+"' href='#'>"+av.getDate()+"</a>")+"</td>",av.setDate(av.getDate()+1),av=this._daylightSavingAdjust(av)}ar+=al+"</tr>"}aa++,aa>11&&(aa=0,aM++),ar+="</tbody></table>"+(aj?"</div>"+(aL[0]>0&&an===aL[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),aF+=ar}a1+=aF}return a1+=a0,aY._keyEvent=!1,a1},_generateMonthYearHeader:function(K,x,G,O,y,C,z,B){var w,M,E,H,L,A,I,D,J=this._get(K,"changeMonth"),P=this._get(K,"changeYear"),q=this._get(K,"showMonthAfterYear"),F="<div class='ui-datepicker-title'>",N="";if(C||!J){N+="<span class='ui-datepicker-month'>"+z[x]+"</span>"}else{for(w=O&&O.getFullYear()===G,M=y&&y.getFullYear()===G,N+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",E=0;12>E;E++){(!w||E>=O.getMonth())&&(!M||y.getMonth()>=E)&&(N+="<option value='"+E+"'"+(E===x?" selected='selected'":"")+">"+B[E]+"</option>")}N+="</select>"}if(q||(F+=N+(!C&&J&&P?"":"&#xa0;")),!K.yearshtml){if(K.yearshtml="",C||!P){F+="<span class='ui-datepicker-year'>"+G+"</span>"}else{for(H=this._get(K,"yearRange").split(":"),L=(new Date).getFullYear(),A=function(i){var a=i.match(/c[+\-].*/)?G+parseInt(i.substring(1),10):i.match(/[+\-].*/)?L+parseInt(i,10):parseInt(i,10);return isNaN(a)?L:a},I=A(H[0]),D=Math.max(I,A(H[1]||"")),I=O?Math.max(I,O.getFullYear()):I,D=y?Math.min(D,y.getFullYear()):D,K.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";D>=I;I++){K.yearshtml+="<option value='"+I+"'"+(I===G?" selected='selected'":"")+">"+I+"</option>"}K.yearshtml+="</select>",F+=K.yearshtml,K.yearshtml=null}}return F+=this._get(K,"yearSuffix"),q&&(F+=(!C&&J&&P?"":"&#xa0;")+N),F+="</div>"},_adjustInstDate:function(q,m,l){var k=q.drawYear+("Y"===l?m:0),o=q.drawMonth+("M"===l?m:0),u=Math.min(q.selectedDay,this._getDaysInMonth(k,o))+("D"===l?m:0),p=this._restrictMinMax(q,this._daylightSavingAdjust(new Date(k,o,u)));q.selectedDay=p.getDate(),q.drawMonth=q.selectedMonth=p.getMonth(),q.drawYear=q.selectedYear=p.getFullYear(),("M"===l||"Y"===l)&&this._notifyChange(q)},_restrictMinMax:function(o,m){var l=this._getMinMaxDate(o,"min"),k=this._getMinMaxDate(o,"max"),n=l&&l>m?l:m;return k&&n>k?k:n},_notifyChange:function(i){var a=this._get(i,"onChangeMonthYear");a&&a.apply(i.input?i.input[0]:null,[i.selectedYear,i.selectedMonth+1,i])},_getNumberOfMonths:function(i){var a=this._get(i,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(i,a){return this._determineDate(i,this._get(i,a+"Date"),null)},_getDaysInMonth:function(i,a){return 32-this._daylightSavingAdjust(new Date(i,a,32)).getDate()},_getFirstDayOfMonth:function(i,a){return new Date(i,a,1).getDay()},_canAdjustMonth:function(p,m,l,k){var o=this._getNumberOfMonths(p),q=this._daylightSavingAdjust(new Date(l,k+(0>m?m:o[0]*o[1]),1));return 0>m&&q.setDate(this._getDaysInMonth(q.getFullYear(),q.getMonth())),this._isInRange(p,q)},_isInRange:function(q,x){var p,v,y=this._getMinMaxDate(q,"min"),m=this._getMinMaxDate(q,"max"),k=null,l=null,w=this._get(q,"yearRange");return w&&(p=w.split(":"),v=(new Date).getFullYear(),k=parseInt(p[0],10),l=parseInt(p[1],10),p[0].match(/[+\-].*/)&&(k+=v),p[1].match(/[+\-].*/)&&(l+=v)),(!y||x.getTime()>=y.getTime())&&(!m||x.getTime()<=m.getTime())&&(!k||x.getFullYear()>=k)&&(!l||l>=x.getFullYear())},_getFormatConfig:function(i){var a=this._get(i,"shortYearCutoff");return a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10),{shortYearCutoff:a,dayNamesShort:this._get(i,"dayNamesShort"),dayNames:this._get(i,"dayNames"),monthNamesShort:this._get(i,"monthNamesShort"),monthNames:this._get(i,"monthNames")}},_formatDate:function(o,m,l,k){m||(o.currentDay=o.selectedDay,o.currentMonth=o.selectedMonth,o.currentYear=o.selectedYear);var n=m?"object"==typeof m?m:this._daylightSavingAdjust(new Date(k,l,m)):this._daylightSavingAdjust(new Date(o.currentYear,o.currentMonth,o.currentDay));return this.formatDate(this._get(o,"dateFormat"),n,this._getFormatConfig(o))}}),h.fn.datepicker=function(e){if(!this.length){return this}h.datepicker.initialized||(h(document).mousedown(h.datepicker._checkExternalClick),h.datepicker.initialized=!0),0===h("#"+h.datepicker._mainDivId).length&&h("body").append(h.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?h.datepicker["_"+e+"Datepicker"].apply(h.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof e?h.datepicker["_"+e+"Datepicker"].apply(h.datepicker,[this].concat(a)):h.datepicker._attachDatepicker(this,e)}):h.datepicker["_"+e+"Datepicker"].apply(h.datepicker,[this[0]].concat(a))},h.datepicker=new c,h.datepicker.initialized=!1,h.datepicker.uuid=(new Date).getTime(),h.datepicker.version="1.10.3"})(jQuery);(function(c){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};c.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var d=c(this).css(e).offset().top;0>d&&c(this).css("top",e.top-d)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&c.fn.draggable&&this._makeDraggable(),this.options.resizable&&c.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var d=this.options.appendTo;return d&&(d.jquery||d.nodeType)?c(d):this.document.find(d||"body").eq(0)},_destroy:function(){var f,d=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),f=d.parent.children().eq(d.index),f.length&&f[0]!==this.element[0]?f.before(this.element):d.parent.append(this.element)},widget:function(){return this.uiDialog},disable:c.noop,enable:c.noop,close:function(e){var d=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||c(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(g,f){var d=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return d&&!f&&this._trigger("focus",g),d},open:function(){var d=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=c(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){d._focusTabbable(),d._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var d=this.element.find("[autofocus]");d.length||(d=this.element.find(":tabbable")),d.length||(d=this.uiDialogButtonPane.find(":tabbable")),d.length||(d=this.uiDialogTitlebarClose.filter(":tabbable")),d.length||(d=this.uiDialog),d.eq(0).focus()},_keepFocus:function(e){function d(){var g=this.document[0].activeElement,f=this.uiDialog[0]===g||c.contains(this.uiDialog[0],g);f||this._focusTabbable()}e.preventDefault(),d.call(this),this._delay(d)},_createWrapper:function(){this.uiDialog=c("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(f){if(this.options.closeOnEscape&&!f.isDefaultPrevented()&&f.keyCode&&f.keyCode===c.ui.keyCode.ESCAPE){return f.preventDefault(),this.close(f),undefined}if(f.keyCode===c.ui.keyCode.TAB){var e=this.uiDialog.find(":tabbable"),d=e.filter(":first"),g=e.filter(":last");f.target!==g[0]&&f.target!==this.uiDialog[0]||f.shiftKey?f.target!==d[0]&&f.target!==this.uiDialog[0]||!f.shiftKey||(g.focus(1),f.preventDefault()):(d.focus(1),f.preventDefault())}},mousedown:function(d){this._moveToTop(d)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var d;this.uiDialogTitlebar=c("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){c(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=c("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(f){f.preventDefault(),this.close(f)}}),d=c("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(d),this.uiDialog.attr({"aria-labelledby":d.attr("id")})},_title:function(d){this.options.title||d.html("&#160;"),d.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=c("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=c("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,d=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),c.isEmptyObject(d)||c.isArray(d)&&!d.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(c.each(d,function(g,f){var h,j;f=c.isFunction(f)?{click:f,text:g}:f,f=c.extend({type:"button"},f),h=f.click,f.click=function(){h.apply(e.element[0],arguments)},j={icons:f.icons,text:f.showText},delete f.icons,delete f.showText,c("<button></button>",f).button(j).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function f(g){return{position:g.position,offset:g.offset}}var e=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(g,h){c(this).addClass("ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",g,f(h))},drag:function(h,g){e._trigger("drag",h,f(g))},stop:function(g,h){d.position=[h.position.left-e.document.scrollLeft(),h.position.top-e.document.scrollTop()],c(this).removeClass("ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",g,f(h))}})},_makeResizable:function(){function f(i){return{originalPosition:i.originalPosition,originalSize:i.originalSize,position:i.position,size:i.size}}var e=this,d=this.options,g=d.resizable,j=this.uiDialog.css("position"),h="string"==typeof g?g:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:h,start:function(i,k){c(this).addClass("ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",i,f(k))},resize:function(k,i){e._trigger("resize",k,f(i))},stop:function(i,k){d.height=c(this).height(),d.width=c(this).width(),c(this).removeClass("ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,f(k))}}).css("position",j)},_minHeight:function(){var d=this.options;return"auto"===d.height?d.minHeight:Math.min(d.minHeight,d.height)},_position:function(){var d=this.uiDialog.is(":visible");d||this.uiDialog.show(),this.uiDialog.position(this.options.position),d||this.uiDialog.hide()},_setOptions:function(d){var e=this,g=!1,f={};c.each(d,function(i,h){e._setOption(i,h),i in b&&(g=!0),i in a&&(f[i]=h)}),g&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(j,g){var f,d,h=this.uiDialog;"dialogClass"===j&&h.removeClass(this.options.dialogClass).addClass(g),"disabled"!==j&&(this._super(j,g),"appendTo"===j&&this.uiDialog.appendTo(this._appendTo()),"buttons"===j&&this._createButtons(),"closeText"===j&&this.uiDialogTitlebarClose.button({label:""+g}),"draggable"===j&&(f=h.is(":data(ui-draggable)"),f&&!g&&h.draggable("destroy"),!f&&g&&this._makeDraggable()),"position"===j&&this._position(),"resizable"===j&&(d=h.is(":data(ui-resizable)"),d&&!g&&h.resizable("destroy"),d&&"string"==typeof g&&h.resizable("option","handles",g),d||g===!1||this._makeResizable()),"title"===j&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var h,g,f,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),h=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),g=Math.max(0,d.minHeight-h),f="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-h):"none","auto"===d.height?this.element.css({minHeight:g,maxHeight:f,height:"auto"}):this.element.height(Math.max(0,d.height-h)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var d=c(this);return c("<div>").css({position:"absolute",width:d.outerWidth(),height:d.outerHeight()}).appendTo(d.parent()).offset(d.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(d){return c(d.target).closest(".ui-dialog").length?!0:!!c(d.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,d=this.widgetFullName;c.ui.dialog.overlayInstances||this._delay(function(){c.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(f){e._allowInteraction(f)||(f.preventDefault(),c(".ui-dialog:visible:last .ui-dialog-content").data(d)._focusTabbable())})}),this.overlay=c("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),c.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(c.ui.dialog.overlayInstances--,c.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),c.ui.dialog.overlayInstances=0,c.uiBackCompat!==!1&&c.widget("ui.dialog",c.ui.dialog,{_position:function(){var f,e=this.options.position,d=[],g=[0,0];e?(("string"==typeof e||"object"==typeof e&&"0" in e)&&(d=e.split?e.split(" "):[e[0],e[1]],1===d.length&&(d[1]=d[0]),c.each(["left","top"],function(i,h){+d[i]===d[i]&&(g[i]=d[i],d[i]=h)}),e={my:d[0]+(0>g[0]?g[0]:"+"+g[0])+" "+d[1]+(0>g[1]?g[1]:"+"+g[1]),at:d.join(" ")}),e=c.extend({},c.ui.dialog.prototype.options.position,e)):e=c.ui.dialog.prototype.options.position,f=this.uiDialog.is(":visible"),f||this.uiDialog.show(),this.uiDialog.position(e),f||this.uiDialog.hide()}})})(jQuery);(function(a){a.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(b){this.options.disabled&&b.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(b){b.preventDefault()},"click .ui-state-disabled > a":function(b){b.preventDefault()},"click .ui-menu-item:has(a)":function(c){var b=a(c.target).closest(".ui-menu-item");!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(c),b.has(".ui-menu").length?this.expand(c):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var b=a(c.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(c,b)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,d){var b=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(c,b)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(h){function d(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var f,k,c,j,g,b=!0;switch(h.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(h);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(h);break;case a.ui.keyCode.HOME:this._move("first","first",h);break;case a.ui.keyCode.END:this._move("last","last",h);break;case a.ui.keyCode.UP:this.previous(h);break;case a.ui.keyCode.DOWN:this.next(h);break;case a.ui.keyCode.LEFT:this.collapse(h);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(h);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(h);break;case a.ui.keyCode.ESCAPE:this.collapse(h);break;default:b=!1,k=this.previousFilter||"",c=String.fromCharCode(h.keyCode),j=!1,clearTimeout(this.filterTimer),c===k?j=!0:c=k+c,g=RegExp("^"+d(c),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())}),f=j&&-1!==f.index(this.active.next())?this.active.nextAll(".ui-menu-item"):f,f.length||(c=String.fromCharCode(h.keyCode),g=RegExp("^"+d(c),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text())})),f.length?(this.focus(h,f),f.length>1?(this.previousFilter=c,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}b&&h.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(b):this.select(b))},refresh:function(){var d,b=this.options.icons.submenu,c=this.element.find(this.options.menus);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var g=a(this),f=g.prev("a"),h=a("<span>").addClass("ui-menu-icon ui-icon "+b).data("ui-menu-submenu-carat",!0);f.attr("aria-haspopup","true").prepend(h),g.attr("aria-labelledby",f.attr("id"))}),d=c.add(this.element),d.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),d.children(":not(.ui-menu-item)").each(function(){var f=a(this);/[^\-\u2014\u2013\s]/.test(f.text())||f.addClass("ui-widget-content ui-menu-divider")}),d.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(b,c){"icons"===b&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu),this._super(b,c)},focus:function(c,f){var b,d;this.blur(c,c&&"focus"===c.type),this._scrollIntoView(f),this.active=f.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),c&&"keydown"===c.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),b=f.children(".ui-menu"),b.length&&/^mouse/.test(c.type)&&this._startOpening(b),this.activeMenu=f.parent(),this._trigger("focus",c,{item:f})},_scrollIntoView:function(g){var c,d,j,b,h,f;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,j=g.offset().top-this.activeMenu.offset().top-c-d,b=this.activeMenu.scrollTop(),h=this.activeMenu.height(),f=g.height(),0>j?this.activeMenu.scrollTop(b+j):j+f>h&&this.activeMenu.scrollTop(b+j-h+f))},blur:function(b,c){c||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",b,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer),"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(b)},this.delay))},_open:function(c){var b=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true"),c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b)},collapseAll:function(c,b){clearTimeout(this.timer),this.timer=this._delay(function(){var d=b?this.element:a(c&&c.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(c),this.activeMenu=d},this.delay)},_close:function(b){b||(b=this.active?this.active.parent():this.element),b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(b){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(b,c))},expand:function(b){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(b,c)}))},next:function(b){this._move("next","first",b)},previous:function(b){this._move("prev","last",b)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(c,f,b){var d;this.active&&(d="first"===c||"last"===c?this.active["first"===c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[f]()),this.focus(b,d)},nextPage:function(d){var b,c,f;return this.active?(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=a(this),0>b.offset().top-c-f}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(d),undefined)},previousPage:function(d){var b,c,f;return this.active?(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=a(this),b.offset().top-c+f>0}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(d),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var b={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0),this._trigger("select",c,b)}})})(jQuery);(function(a,b){a.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(c){return c===b?this.options.value:(this.options.value=this._constrainedValue(c),this._refreshValue(),b)},_constrainedValue:function(c){return c===b&&(c=this.options.value),this.indeterminate=c===!1,"number"!=typeof c&&(c=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,c))},_setOptions:function(c){var d=c.value;delete c.value,this._super(c),this.options.value=this._constrainedValue(d),this._refreshValue()},_setOption:function(c,d){"max"===c&&(d=Math.max(this.min,d)),this._super(c,d)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var d=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||d>this.min).toggleClass("ui-corner-right",d===this.options.max).width(c.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":d}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==d&&(this.oldValue=d,this._trigger("change")),d===this.options.max&&this._trigger("complete")}})})(jQuery);(function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var g,d,f=this.options,j=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),c="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",h=[];for(d=f.values&&f.values.length||1,j.length>d&&(j.slice(d).remove(),j=j.slice(0,d)),g=j.length;d>g;g++){h.push(c)}this.handles=j.add(a(h.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(i){a(this).data("ui-slider-handle-index",i)})},_createRange:function(){var d=this.options,c="";d.range?(d.range===!0&&(d.values?d.values.length&&2!==d.values.length?d.values=[d.values[0],d.values[0]]:a.isArray(d.values)&&(d.values=d.values.slice(0)):d.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:""))):this.range=a([])},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c),this._on(c,this._handleEvents),this._hoverable(c),this._focusable(c)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(p){var k,w,g,t,f,d,j,m,v=this,q=this.options;return q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),k={x:p.pageX,y:p.pageY},w=this._normValueFromMouse(k),g=this._valueMax()-this._valueMin()+1,this.handles.each(function(h){var c=Math.abs(w-v.values(h));(g>c||g===c&&(h===v._lastChangedValue||v.values(h)===q.min))&&(g=c,t=a(this),f=h)}),d=this._start(p,f),d===!1?!1:(this._mouseSliding=!0,this._handleIndex=f,t.addClass("ui-state-active").focus(),j=t.offset(),m=!a(p.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=m?{left:0,top:0}:{left:p.pageX-j.left-t.width()/2,top:p.pageY-j.top-t.height()/2-(parseInt(t.css("borderTopWidth"),10)||0)-(parseInt(t.css("borderBottomWidth"),10)||0)+(parseInt(t.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(p,f,w),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(d){var f={x:d.pageX,y:d.pageY},c=this._normValueFromMouse(f);return this._slide(d,this._handleIndex,c),!1},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(f){var h,d,g,j,c;return"horizontal"===this.orientation?(h=this.elementSize.width,d=f.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(h=this.elementSize.height,d=f.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),g=d/h,g>1&&(g=1),0>g&&(g=0),"vertical"===this.orientation&&(g=1-g),j=this._valueMax()-this._valueMin(),c=this._valueMin()+g*j,this._trimAlignValue(c)},_start:function(d,f){var c={handle:this.handles[f],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("start",d,c)},_slide:function(f,h,d){var g,j,c;this.options.values&&this.options.values.length?(g=this.values(h?0:1),2===this.options.values.length&&this.options.range===!0&&(0===h&&d>g||1===h&&g>d)&&(d=g),d!==this.values(h)&&(j=this.values(),j[h]=d,c=this._trigger("slide",f,{handle:this.handles[h],value:d,values:j}),g=this.values(h?0:1),c!==!1&&this.values(h,d,!0))):d!==this.value()&&(c=this._trigger("slide",f,{handle:this.handles[h],value:d}),c!==!1&&this.value(d))},_stop:function(d,f){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("stop",d,c)},_change:function(d,f){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._lastChangedValue=f,this._trigger("change",d,c)}},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(g,d){var f,h,c;if(arguments.length>1){return this.options.values[g]=this._trimAlignValue(d),this._refreshValue(),this._change(null,g),undefined}if(!arguments.length){return this._values()}if(!a.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(g):this.value()}for(f=this.options.values,h=arguments[0],c=0;f.length>c;c+=1){f[c]=this._trimAlignValue(h[c]),this._change(null,c)}this._refreshValue()},_setOption:function(f,c){var d,g=0;switch("range"===f&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(g=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),f){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;g>d;d+=1){this._change(null,d)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(d){var g,c,f;if(arguments.length){return g=this.options.values[d],g=this._trimAlignValue(g)}if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),f=0;c.length>f;f+=1){c[f]=this._trimAlignValue(c[f])}return c}return[]},_trimAlignValue:function(d){if(this._valueMin()>=d){return this._valueMin()}if(d>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,c=(d-this._valueMin())%g,f=d-c;return 2*Math.abs(c)>=g&&(f+=c>0?g:-g),parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var m,j,t,f,p,d=this.options.range,c=this.options,g=this,k=this._animateOff?!1:c.animate,q={};this.options.values&&this.options.values.length?this.handles.each(function(e){j=100*((g.values(e)-g._valueMin())/(g._valueMax()-g._valueMin())),q["horizontal"===g.orientation?"left":"bottom"]=j+"%",a(this).stop(1,1)[k?"animate":"css"](q,c.animate),g.options.range===!0&&("horizontal"===g.orientation?(0===e&&g.range.stop(1,1)[k?"animate":"css"]({left:j+"%"},c.animate),1===e&&g.range[k?"animate":"css"]({width:j-m+"%"},{queue:!1,duration:c.animate})):(0===e&&g.range.stop(1,1)[k?"animate":"css"]({bottom:j+"%"},c.animate),1===e&&g.range[k?"animate":"css"]({height:j-m+"%"},{queue:!1,duration:c.animate}))),m=j}):(t=this.value(),f=this._valueMin(),p=this._valueMax(),j=p!==f?100*((t-f)/(p-f)):0,q["horizontal"===this.orientation?"left":"bottom"]=j+"%",this.handle.stop(1,1)[k?"animate":"css"](q,c.animate),"min"===d&&"horizontal"===this.orientation&&this.range.stop(1,1)[k?"animate":"css"]({width:j+"%"},c.animate),"max"===d&&"horizontal"===this.orientation&&this.range[k?"animate":"css"]({width:100-j+"%"},{queue:!1,duration:c.animate}),"min"===d&&"vertical"===this.orientation&&this.range.stop(1,1)[k?"animate":"css"]({height:j+"%"},c.animate),"max"===d&&"vertical"===this.orientation&&this.range[k?"animate":"css"]({height:100-j+"%"},{queue:!1,duration:c.animate}))},_handleEvents:{keydown:function(d){var e,h,c,g,f=a(d.target).data("ui-slider-handle-index");switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(d.target).addClass("ui-state-active"),e=this._start(d,f),e===!1)){return}}switch(g=this.options.step,h=c=this.options.values&&this.options.values.length?this.values(f):this.value(),d.keyCode){case a.ui.keyCode.HOME:c=this._valueMin();break;case a.ui.keyCode.END:c=this._valueMax();break;case a.ui.keyCode.PAGE_UP:c=this._trimAlignValue(h+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(h-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(h===this._valueMax()){return}c=this._trimAlignValue(h+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(h===this._valueMin()){return}c=this._trimAlignValue(h-g)}this._slide(d,f,c)},click:function(c){c.preventDefault()},keyup:function(d){var c=a(d.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(d,c),this._change(d,c),a(d.target).removeClass("ui-state-active"))}}})})(jQuery);(function(a){function b(c){return function(){var d=this.element.val();c.apply(this,arguments),this._refresh(),d!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var d={},c=this.element;return a.each(["min","max","step"],function(e,f){var g=c.attr(f);void 0!==g&&g.length&&(d[f]=g)}),d},_events:{keydown:function(c){this._start(c)&&this._keydown(c)&&c.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",c),void 0)},mousewheel:function(c,d){if(d){if(!this.spinning&&!this._start(c)){return !1}this._spin((d>0?1:-1)*this.options.step,c),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(c)},100),c.preventDefault()}},"mousedown .ui-spinner-button":function(f){function c(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),f.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(f)!==!1&&this._repeat(null,a(f.currentTarget).hasClass("ui-spinner-up")?1:-1,f)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){return a(c.currentTarget).hasClass("ui-state-active")?this._start(c)===!1?!1:(this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(0.5*c.height())&&c.height()>0&&c.height(c.height()),this.options.disabled&&this.disable()},_keydown:function(f){var c=this.options,d=a.ui.keyCode;switch(f.keyCode){case d.UP:return this._repeat(null,1,f),!0;case d.DOWN:return this._repeat(null,-1,f),!0;case d.PAGE_UP:return this._repeat(null,c.page,f),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,f),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){return this.spinning||this._trigger("start",c)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(d,f,c){d=d||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,f,c)},d),this._spin(f*this.options.step,c)},_spin:function(d,f){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+d*this._increment(this.counter)),this.spinning&&this._trigger("spin",f,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(d){var c=this.options.incremental;return c?a.isFunction(c)?c(d):Math.floor(d*d*d/50000-d*d/500+17*d/200+1):1},_precision:function(){var c=this._precisionOf(this.options.step);return null!==this.options.min&&(c=Math.max(c,this._precisionOf(this.options.min))),c},_precisionOf:function(d){var f=""+d,c=f.indexOf(".");return -1===c?0:f.length-c-1},_adjustValue:function(d){var g,c,f=this.options;return g=null!==f.min?f.min:0,c=d-g,c=Math.round(c/f.step)*f.step,d=g+c,d=parseFloat(d.toFixed(this._precision())),null!==f.max&&d>f.max?f.max:null!==f.min&&f.min>d?f.min:d},_stop:function(c){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",c))},_setOption:function(d,f){if("culture"===d||"numberFormat"===d){var c=this._parse(this.element.val());return this.options[d]=f,this.element.val(this._format(c)),void 0}("max"===d||"min"===d||"step"===d)&&"string"==typeof f&&(f=this._parse(f)),"icons"===d&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(f.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(f.down)),this._super(d,f),"disabled"===d&&(f?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(c){this._super(c),this._value(this.element.val())}),_parse:function(c){return"string"==typeof c&&""!==c&&(c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c),""===c||isNaN(c)?null:c},_format:function(c){return""===c?"":window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(d,f){var c;""!==d&&(c=this._parse(d),null!==c&&(f||(c=this._adjustValue(c)),d=this._format(c))),this.element.val(d),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(c){this._stepUp(c)}),_stepUp:function(c){this._start()&&(this._spin((c||1)*this.options.step),this._stop())},stepDown:b(function(c){this._stepDown(c)}),_stepDown:function(c){this._start()&&(this._spin((c||1)*-this.options.step),this._stop())},pageUp:b(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:b(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){return arguments.length?(b(this._value).call(this,c),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})})(jQuery);(function(d,g){function c(){return ++h}function f(a){return a.hash.length>1&&decodeURIComponent(a.href.replace(b,""))===decodeURIComponent(location.href.replace(b,""))}var h=0,b=/#.*$/;d.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var j=this,a=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",a.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(i){d(this).is(".ui-state-disabled")&&i.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){d(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),a.active=this._initialActive(),d.isArray(a.disabled)&&(a.disabled=d.unique(a.disabled.concat(d.map(this.tabs.filter(".ui-state-disabled"),function(e){return j.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(a.active):d(),this._refresh(),this.active.length&&this.load(a.active)},_initialActive:function(){var a=this.options.active,e=this.options.collapsible,j=location.hash.substring(1);return null===a&&(j&&this.tabs.each(function(k,i){return d(i).attr("aria-controls")===j?(a=k,!1):g}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===a||-1===a)&&(a=this.tabs.length?0:!1)),a!==!1&&(a=this.tabs.index(this.tabs.eq(a)),-1===a&&(a=e?!1:0)),!e&&a===!1&&this.anchors.length&&(a=0),a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):d()}},_tabKeydown:function(j){var k=d(this.document[0].activeElement).closest("li"),l=this.tabs.index(k),e=!0;if(!this._handlePageNav(j)){switch(j.keyCode){case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:l++;break;case d.ui.keyCode.UP:case d.ui.keyCode.LEFT:e=!1,l--;break;case d.ui.keyCode.END:l=this.anchors.length-1;break;case d.ui.keyCode.HOME:l=0;break;case d.ui.keyCode.SPACE:return j.preventDefault(),clearTimeout(this.activating),this._activate(l),g;case d.ui.keyCode.ENTER:return j.preventDefault(),clearTimeout(this.activating),this._activate(l===this.options.active?!1:l),g;default:return}j.preventDefault(),clearTimeout(this.activating),l=this._focusNextTab(l,e),j.ctrlKey||(k.attr("aria-selected","false"),this.tabs.eq(l).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",l)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===d.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===d.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===d.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):g},_findNextTab:function(k,a){function j(){return k>l&&(k=0),0>k&&(k=l),k}for(var l=this.tabs.length-1;-1!==d.inArray(j(),this.options.disabled);){k=a?k+1:k-1}return k},_focusNextTab:function(a,i){return a=this._findNextTab(a,i),this.tabs.eq(a).focus(),a},_setOption:function(e,a){return"active"===e?(this._activate(a),g):"disabled"===e?(this._setupDisabled(a),g):(this._super(e,a),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",a),a||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(a),"heightStyle"===e&&this._setupHeightStyle(a),g)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var j=this.options,a=this.tablist.children(":has(a[href])");j.disabled=d.map(a.filter(".ui-state-disabled"),function(e){return a.index(e)}),this._processTabs(),j.active!==!1&&this.anchors.length?this.active.length&&!d.contains(this.tablist[0],this.active[0])?this.tabs.length===j.disabled.length?(j.active=!1,this.active=d()):this._activate(this._findNextTab(Math.max(0,j.active-1),!1)):j.active=this.tabs.index(this.active):(j.active=!1,this.active=d()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return d("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=d(),this.anchors.each(function(k,t){var j,q,p,m=d(t).uniqueId().attr("id"),e=d(t).closest("li"),s=e.attr("aria-controls");f(t)?(j=t.hash,q=a.element.find(a._sanitizeSelector(j))):(p=a._tabId(e),j="#"+p,q=a.element.find(j),q.length||(q=a._createPanel(p),q.insertAfter(a.panels[k-1]||a.tablist)),q.attr("aria-live","polite")),q.length&&(a.panels=a.panels.add(q)),s&&e.data("ui-tabs-aria-controls",s),e.attr({"aria-controls":j.substring(1),"aria-labelledby":m}),q.attr("aria-labelledby",m)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(a){return d("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(k){d.isArray(k)&&(k.length?k.length===this.anchors.length&&(k=!0):k=!1);for(var a,j=0;a=this.tabs[j];j++){k===!0||-1!==d.inArray(j,k)?d(a).addClass("ui-state-disabled").attr("aria-disabled","true"):d(a).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=k},_setupEvents:function(j){var a={click:function(e){e.preventDefault()}};j&&d.each(j.split(" "),function(i,k){a[k]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,a),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(k){var a,j=this.element.parent();"fill"===k?(a=j.height(),a-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var l=d(this),i=l.css("position");"absolute"!==i&&"fixed"!==i&&(a-=l.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){a-=d(this).outerHeight(!0)}),this.panels.each(function(){d(this).height(Math.max(0,a-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===k&&(a=0,this.panels.each(function(){a=Math.max(a,d(this).height("").height())}).height(a))},_eventHandler:function(u){var q=this.options,x=this.active,m=d(u.currentTarget),w=m.closest("li"),k=w[0]===x[0],j=k&&q.collapsible,t=j?d():this._getPanelForTab(w),p=x.length?this._getPanelForTab(x):d(),v={oldTab:x,oldPanel:p,newTab:j?d():w,newPanel:t};u.preventDefault(),w.hasClass("ui-state-disabled")||w.hasClass("ui-tabs-loading")||this.running||k&&!q.collapsible||this._trigger("beforeActivate",u,v)===!1||(q.active=j?!1:this.tabs.index(w),this.active=k?d():w,this.xhr&&this.xhr.abort(),p.length||t.length||d.error("jQuery UI Tabs: Mismatching fragment identifier."),t.length&&this.load(this.tabs.index(w),u),this._toggle(u,v))},_toggle:function(p,k){function l(){j.running=!1,j._trigger("activate",p,k)}function t(){k.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),q.length&&j.options.show?j._show(q,j.options.show,l):(q.show(),l())}var j=this,q=k.newPanel,m=k.oldPanel;this.running=!0,m.length&&this.options.hide?this._hide(m,this.options.hide,function(){k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),t()}):(k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),m.hide(),t()),m.attr({"aria-expanded":"false","aria-hidden":"true"}),k.oldTab.attr("aria-selected","false"),q.length&&m.length?k.oldTab.attr("tabIndex",-1):q.length&&this.tabs.filter(function(){return 0===d(this).attr("tabIndex")}).attr("tabIndex",-1),q.attr({"aria-expanded":"true","aria-hidden":"false"}),k.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(k){var a,j=this._findActive(k);j[0]!==this.active[0]&&(j.length||(j=this.active),a=j.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:d.noop}))},_findActive:function(a){return a===!1?d():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){d.data(this,"ui-tabs-destroy")?d(this).remove():d(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var j=d(this),a=j.data("ui-tabs-aria-controls");a?j.attr("aria-controls",a).removeData("ui-tabs-aria-controls"):j.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(a){var e=this.options.disabled;e!==!1&&(a===g?e=!1:(a=this._getIndex(a),e=d.isArray(e)?d.map(e,function(i){return i!==a?i:null}):d.map(this.tabs,function(i,j){return j!==a?j:null})),this._setupDisabled(e))},disable:function(a){var e=this.options.disabled;if(e!==!0){if(a===g){e=!0}else{if(a=this._getIndex(a),-1!==d.inArray(a,e)){return}e=d.isArray(e)?d.merge([a],e).sort():[a]}this._setupDisabled(e)}},load:function(p,k){p=this._getIndex(p);var s=this,j=this.tabs.eq(p),q=j.find(".ui-tabs-anchor"),m=this._getPanelForTab(j),l={tab:j,panel:m};f(q[0])||(this.xhr=d.ajax(this._ajaxSettings(q,k,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(j.addClass("ui-tabs-loading"),m.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){m.html(a),s._trigger("load",k,l)},1)}).complete(function(a,i){setTimeout(function(){"abort"===i&&s.panels.stop(!1,!0),j.removeClass("ui-tabs-loading"),m.removeAttr("aria-busy"),a===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(k,a,j){var l=this;return{url:k.attr("href"),beforeSend:function(m,i){return l._trigger("beforeLoad",a,d.extend({jqXHR:m,ajaxSettings:i},j))}}},_getPanelForTab:function(j){var a=d(j).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}})})(jQuery);(function(b){function d(h,f){var g=(h.attr("aria-describedby")||"").split(/\s+/);g.push(f),h.data("ui-tooltip-id",f).attr("aria-describedby",b.trim(g.join(" ")))}function a(h){var f=h.data("ui-tooltip-id"),g=(h.attr("aria-describedby")||"").split(/\s+/),j=b.inArray(f,g);-1!==j&&g.splice(j,1),h.removeData("ui-tooltip-id"),g=b.trim(g.join(" ")),g?h.attr("aria-describedby",g):h.removeAttr("aria-describedby")}var c=0;b.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var f=b(this).attr("title")||"";return b("<a>").text(f).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(h,f){var g=this;return"disabled"===h?(this[f?"_disable":"_enable"](),this.options[h]=f,void 0):(this._super(h,f),"content"===h&&b.each(this.tooltips,function(i,j){g._updateContent(j)}),void 0)},_disable:function(){var f=this;b.each(this.tooltips,function(e,g){var h=b.Event("blur");h.target=h.currentTarget=g[0],f.close(h,!0)}),this.element.find(this.options.items).addBack().each(function(){var g=b(this);g.is("[title]")&&g.data("ui-tooltip-title",g.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var f=b(this);f.data("ui-tooltip-title")&&f.attr("title",f.data("ui-tooltip-title"))})},open:function(h){var f=this,g=b(h?h.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),h&&"mouseover"===h.type&&g.parents().each(function(){var j,i=b(this);i.data("ui-tooltip-open")&&(j=b.Event("blur"),j.target=j.currentTarget=this,f.close(j,!0)),i.attr("title")&&(i.uniqueId(),f.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._updateContent(g,h))},_updateContent:function(g,j){var f,h=this.options.content,l=this,k=j?j.type:null;return"string"==typeof h?this._open(j,g,h):(f=h.call(g[0],function(e){g.data("ui-tooltip-open")&&l._delay(function(){j&&(j.type=k),this._open(j,g,e)})}),f&&this._open(j,g,f),void 0)},_open:function(g,k,q){function p(h){e.of=h,f.is(":hidden")||f.position(e)}var f,m,j,e=b.extend({},this.options.position);if(q){if(f=this._find(k),f.length){return f.find(".ui-tooltip-content").html(q),void 0}k.is("[title]")&&(g&&"mouseover"===g.type?k.attr("title",""):k.removeAttr("title")),f=this._tooltip(k),d(k,f.attr("id")),f.find(".ui-tooltip-content").html(q),this.options.track&&g&&/^mouse/.test(g.type)?(this._on(this.document,{mousemove:p}),p(g)):f.position(b.extend({of:k},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(j=this.delayedShow=setInterval(function(){f.is(":visible")&&(p(e.of),clearInterval(j))},b.fx.interval)),this._trigger("open",g,{tooltip:f}),m={keyup:function(l){if(l.keyCode===b.ui.keyCode.ESCAPE){var h=b.Event(l);h.currentTarget=k[0],this.close(h,!0)}},remove:function(){this._removeTooltip(f)}},g&&"mouseover"!==g.type||(m.mouseleave="close"),g&&"focusin"!==g.type||(m.focusout="close"),this._on(!0,k,m)}},close:function(g){var f=this,i=b(g?g.currentTarget:this.element),h=this._find(i);this.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&i.attr("title",i.data("ui-tooltip-title")),a(i),h.stop(!0),this._hide(h,this.options.hide,function(){f._removeTooltip(b(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),g&&"mouseleave"===g.type&&b.each(this.parents,function(k,j){b(j.element).attr("title",j.title),delete f.parents[k]}),this.closing=!0,this._trigger("close",g,{tooltip:h}),this.closing=!1)},_tooltip:function(g){var f="ui-tooltip-"+c++,h=b("<div>").attr({id:f,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return b("<div>").addClass("ui-tooltip-content").appendTo(h),h.appendTo(this.document[0].body),this.tooltips[f]=g,h},_find:function(g){var f=g.data("ui-tooltip-id");return f?b("#"+f):b()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var f=this;b.each(this.tooltips,function(e,g){var h=b.Event("blur");h.target=h.currentTarget=g[0],f.close(h,!0),b("#"+e).remove(),g.data("ui-tooltip-title")&&(g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))})}})})(jQuery);(function(b,c){var a="ui-effects-";b.effects={effect:{}},function(D,y){function v(f,l,d){var h=C[l.type]||{};return null==f?d||!l.def?null:l.def:(f=h.floor?~~f:parseFloat(f),isNaN(f)?l.def:h.mod?(f+h.mod)%h.mod:0>f?0:f>h.max?h.max:f)}function E(d){var e=w(),f=e._rgba=[];return d=d.toLowerCase(),x(q,function(p,n){var F,u=n.re.exec(d),i=u&&n.parse(u),s=n.space||"rgba";return i?(F=e[s](i),e[A[s].cache]=F[A[s].cache],f=e._rgba=F._rgba,!1):y}),f.length?("0,0,0,0"===f.join()&&D.extend(f,B.transparent),e):B[d]}function m(f,h,d){return d=(d+1)%1,1>6*d?f+6*(h-f)*d:1>2*d?h:2>3*d?f+6*(h-f)*(2/3-d):f}var B,k="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",g=/^([\-+])=\s*(\d+\.?\d*)/,q=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[d[1],d[2],d[3],d[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[2.55*d[1],2.55*d[2],2.55*d[3],d[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(d){return[d[1],d[2]/100,d[3]/100,d[4]]}}],w=D.Color=function(h,d,f,l){return new D.Color.fn.parse(h,d,f,l)},A={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},C={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},z=w.support={},j=D("<p>")[0],x=D.each;j.style.cssText="background-color:rgba(1,1,1,.5)",z.rgba=j.style.backgroundColor.indexOf("rgba")>-1,x(A,function(d,f){f.cache="_"+d,f.props.alpha={idx:3,type:"percent",def:1}}),w.fn=D.extend(w.prototype,{parse:function(F,t,h,e){if(F===y){return this._rgba=[null,null,null,null],this}(F.jquery||F.nodeType)&&(F=D(F).css(t),t=y);var f=this,s=D.type(F),i=this._rgba=[];return t!==y&&(F=[F,t,h,e],s="array"),"string"===s?this.parse(E(F)||B._default):"array"===s?(x(A.rgba.props,function(d,l){i[l.idx]=v(F[l.idx],l)}),this):"object"===s?(F instanceof w?x(A,function(d,l){F[l.cache]&&(f[l.cache]=F[l.cache].slice())}):x(A,function(n,l){var d=l.cache;x(l.props,function(o,p){if(!f[d]&&l.to){if("alpha"===o||null==F[o]){return}f[d]=l.to(f._rgba)}f[d][p.idx]=v(F[o],p,!0)}),f[d]&&0>D.inArray(null,f[d].slice(0,3))&&(f[d][3]=1,l.from&&(f._rgba=l.from(f[d])))}),this):y},is:function(e){var d=w(e),f=!0,h=this;return x(A,function(l,i){var p,n=d[i.cache];return n&&(p=h[i.cache]||i.to&&i.to(h._rgba)||[],x(i.props,function(r,o){return null!=n[o.idx]?f=n[o.idx]===p[o.idx]:y})),f}),f},_space:function(){var d=[],f=this;return x(A,function(e,h){f[h.cache]&&d.push(e)}),d.pop()},transition:function(h,u){var i=w(h),G=i._space(),f=A[G],F=0===this.alpha()?w("transparent"):this,p=F[f.cache]||f.to(F._rgba),d=p.slice();return i=i[f.cache],x(f.props,function(l,I){var e=I.idx,s=p[e],r=i[e],H=C[I.type]||{};null!==r&&(null===s?d[e]=r:(H.mod&&(r-s>H.mod/2?s+=H.mod:s-r>H.mod/2&&(s-=H.mod)),d[e]=v((r-s)*u+s,I)))}),this[G](d)},blend:function(h){if(1===this._rgba[3]){return this}var d=this._rgba.slice(),f=d.pop(),l=w(h)._rgba;return w(D.map(d,function(i,n){return(1-f)*l[n]+f*i}))},toRgbaString:function(){var f="rgba(",d=D.map(this._rgba,function(h,i){return null==h?i>2?1:0:h});return 1===d[3]&&(d.pop(),f="rgb("),f+d.join()+")"},toHslaString:function(){var f="hsla(",d=D.map(this.hsla(),function(h,i){return null==h&&(h=i>2?1:0),i&&3>i&&(h=Math.round(100*h)+"%"),h});return 1===d[3]&&(d.pop(),f="hsl("),f+d.join()+")"},toHexString:function(h){var d=this._rgba.slice(),f=d.pop();return h&&d.push(~~(255*f)),"#"+D.map(d,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),w.fn.parse.prototype=w.fn,A.hsla.to=function(M){if(null==M[0]||null==M[1]||null==M[2]){return[null,null,null,M[3]]}var I,G,N=M[0]/255,p=M[1]/255,K=M[2]/255,f=M[3],d=Math.max(N,p,K),F=Math.min(N,p,K),H=d-F,J=d+F,L=0.5*J;return I=F===d?0:N===d?60*(p-K)/H+360:p===d?60*(K-N)/H+120:60*(N-p)/H+240,G=0===H?0:0.5>=L?H/J:H/(2-J),[Math.round(I)%360,G,L,null==f?1:f]},A.hsla.from=function(h){if(null==h[0]||null==h[1]||null==h[2]){return[null,null,null,h[3]]}var p=h[0]/360,f=h[1],l=h[2],d=h[3],u=0.5>=l?l*(1+f):l+f-l*f,n=2*l-u;return[Math.round(255*m(n,u,p+1/3)),Math.round(255*m(n,u,p)),Math.round(255*m(n,u,p-1/3)),d]},x(A,function(f,p){var e=p.props,h=p.cache,d=p.to,i=p.from;w.fn[f]=function(o){if(d&&!this[h]&&(this[h]=d(this._rgba)),o===y){return this[h].slice()}var G,t=D.type(o),l="array"===t||"object"===t?o:arguments,F=this[h].slice();return x(e,function(n,u){var r=l["object"===t?n:u.idx];null==r&&(r=F[u.idx]),F[u.idx]=v(r,u)}),i?(G=w(i(F)),G[h]=F,G):w(F)},x(e,function(n,l){w.fn[n]||(w.fn[n]=function(G){var s,u=D.type(G),r="alpha"===n?this._hsla?"hsla":"rgba":f,t=this[r](),F=t[l.idx];return"undefined"===u?F:("function"===u&&(G=G.call(this,F),u=D.type(G)),null==G&&l.empty?this:("string"===u&&(s=g.exec(G),s&&(G=F+parseFloat(s[2])*("+"===s[1]?1:-1))),t[l.idx]=G,this[r](t)))})})}),w.hook=function(f){var d=f.split(" ");x(d,function(l,h){D.cssHooks[h]={set:function(t,F){var p,u,s="";if("transparent"!==F&&("string"!==D.type(F)||(p=E(F)))){if(F=w(p||F),!z.rgba&&1!==F._rgba[3]){for(u="backgroundColor"===h?t.parentNode:t;(""===s||"transparent"===s)&&u&&u.style;){try{s=D.css(u,"backgroundColor"),u=u.parentNode}catch(i){}}F=F.blend(s&&"transparent"!==s?s:"_default")}F=F.toRgbaString()}try{t.style[h]=F}catch(i){}}},D.fx.step[h]=function(i){i.colorInit||(i.start=w(i.elem,h),i.end=w(i.end),i.colorInit=!0),D.cssHooks[h].set(i.elem,i.start.transition(i.end,i.pos))}})},w.hook(k),D.cssHooks.borderColor={expand:function(d){var f={};return x(["Top","Right","Bottom","Left"],function(e,h){f["border"+h+"Color"]=d}),f}},B=D.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(l){var j,k,m=l.ownerDocument.defaultView?l.ownerDocument.defaultView.getComputedStyle(l,null):l.currentStyle,h={};if(m&&m.length&&m[0]&&m[m[0]]){for(k=m.length;k--;){j=m[k],"string"==typeof m[j]&&(h[b.camelCase(j)]=m[j])}}else{for(j in m){"string"==typeof m[j]&&(h[j]=m[j])}}return h}function f(k,h){var j,m,l={};for(j in h){m=h[j],k[j]!==m&&(d[j]||(b.fx.step[j]||!isNaN(parseFloat(m)))&&(l[j]=m))}return l}var g=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(j,h){b.fx.step[h]=function(i){("none"!==i.end&&!i.setAttr||1===i.pos&&!i.setAttr)&&(jQuery.style(i.elem,h,i.end),i.setAttr=!0)}}),b.fn.addBack||(b.fn.addBack=function(h){return this.add(null==h?this.prevObject:this.prevObject.filter(h))}),b.effects.animateClass=function(k,i,m,j){var h=b.speed(i,m,j);return this.queue(function(){var l,q=b(this),p=q.attr("class")||"",n=h.children?q.find("*").addBack():q;n=n.map(function(){var o=b(this);return{el:o,start:e(this)}}),l=function(){b.each(g,function(r,o){k[o]&&q[o+"Class"](k[o])})},l(),n=n.map(function(){return this.end=e(this.el[0]),this.diff=f(this.start,this.end),this}),q.attr("class",p),n=n.map(function(){var t=this,o=b.Deferred(),r=b.extend({},h,{queue:!1,complete:function(){o.resolve(t)}});return this.el.animate(this.diff,r),o.promise()}),b.when.apply(b,n.get()).done(function(){l(),b.each(arguments,function(){var o=this.el;b.each(this.diff,function(r){o.css(r,"")})}),h.complete.call(q[0])})})},b.fn.extend({addClass:function(h){return function(k,l,m,j){return l?b.effects.animateClass.call(this,{add:k},l,m,j):h.apply(this,arguments)}}(b.fn.addClass),removeClass:function(h){return function(k,l,m,j){return arguments.length>1?b.effects.animateClass.call(this,{remove:k},l,m,j):h.apply(this,arguments)}}(b.fn.removeClass),toggleClass:function(h){return function(j,m,i,l,k){return"boolean"==typeof m||m===c?i?b.effects.animateClass.call(this,m?{add:j}:{remove:j},i,l,k):h.apply(this,arguments):b.effects.animateClass.call(this,{toggle:j},m,i,l)}}(b.fn.toggleClass),switchClass:function(l,j,k,m,h){return b.effects.animateClass.call(this,{add:j,remove:l},k,m,h)}})}(),function(){function d(h,f,g,j){return b.isPlainObject(h)&&(f=h,h=h.effect),h={effect:h},null==f&&(f={}),b.isFunction(f)&&(j=f,g=null,f={}),("number"==typeof f||b.fx.speeds[f])&&(j=g,g=f,f={}),b.isFunction(g)&&(j=g,g=null),f&&b.extend(h,f),g=g||f.duration,h.duration=b.fx.off?0:"number"==typeof g?g:g in b.fx.speeds?b.fx.speeds[g]:b.fx.speeds._default,h.complete=j||f.complete,h}function e(f){return !f||"number"==typeof f||b.fx.speeds[f]?!0:"string"!=typeof f||b.effects.effect[f]?b.isFunction(f)?!0:"object"!=typeof f||f.effect?!1:!0:!0}b.extend(b.effects,{version:"1.10.3",save:function(f,h){for(var g=0;h.length>g;g++){null!==h[g]&&f.data(a+h[g],f[0].style[h[g]])}},restore:function(g,h){var i,f;for(f=0;h.length>f;f++){null!==h[f]&&(i=g.data(a+h[f]),i===c&&(i=""),g.css(h[f],i))}},setMode:function(f,g){return"toggle"===g&&(g=f.is(":hidden")?"show":"hide"),g},getBaseline:function(g,j){var f,h;switch(g[0]){case"top":f=0;break;case"middle":f=0.5;break;case"bottom":f=1;break;default:f=g[0]/j.height}switch(g[1]){case"left":h=0;break;case"center":h=0.5;break;case"right":h=1;break;default:h=g[1]/j.width}return{x:h,y:f}},createWrapper:function(j){if(j.parent().is(".ui-effects-wrapper")){return j.parent()}var g={width:j.outerWidth(!0),height:j.outerHeight(!0),"float":j.css("float")},h=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),l={width:j.width(),height:j.height()},f=document.activeElement;try{f.id}catch(k){f=document.body}return j.wrap(h),(j[0]===f||b.contains(j[0],f))&&b(f).focus(),h=j.parent(),"static"===j.css("position")?(h.css({position:"relative"}),j.css({position:"relative"})):(b.extend(g,{position:j.css("position"),zIndex:j.css("z-index")}),b.each(["top","left","bottom","right"],function(i,m){g[m]=j.css(m),isNaN(parseInt(g[m],10))&&(g[m]="auto")}),j.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),j.css(l),h.css(g).show()},removeWrapper:function(g){var f=document.activeElement;return g.parent().is(".ui-effects-wrapper")&&(g.parent().replaceWith(g),(g[0]===f||b.contains(g[0],f))&&b(f).focus()),g},setTransition:function(h,f,g,j){return j=j||{},b.each(f,function(m,l){var k=h.cssUnit(l);k[0]>0&&(j[l]=k[0]*g+k[1])}),j}}),b.fn.extend({effect:function(){function h(o){function l(){b.isFunction(i)&&i.call(p[0]),b.isFunction(o)&&o()}var p=b(this),i=g.complete,m=g.mode;(p.is(":hidden")?"hide"===m:"show"===m)?(p[m](),l()):j.call(p[0],g,l)}var g=d.apply(this,arguments),k=g.mode,f=g.queue,j=b.effects.effect[g.effect];return b.fx.off||!j?k?this[k](g.duration,g.complete):this.each(function(){g.complete&&g.complete.call(this)}):f===!1?this.each(h):this.queue(f||"fx",h)},show:function(f){return function(h){if(e(h)){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="show",this.effect.call(this,g)}}(b.fn.show),hide:function(f){return function(h){if(e(h)){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="hide",this.effect.call(this,g)}}(b.fn.hide),toggle:function(f){return function(h){if(e(h)||"boolean"==typeof h){return f.apply(this,arguments)}var g=d.apply(this,arguments);return g.mode="toggle",this.effect.call(this,g)}}(b.fn.toggle),cssUnit:function(h){var f=this.css(h),g=[];return b.each(["em","px","%","pt"],function(i,j){f.indexOf(j)>0&&(g=[parseFloat(f),j])}),g}})}(),function(){var d={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,e){d[e]=function(g){return Math.pow(g,f+2)}}),b.extend(d,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(g){for(var h,f=4;((h=Math.pow(2,--f))-1)/11>g;){}return 1/Math.pow(4,3-f)-7.5625*Math.pow((3*h-2)/22-g,2)}}),b.each(d,function(g,f){b.easing["easeIn"+g]=f,b.easing["easeOut"+g]=function(e){return 1-f(1-e)},b.easing["easeInOut"+g]=function(e){return 0.5>e?f(2*e)/2:1-f(-2*e+2)/2}})}()})(jQuery);(function(b){var c=/up|down|vertical/,a=/up|left|vertical|horizontal/;b.effects.effect.blind=function(E,k){var B,j,e,t=b(this),w=["position","top","bottom","left","right","height","width"],A=b.effects.setMode(t,E.mode||"hide"),D=E.direction||"up",z=c.test(D),i=z?"height":"width",y=z?"top":"left",x=a.test(D),q={},C="show"===A;t.parent().is(".ui-effects-wrapper")?b.effects.save(t.parent(),w):b.effects.save(t,w),t.show(),B=b.effects.createWrapper(t).css({overflow:"hidden"}),j=B[i](),e=parseFloat(B.css(y))||0,q[i]=C?j:0,x||(t.css(z?"bottom":"right",0).css(z?"top":"left","auto").css({position:"absolute"}),q[y]=C?e:j+e),C&&(B.css(i,0),x||B.css(y,e+j)),B.animate(q,{duration:E.duration,easing:E.easing,queue:!1,complete:function(){"hide"===A&&t.hide(),b.effects.restore(t,w),b.effects.removeWrapper(t),k()}})}})(jQuery);(function(a){a.effects.effect.bounce=function(H,D){var t,A,L,z=a(this),w=["position","top","bottom","left","right","height","width"],C=a.effects.setMode(z,H.mode||"effect"),E="hide"===C,J="show"===C,q=H.direction||"up",I=H.distance,x=H.times||5,G=2*x+(J||E?1:0),F=H.duration/G,B=H.easing,k="up"===q||"down"===q?"top":"left",M="up"===q||"left"===q,K=z.queue(),j=K.length;for((J||E)&&w.push("opacity"),a.effects.save(z,w),z.show(),a.effects.createWrapper(z),I||(I=z["top"===k?"outerHeight":"outerWidth"]()/3),J&&(L={opacity:1},L[k]=0,z.css("opacity",0).css(k,M?2*-I:2*I).animate(L,F,B)),E&&(I/=Math.pow(2,x-1)),L={},L[k]=0,t=0;x>t;t++){A={},A[k]=(M?"-=":"+=")+I,z.animate(A,F,B).animate(L,F,B),I=E?2*I:I/2}E&&(A={opacity:0},A[k]=(M?"-=":"+=")+I,z.animate(A,F,B)),z.queue(function(){E&&z.hide(),a.effects.restore(z,w),a.effects.removeWrapper(z),D()}),j>1&&K.splice.apply(K,[1,0].concat(K.splice(j,G+1))),z.dequeue()}})(jQuery);(function(a){a.effects.effect.clip=function(w,q){var B,k,z,j=a(this),b=["position","top","bottom","left","right","height","width"],m=a.effects.setMode(j,w.mode||"hide"),t="show"===m,y=w.direction||"vertical",A="vertical"===y,x=A?"height":"width",g=A?"top":"left",v={};a.effects.save(j,b),j.show(),B=a.effects.createWrapper(j).css({overflow:"hidden"}),k="IMG"===j[0].tagName?B:j,z=k[x](),t&&(k.css(x,0),k.css(g,z/2)),v[x]=t?z:0,v[g]=t?0:z/2,k.animate(v,{queue:!1,duration:w.duration,easing:w.easing,complete:function(){t||j.hide(),a.effects.restore(j,b),a.effects.removeWrapper(j),q()}})}})(jQuery);(function(a){a.effects.effect.drop=function(m,j){var v,f=a(this),q=["position","top","bottom","left","right","opacity","height","width"],d=a.effects.setMode(f,m.mode||"hide"),b="show"===d,g=m.direction||"left",k="up"===g||"down"===g?"top":"left",p="up"===g||"left"===g?"pos":"neg",t={opacity:b?1:0};a.effects.save(f,q),f.show(),a.effects.createWrapper(f),v=m.distance||f["top"===k?"outerHeight":"outerWidth"](!0)/2,b&&f.css("opacity",0).css(k,"pos"===p?-v:v),t[k]=(b?"pos"===p?"+=":"-=":"pos"===p?"-=":"+=")+v,f.animate(t,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){"hide"===d&&f.hide(),a.effects.restore(f,q),a.effects.removeWrapper(f),j()}})}})(jQuery);(function(a){a.effects.effect.explode=function(F,B){function q(){I.push(this),I.length===k*G&&y()}function y(){w.css({visibility:"visible"}),a(I).remove(),D||w.hide(),B()}var J,x,t,A,C,H,k=F.pieces?Math.round(Math.sqrt(F.pieces)):3,G=k,w=a(this),E=a.effects.setMode(w,F.mode||"hide"),D="show"===E,z=w.show().css("visibility","hidden").offset(),j=Math.ceil(w.outerWidth()/G),K=Math.ceil(w.outerHeight()/k),I=[];for(J=0;k>J;J++){for(A=z.top+J*K,H=J-(k-1)/2,x=0;G>x;x++){t=z.left+x*j,C=x-(G-1)/2,w.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-x*j,top:-J*K}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:j,height:K,left:t+(D?C*j:0),top:A+(D?H*K:0),opacity:D?0:1}).animate({left:t+(D?0:C*j),top:A+(D?0:H*K),opacity:D?1:0},F.duration||500,F.easing,q)}}}})(jQuery);(function(a){a.effects.effect.fade=function(d,b){var c=a(this),f=a.effects.setMode(c,d.mode||"toggle");c.animate({opacity:f},{queue:!1,duration:d.duration,easing:d.easing,complete:b})}})(jQuery);(function(a){a.effects.effect.fold=function(B,x){var H,q,E=a(this),k=["position","top","bottom","left","right","height","width"],b=a.effects.setMode(E,B.mode||"hide"),w="show"===b,y="hide"===b,D=B.size||15,G=/([0-9]+)%/.exec(D),C=!!B.horizFirst,j=w!==C,A=j?["width","height"]:["height","width"],z=B.duration/2,t={},F={};a.effects.save(E,k),E.show(),H=a.effects.createWrapper(E).css({overflow:"hidden"}),q=j?[H.width(),H.height()]:[H.height(),H.width()],G&&(D=parseInt(G[1],10)/100*q[y?0:1]),w&&H.css(C?{height:0,width:D}:{height:D,width:0}),t[A[0]]=w?q[0]:D,F[A[1]]=w?q[1]:0,H.animate(t,z,B.easing).animate(F,z,B.easing,function(){y&&E.hide(),a.effects.restore(E,k),a.effects.removeWrapper(E),x()})}})(jQuery);(function(a){a.effects.effect.highlight=function(f,c){var d=a(this),h=["backgroundImage","backgroundColor","opacity"],b=a.effects.setMode(d,f.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===b&&(g.opacity=0),a.effects.save(d,h),d.show().css({backgroundImage:"none",backgroundColor:f.color||"#ffff99"}).animate(g,{queue:!1,duration:f.duration,easing:f.easing,complete:function(){"hide"===b&&d.hide(),a.effects.restore(d,h),c()}})}})(jQuery);(function(a){a.effects.effect.pulsate=function(t,m){var z,j=a(this),x=a.effects.setMode(j,t.mode||"show"),g="show"===x,b="hide"===x,k=g||"hide"===x,q=2*(t.times||5)+(k?1:0),w=t.duration/q,y=0,v=j.queue(),f=v.length;for((g||!j.is(":visible"))&&(j.css("opacity",0).show(),y=1),z=1;q>z;z++){j.animate({opacity:y},w,t.easing),y=1-y}j.animate({opacity:y},w,t.easing),j.queue(function(){b&&j.hide(),m()}),f>1&&v.splice.apply(v,[1,0].concat(v.splice(f,q+1))),j.dequeue()}})(jQuery);(function(a){a.effects.effect.puff=function(h,d){var f=a(this),k=a.effects.setMode(f,h.mode||"hide"),c="hide"===k,j=parseInt(h.percent,10)||150,g=j/100,b={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};a.extend(h,{effect:"scale",queue:!1,fade:!0,mode:k,complete:d,percent:c?j:100,from:c?b:{height:b.height*g,width:b.width*g,outerHeight:b.outerHeight*g,outerWidth:b.outerWidth*g}}),f.effect(h)},a.effects.effect.scale=function(m,j){var t=a(this),f=a.extend(!0,{},m),q=a.effects.setMode(t,m.mode||"effect"),d=parseInt(m.percent,10)||(0===parseInt(m.percent,10)?0:"hide"===q?0:100),b=m.direction||"both",g=m.origin,k={height:t.height(),width:t.width(),outerHeight:t.outerHeight(),outerWidth:t.outerWidth()},p={y:"horizontal"!==b?d/100:1,x:"vertical"!==b?d/100:1};f.effect="size",f.queue=!1,f.complete=j,"effect"!==q&&(f.origin=g||["middle","center"],f.restore=!0),f.from=m.from||("show"===q?{height:0,width:0,outerHeight:0,outerWidth:0}:k),f.to={height:k.height*p.y,width:k.width*p.x,outerHeight:k.outerHeight*p.y,outerWidth:k.outerWidth*p.x},f.fade&&("show"===q&&(f.from.opacity=0,f.to.opacity=1),"hide"===q&&(f.from.opacity=1,f.to.opacity=0)),t.effect(f)},a.effects.effect.size=function(F,B){var q,y,J,x=a(this),t=["position","top","bottom","left","right","width","height","overflow","opacity"],A=["position","top","bottom","left","right","overflow","opacity"],C=["width","height","overflow"],H=["fontSize"],k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],G=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],w=a.effects.setMode(x,F.mode||"effect"),E=F.restore||"effect"!==w,D=F.scale||"both",z=F.origin||["middle","center"],j=x.css("position"),K=E?t:A,I={height:0,width:0,outerHeight:0,outerWidth:0};"show"===w&&x.show(),q={height:x.height(),width:x.width(),outerHeight:x.outerHeight(),outerWidth:x.outerWidth()},"toggle"===F.mode&&"show"===w?(x.from=F.to||I,x.to=F.from||q):(x.from=F.from||("show"===w?I:q),x.to=F.to||("hide"===w?I:q)),J={from:{y:x.from.height/q.height,x:x.from.width/q.width},to:{y:x.to.height/q.height,x:x.to.width/q.width}},("box"===D||"both"===D)&&(J.from.y!==J.to.y&&(K=K.concat(k),x.from=a.effects.setTransition(x,k,J.from.y,x.from),x.to=a.effects.setTransition(x,k,J.to.y,x.to)),J.from.x!==J.to.x&&(K=K.concat(G),x.from=a.effects.setTransition(x,G,J.from.x,x.from),x.to=a.effects.setTransition(x,G,J.to.x,x.to))),("content"===D||"both"===D)&&J.from.y!==J.to.y&&(K=K.concat(H).concat(C),x.from=a.effects.setTransition(x,H,J.from.y,x.from),x.to=a.effects.setTransition(x,H,J.to.y,x.to)),a.effects.save(x,K),x.show(),a.effects.createWrapper(x),x.css("overflow","hidden").css(x.from),z&&(y=a.effects.getBaseline(z,q),x.from.top=(q.outerHeight-x.outerHeight())*y.y,x.from.left=(q.outerWidth-x.outerWidth())*y.x,x.to.top=(q.outerHeight-x.to.outerHeight)*y.y,x.to.left=(q.outerWidth-x.to.outerWidth)*y.x),x.css(x.from),("content"===D||"both"===D)&&(k=k.concat(["marginTop","marginBottom"]).concat(H),G=G.concat(["marginLeft","marginRight"]),C=t.concat(k).concat(G),x.find("*[width]").each(function(){var b=a(this),c={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};E&&a.effects.save(b,C),b.from={height:c.height*J.from.y,width:c.width*J.from.x,outerHeight:c.outerHeight*J.from.y,outerWidth:c.outerWidth*J.from.x},b.to={height:c.height*J.to.y,width:c.width*J.to.x,outerHeight:c.height*J.to.y,outerWidth:c.width*J.to.x},J.from.y!==J.to.y&&(b.from=a.effects.setTransition(b,k,J.from.y,b.from),b.to=a.effects.setTransition(b,k,J.to.y,b.to)),J.from.x!==J.to.x&&(b.from=a.effects.setTransition(b,G,J.from.x,b.from),b.to=a.effects.setTransition(b,G,J.to.x,b.to)),b.css(b.from),b.animate(b.to,F.duration,F.easing,function(){E&&a.effects.restore(b,C)})})),x.animate(x.to,{queue:!1,duration:F.duration,easing:F.easing,complete:function(){0===x.to.opacity&&x.css("opacity",x.from.opacity),"hide"===w&&x.hide(),a.effects.restore(x,K),E||("static"===j?x.css({position:"relative",top:x.to.top,left:x.to.left}):a.each(["top","left"],function(b,c){x.css(c,function(g,d){var f=parseInt(d,10),h=b?x.to.left:x.to.top;return"auto"===d?h+"px":f+h+"px"})})),a.effects.removeWrapper(x),B()}})}})(jQuery);(function(a){a.effects.effect.shake=function(E,A){var k,x=a(this),H=["position","top","bottom","left","right","height","width"],w=a.effects.setMode(x,E.mode||"effect"),q=E.direction||"left",z=E.distance||20,B=E.times||3,G=2*B+1,j=Math.round(E.duration/G),F="up"===q||"down"===q?"top":"left",t="up"===q||"left"===q,D={},C={},y={},b=x.queue(),I=b.length;for(a.effects.save(x,H),x.show(),a.effects.createWrapper(x),D[F]=(t?"-=":"+=")+z,C[F]=(t?"+=":"-=")+2*z,y[F]=(t?"-=":"+=")+2*z,x.animate(D,j,E.easing),k=1;B>k;k++){x.animate(C,j,E.easing).animate(y,j,E.easing)}x.animate(C,j,E.easing).animate(D,j/2,E.easing).queue(function(){"hide"===w&&x.hide(),a.effects.restore(x,H),a.effects.removeWrapper(x),A()}),I>1&&b.splice.apply(b,[1,0].concat(b.splice(I,G+1))),x.dequeue()}})(jQuery);(function(a){a.effects.effect.slide=function(m,j){var v,f=a(this),q=["position","top","bottom","left","right","width","height"],d=a.effects.setMode(f,m.mode||"show"),b="show"===d,g=m.direction||"left",k="up"===g||"down"===g?"top":"left",p="up"===g||"left"===g,t={};a.effects.save(f,q),f.show(),v=m.distance||f["top"===k?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(f).css({overflow:"hidden"}),b&&f.css(k,p?isNaN(v)?"-"+v:-v:v),t[k]=(b?p?"+=":"-=":p?"-=":"+=")+v,f.animate(t,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){"hide"===d&&f.hide(),a.effects.restore(f,q),a.effects.removeWrapper(f),j()}})}})(jQuery);(function(a){a.effects.effect.transfer=function(p,k){var x=a(this),g=a(p.to),v="fixed"===g.css("position"),f=a("body"),b=v?f.scrollTop():0,j=v?f.scrollLeft():0,m=g.offset(),t={top:m.top-b,left:m.left-j,height:g.innerHeight(),width:g.innerWidth()},q=x.offset(),w=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(p.className).css({top:q.top-b,left:q.left-j,height:x.innerHeight(),width:x.innerWidth(),position:v?"fixed":"absolute"}).animate(t,p.duration,p.easing,function(){w.remove(),k()})}})(jQuery);(function(){var w=this;var k=w._;var D={};var C=Array.prototype,f=Object.prototype,r=Function.prototype;var H=C.push,o=C.slice,y=C.concat,d=f.toString,j=f.hasOwnProperty;var L=C.forEach,q=C.map,E=C.reduce,c=C.reduceRight,b=C.filter,B=C.every,p=C.some,n=C.indexOf,l=C.lastIndexOf,u=Array.isArray,e=Object.keys,F=r.bind;var M=function(N){if(N instanceof M){return N}if(!(this instanceof M)){return new M(N)}this._wrapped=N};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=M}exports._=M}else{w._=M}M.VERSION="1.5.2";var I=M.each=M.forEach=function(S,P,O){if(S==null){return}if(L&&S.forEach===L){S.forEach(P,O)}else{if(S.length===+S.length){for(var N=0,R=S.length;N<R;N++){if(P.call(O,S[N],N,S)===D){return}}}else{var Q=M.keys(S);for(var N=0,R=Q.length;N<R;N++){if(P.call(O,S[Q[N]],Q[N],S)===D){return}}}}};M.map=M.collect=function(Q,P,O){var N=[];if(Q==null){return N}if(q&&Q.map===q){return Q.map(P,O)}I(Q,function(T,R,S){N.push(P.call(O,T,R,S))});return N};var g="Reduce of empty array with no initial value";M.reduce=M.foldl=M.inject=function(R,Q,N,P){var O=arguments.length>2;if(R==null){R=[]}if(E&&R.reduce===E){if(P){Q=M.bind(Q,P)}return O?R.reduce(Q,N):R.reduce(Q)}I(R,function(U,S,T){if(!O){N=U;O=true}else{N=Q.call(P,N,U,S,T)}});if(!O){throw new TypeError(g)}return N};M.reduceRight=M.foldr=function(T,Q,N,P){var O=arguments.length>2;if(T==null){T=[]}if(c&&T.reduceRight===c){if(P){Q=M.bind(Q,P)}return O?T.reduceRight(Q,N):T.reduceRight(Q)}var S=T.length;if(S!==+S){var R=M.keys(T);S=R.length}I(T,function(W,U,V){U=R?R[--S]:--S;if(!O){N=T[U];O=true}else{N=Q.call(P,N,T[U],U,V)}});if(!O){throw new TypeError(g)}return N};M.find=M.detect=function(Q,P,O){var N;A(Q,function(T,R,S){if(P.call(O,T,R,S)){N=T;return true}});return N};M.filter=M.select=function(Q,P,O){var N=[];if(Q==null){return N}if(b&&Q.filter===b){return Q.filter(P,O)}I(Q,function(T,R,S){if(P.call(O,T,R,S)){N.push(T)}});return N};M.reject=function(P,O,N){return M.filter(P,function(S,Q,R){return !O.call(N,S,Q,R)},N)};M.every=M.all=function(Q,P,O){P||(P=M.identity);var N=true;if(Q==null){return N}if(B&&Q.every===B){return Q.every(P,O)}I(Q,function(T,R,S){if(!(N=N&&P.call(O,T,R,S))){return D}});return !!N};var A=M.some=M.any=function(Q,P,O){P||(P=M.identity);var N=false;if(Q==null){return N}if(p&&Q.some===p){return Q.some(P,O)}I(Q,function(T,R,S){if(N||(N=P.call(O,T,R,S))){return D}});return !!N};M.contains=M.include=function(O,N){if(O==null){return false}if(n&&O.indexOf===n){return O.indexOf(N)!=-1}return A(O,function(P){return P===N})};M.invoke=function(P,Q){var N=o.call(arguments,2);var O=M.isFunction(Q);return M.map(P,function(R){return(O?Q:R[Q]).apply(R,N)})};M.pluck=function(O,N){return M.map(O,function(P){return P[N]})};M.where=function(O,N,P){if(M.isEmpty(N)){return P?void 0:[]}return M[P?"find":"filter"](O,function(R){for(var Q in N){if(N[Q]!==R[Q]){return false}}return true})};M.findWhere=function(O,N){return M.where(O,N,true)};M.max=function(Q,P,O){if(!P&&M.isArray(Q)&&Q[0]===+Q[0]&&Q.length<65535){return Math.max.apply(Math,Q)}if(!P&&M.isEmpty(Q)){return -Infinity}var N={computed:-Infinity,value:-Infinity};I(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S>N.computed&&(N={value:U,computed:S})});return N.value};M.min=function(Q,P,O){if(!P&&M.isArray(Q)&&Q[0]===+Q[0]&&Q.length<65535){return Math.min.apply(Math,Q)}if(!P&&M.isEmpty(Q)){return Infinity}var N={computed:Infinity,value:Infinity};I(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S<N.computed&&(N={value:U,computed:S})});return N.value};M.shuffle=function(Q){var P;var O=0;var N=[];I(Q,function(R){P=M.random(O++);N[O-1]=N[P];N[P]=R});return N};M.sample=function(O,P,N){if(arguments.length<2||N){return O[M.random(O.length-1)]}return M.shuffle(O).slice(0,Math.max(0,P))};var a=function(N){return M.isFunction(N)?N:function(O){return O[N]}};M.sortBy=function(Q,P,N){var O=a(P);return M.pluck(M.map(Q,function(T,R,S){return{value:T,index:R,criteria:O.call(N,T,R,S)}}).sort(function(U,T){var S=U.criteria;var R=T.criteria;if(S!==R){if(S>R||S===void 0){return 1}if(S<R||R===void 0){return -1}}return U.index-T.index}),"value")};var t=function(N){return function(S,R,P){var O={};var Q=R==null?M.identity:a(R);I(S,function(V,T){var U=Q.call(P,V,T,S);N(O,U,V)});return O}};M.groupBy=t(function(N,O,P){(M.has(N,O)?N[O]:(N[O]=[])).push(P)});M.indexBy=t(function(N,O,P){N[O]=P});M.countBy=t(function(N,O){M.has(N,O)?N[O]++:N[O]=1});M.sortedIndex=function(U,T,Q,P){Q=Q==null?M.identity:a(Q);var S=Q.call(P,T);var N=0,R=U.length;while(N<R){var O=(N+R)>>>1;Q.call(P,U[O])<S?N=O+1:R=O}return N};M.toArray=function(N){if(!N){return[]}if(M.isArray(N)){return o.call(N)}if(N.length===+N.length){return M.map(N,M.identity)}return M.values(N)};M.size=function(N){if(N==null){return 0}return(N.length===+N.length)?N.length:M.keys(N).length};M.first=M.head=M.take=function(P,O,N){if(P==null){return void 0}return(O==null)||N?P[0]:o.call(P,0,O)};M.initial=function(P,O,N){return o.call(P,0,P.length-((O==null)||N?1:O))};M.last=function(P,O,N){if(P==null){return void 0}if((O==null)||N){return P[P.length-1]}else{return o.call(P,Math.max(P.length-O,0))}};M.rest=M.tail=M.drop=function(P,O,N){return o.call(P,(O==null)||N?1:O)};M.compact=function(N){return M.filter(N,M.identity)};var x=function(O,P,N){if(P&&M.every(O,M.isArray)){return y.apply(N,O)}I(O,function(Q){if(M.isArray(Q)||M.isArguments(Q)){P?H.apply(N,Q):x(Q,P,N)}else{N.push(Q)}});return N};M.flatten=function(O,N){return x(O,N,[])};M.without=function(N){return M.difference(N,o.call(arguments,1))};M.uniq=M.unique=function(T,S,R,Q){if(M.isFunction(S)){Q=R;R=S;S=false}var O=R?M.map(T,R,Q):T;var P=[];var N=[];I(O,function(V,U){if(S?(!U||N[N.length-1]!==V):!M.contains(N,V)){N.push(V);P.push(T[U])}});return P};M.union=function(){return M.uniq(M.flatten(arguments,true))};M.intersection=function(O){var N=o.call(arguments,1);return M.filter(M.uniq(O),function(P){return M.every(N,function(Q){return M.indexOf(Q,P)>=0})})};M.difference=function(O){var N=y.apply(C,o.call(arguments,1));return M.filter(O,function(P){return !M.contains(N,P)})};M.zip=function(){var P=M.max(M.pluck(arguments,"length").concat(0));var O=new Array(P);for(var N=0;N<P;N++){O[N]=M.pluck(arguments,""+N)}return O};M.object=function(R,O){if(R==null){return{}}var N={};for(var P=0,Q=R.length;P<Q;P++){if(O){N[R[P]]=O[P]}else{N[R[P][0]]=R[P][1]}}return N};M.indexOf=function(R,P,Q){if(R==null){return -1}var N=0,O=R.length;if(Q){if(typeof Q=="number"){N=(Q<0?Math.max(0,O+Q):Q)}else{N=M.sortedIndex(R,P);return R[N]===P?N:-1}}if(n&&R.indexOf===n){return R.indexOf(P,Q)}for(;N<O;N++){if(R[N]===P){return N}}return -1};M.lastIndexOf=function(R,P,Q){if(R==null){return -1}var N=Q!=null;if(l&&R.lastIndexOf===l){return N?R.lastIndexOf(P,Q):R.lastIndexOf(P)}var O=(N?Q:R.length);while(O--){if(R[O]===P){return O}}return -1};M.range=function(S,P,R){if(arguments.length<=1){P=S||0;S=0}R=arguments[2]||1;var Q=Math.max(Math.ceil((P-S)/R),0);var N=0;var O=new Array(Q);while(N<Q){O[N++]=S;S+=R}return O};var G=function(){};M.bind=function(Q,O){var N,P;if(F&&Q.bind===F){return F.apply(Q,o.call(arguments,1))}if(!M.isFunction(Q)){throw new TypeError}N=o.call(arguments,2);return P=function(){if(!(this instanceof P)){return Q.apply(O,N.concat(o.call(arguments)))}G.prototype=Q.prototype;var S=new G;G.prototype=null;var R=Q.apply(S,N.concat(o.call(arguments)));if(Object(R)===R){return R}return S}};M.partial=function(O){var N=o.call(arguments,1);return function(){return O.apply(this,N.concat(o.call(arguments)))}};M.bindAll=function(O){var N=o.call(arguments,1);if(N.length===0){throw new Error("bindAll must be passed function names")}I(N,function(P){O[P]=M.bind(O[P],O)});return O};M.memoize=function(P,O){var N={};O||(O=M.identity);return function(){var Q=O.apply(this,arguments);return M.has(N,Q)?N[Q]:(N[Q]=P.apply(this,arguments))}};M.delay=function(O,P){var N=o.call(arguments,2);return setTimeout(function(){return O.apply(null,N)},P)};M.defer=function(N){return M.delay.apply(M,[N,1].concat(o.call(arguments,1)))};M.throttle=function(O,Q,U){var N,S,V;var T=null;var R=0;U||(U={});var P=function(){R=U.leading===false?0:new Date;T=null;V=O.apply(N,S)};return function(){var W=new Date;if(!R&&U.leading===false){R=W}var X=Q-(W-R);N=this;S=arguments;if(X<=0){clearTimeout(T);T=null;R=W;V=O.apply(N,S)}else{if(!T&&U.trailing!==false){T=setTimeout(P,X)}}return V}};M.debounce=function(R,U,O){var T,P,Q,S,N;return function(){Q=this;P=arguments;S=new Date();var W=function(){var X=(new Date())-S;if(X<U){T=setTimeout(W,U-X)}else{T=null;if(!O){N=R.apply(Q,P)}}};var V=O&&!T;if(!T){T=setTimeout(W,U)}if(V){N=R.apply(Q,P)}return N}};M.once=function(P){var N=false,O;return function(){if(N){return O}N=true;O=P.apply(this,arguments);P=null;return O}};M.wrap=function(N,O){return function(){var P=[N];H.apply(P,arguments);return O.apply(this,P)}};M.compose=function(){var N=arguments;return function(){var O=arguments;for(var P=N.length-1;P>=0;P--){O=[N[P].apply(this,O)]}return O[0]}};M.after=function(O,N){return function(){if(--O<1){return N.apply(this,arguments)}}};M.keys=e||function(P){if(P!==Object(P)){throw new TypeError("Invalid object")}var O=[];for(var N in P){if(M.has(P,N)){O.push(N)}}return O};M.values=function(R){var Q=M.keys(R);var P=Q.length;var N=new Array(P);for(var O=0;O<P;O++){N[O]=R[Q[O]]}return N};M.pairs=function(R){var P=M.keys(R);var O=P.length;var Q=new Array(O);for(var N=0;N<O;N++){Q[N]=[P[N],R[P[N]]]}return Q};M.invert=function(R){var N={};var Q=M.keys(R);for(var O=0,P=Q.length;O<P;O++){N[R[Q[O]]]=Q[O]}return N};M.functions=M.methods=function(P){var O=[];for(var N in P){if(M.isFunction(P[N])){O.push(N)}}return O.sort()};M.extend=function(N){I(o.call(arguments,1),function(O){if(O){for(var P in O){N[P]=O[P]}}});return N};M.pick=function(O){var P={};var N=y.apply(C,o.call(arguments,1));I(N,function(Q){if(Q in O){P[Q]=O[Q]}});return P};M.omit=function(P){var Q={};var O=y.apply(C,o.call(arguments,1));for(var N in P){if(!M.contains(O,N)){Q[N]=P[N]}}return Q};M.defaults=function(N){I(o.call(arguments,1),function(O){if(O){for(var P in O){if(N[P]===void 0){N[P]=O[P]}}}});return N};M.clone=function(N){if(!M.isObject(N)){return N}return M.isArray(N)?N.slice():M.extend({},N)};M.tap=function(O,N){N(O);return O};var J=function(U,T,O,P){if(U===T){return U!==0||1/U==1/T}if(U==null||T==null){return U===T}if(U instanceof M){U=U._wrapped}if(T instanceof M){T=T._wrapped}var R=d.call(U);if(R!=d.call(T)){return false}switch(R){case"[object String]":return U==String(T);case"[object Number]":return U!=+U?T!=+T:(U==0?1/U==1/T:U==+T);case"[object Date]":case"[object Boolean]":return +U==+T;case"[object RegExp]":return U.source==T.source&&U.global==T.global&&U.multiline==T.multiline&&U.ignoreCase==T.ignoreCase}if(typeof U!="object"||typeof T!="object"){return false}var N=O.length;while(N--){if(O[N]==U){return P[N]==T}}var S=U.constructor,Q=T.constructor;if(S!==Q&&!(M.isFunction(S)&&(S instanceof S)&&M.isFunction(Q)&&(Q instanceof Q))){return false}O.push(U);P.push(T);var X=0,W=true;if(R=="[object Array]"){X=U.length;W=X==T.length;if(W){while(X--){if(!(W=J(U[X],T[X],O,P))){break}}}}else{for(var V in U){if(M.has(U,V)){X++;if(!(W=M.has(T,V)&&J(U[V],T[V],O,P))){break}}}if(W){for(V in T){if(M.has(T,V)&&!(X--)){break}}W=!X}}O.pop();P.pop();return W};M.isEqual=function(O,N){return J(O,N,[],[])};M.isEmpty=function(O){if(O==null){return true}if(M.isArray(O)||M.isString(O)){return O.length===0}for(var N in O){if(M.has(O,N)){return false}}return true};M.isElement=function(N){return !!(N&&N.nodeType===1)};M.isArray=u||function(N){return d.call(N)=="[object Array]"};M.isObject=function(N){return N===Object(N)};I(["Arguments","Function","String","Number","Date","RegExp"],function(N){M["is"+N]=function(O){return d.call(O)=="[object "+N+"]"}});if(!M.isArguments(arguments)){M.isArguments=function(N){return !!(N&&M.has(N,"callee"))}}if(typeof(/./)!=="function"){M.isFunction=function(N){return typeof N==="function"}}M.isFinite=function(N){return isFinite(N)&&!isNaN(parseFloat(N))};M.isNaN=function(N){return M.isNumber(N)&&N!=+N};M.isBoolean=function(N){return N===true||N===false||d.call(N)=="[object Boolean]"};M.isNull=function(N){return N===null};M.isUndefined=function(N){return N===void 0};M.has=function(O,N){return j.call(O,N)};M.noConflict=function(){w._=k;return this};M.identity=function(N){return N};M.times=function(R,Q,P){var N=Array(Math.max(0,R));for(var O=0;O<R;O++){N[O]=Q.call(P,O)}return N};M.random=function(O,N){if(N==null){N=O;O=0}return O+Math.floor(Math.random()*(N-O+1))};var m={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};m.unescape=M.invert(m.escape);var K={escape:new RegExp("["+M.keys(m.escape).join("")+"]","g"),unescape:new RegExp("("+M.keys(m.unescape).join("|")+")","g")};M.each(["escape","unescape"],function(N){M[N]=function(O){if(O==null){return""}return(""+O).replace(K[N],function(P){return m[N][P]})}});M.result=function(N,P){if(N==null){return void 0}var O=N[P];return M.isFunction(O)?O.call(N):O};M.mixin=function(N){I(M.functions(N),function(O){var P=M[O]=N[O];M.prototype[O]=function(){var Q=[this._wrapped];H.apply(Q,arguments);return s.call(this,P.apply(M,Q))}})};var z=0;M.uniqueId=function(N){var O=++z+"";return N?N+O:O};M.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var v=/(.)^/;var h={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var i=/\\|'|\r|\n|\t|\u2028|\u2029/g;M.template=function(V,Q,P){var O;P=M.defaults({},P,M.templateSettings);var R=new RegExp([(P.escape||v).source,(P.interpolate||v).source,(P.evaluate||v).source].join("|")+"|$","g");var S=0;var N="__p+='";V.replace(R,function(X,Y,W,aa,Z){N+=V.slice(S,Z).replace(i,function(ab){return"\\"+h[ab]});if(Y){N+="'+\n((__t=("+Y+"))==null?'':_.escape(__t))+\n'"}if(W){N+="'+\n((__t=("+W+"))==null?'':__t)+\n'"}if(aa){N+="';\n"+aa+"\n__p+='"}S=Z+X.length;return X});N+="';\n";if(!P.variable){N="with(obj||{}){\n"+N+"}\n"}N="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+N+"return __p;\n";try{O=new Function(P.variable||"obj","_",N)}catch(T){T.source=N;throw T}if(Q){return O(Q,M)}var U=function(W){return O.call(this,W,M)};U.source="function("+(P.variable||"obj")+"){\n"+N+"}";return U};M.chain=function(N){return M(N).chain()};var s=function(N){return this._chain?M(N).chain():N};M.mixin(M);I(["pop","push","reverse","shift","sort","splice","unshift"],function(N){var O=C[N];M.prototype[N]=function(){var P=this._wrapped;O.apply(P,arguments);if((N=="shift"||N=="splice")&&P.length===0){delete P[0]}return s.call(this,P)}});I(["concat","join","slice"],function(N){var O=C[N];M.prototype[N]=function(){return s.call(this,O.apply(this._wrapped,arguments))}});M.extend(M.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(){var v=this;var C=v.Backbone;var g=[];var E=g.push;var o=g.slice;var u=g.splice;var A;if(typeof exports!=="undefined"){A=exports}else{A=v.Backbone={}}A.VERSION="1.1.0";var M=v._;if(!M&&(typeof require!=="undefined")){M=require("underscore")}A.$=v.jQuery||v.Zepto||v.ender||v.$;A.noConflict=function(){v.Backbone=C;return this};A.emulateHTTP=false;A.emulateJSON=false;var K=A.Events={on:function(N,Q,P){if(!y(this,"on",N,[Q,P])||!Q){return this}this._events||(this._events={});var O=this._events[N]||(this._events[N]=[]);O.push({callback:Q,context:P,ctx:P||this});return this},once:function(O,R,P){if(!y(this,"once",O,[R,P])||!R){return this}var N=this;var Q=M.once(function(){N.off(O,Q);R.apply(this,arguments)});Q._callback=R;return this.on(O,Q,P)},off:function(N,W,O){var U,V,X,T,S,P,R,Q;if(!this._events||!y(this,"off",N,[W,O])){return this}if(!N&&!W&&!O){this._events={};return this}T=N?[N]:M.keys(this._events);for(S=0,P=T.length;S<P;S++){N=T[S];if(X=this._events[N]){this._events[N]=U=[];if(W||O){for(R=0,Q=X.length;R<Q;R++){V=X[R];if((W&&W!==V.callback&&W!==V.callback._callback)||(O&&O!==V.context)){U.push(V)}}}if(!U.length){delete this._events[N]}}}return this},trigger:function(P){if(!this._events){return this}var O=o.call(arguments,1);if(!y(this,"trigger",P,O)){return this}var Q=this._events[P];var N=this._events.all;if(Q){b(Q,O)}if(N){b(N,arguments)}return this},stopListening:function(Q,O,S){var P=this._listeningTo;if(!P){return this}var N=!O&&!S;if(!S&&typeof O==="object"){S=this}if(Q){(P={})[Q._listenId]=Q}for(var R in P){Q=P[R];Q.off(O,S,this);if(N||M.isEmpty(Q._events)){delete this._listeningTo[R]}}return this}};var x=/\s+/;var y=function(U,S,O,R){if(!O){return true}if(typeof O==="object"){for(var Q in O){U[S].apply(U,[Q,O[Q]].concat(R))}return false}if(x.test(O)){var T=O.split(x);for(var P=0,N=T.length;P<N;P++){U[S].apply(U,[T[P]].concat(R))}return false}return true};var b=function(S,Q){var T,R=-1,P=S.length,O=Q[0],N=Q[1],U=Q[2];switch(Q.length){case 0:while(++R<P){(T=S[R]).callback.call(T.ctx)}return;case 1:while(++R<P){(T=S[R]).callback.call(T.ctx,O)}return;case 2:while(++R<P){(T=S[R]).callback.call(T.ctx,O,N)}return;case 3:while(++R<P){(T=S[R]).callback.call(T.ctx,O,N,U)}return;default:while(++R<P){(T=S[R]).callback.apply(T.ctx,Q)}}};var D={listenTo:"on",listenToOnce:"once"};M.each(D,function(N,O){K[O]=function(R,P,T){var Q=this._listeningTo||(this._listeningTo={});var S=R._listenId||(R._listenId=M.uniqueId("l"));Q[S]=R;if(!T&&typeof P==="object"){T=this}R[N](P,T,this);return this}});K.bind=K.on;K.unbind=K.off;M.extend(A,K);var F=A.Model=function(N,P){var O=N||{};P||(P={});this.cid=M.uniqueId("c");this.attributes={};if(P.collection){this.collection=P.collection}if(P.parse){O=this.parse(O,P)||{}}O=M.defaults({},O,M.result(this,"defaults"));this.set(O,P);this.changed={};this.initialize.apply(this,arguments)};M.extend(F.prototype,K,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(N){return M.clone(this.attributes)},sync:function(){return A.sync.apply(this,arguments)},get:function(N){return this.attributes[N]},escape:function(N){return M.escape(this.get(N))},has:function(N){return this.get(N)!=null},set:function(V,N,Z){var T,W,X,U,S,Y,P,R;if(V==null){return this}if(typeof V==="object"){W=V;Z=N}else{(W={})[V]=N}Z||(Z={});if(!this._validate(W,Z)){return false}X=Z.unset;S=Z.silent;U=[];Y=this._changing;this._changing=true;if(!Y){this._previousAttributes=M.clone(this.attributes);this.changed={}}R=this.attributes,P=this._previousAttributes;if(this.idAttribute in W){this.id=W[this.idAttribute]}for(T in W){N=W[T];if(!M.isEqual(R[T],N)){U.push(T)}if(!M.isEqual(P[T],N)){this.changed[T]=N}else{delete this.changed[T]}X?delete R[T]:R[T]=N}if(!S){if(U.length){this._pending=true}for(var Q=0,O=U.length;Q<O;Q++){this.trigger("change:"+U[Q],this,R[U[Q]],Z)}}if(Y){return this}if(!S){while(this._pending){this._pending=false;this.trigger("change",this,Z)}}this._pending=false;this._changing=false;return this},unset:function(N,O){return this.set(N,void 0,M.extend({},O,{unset:true}))},clear:function(O){var N={};for(var P in this.attributes){N[P]=void 0}return this.set(N,M.extend({},O,{unset:true}))},hasChanged:function(N){if(N==null){return !M.isEmpty(this.changed)}return M.has(this.changed,N)},changedAttributes:function(P){if(!P){return this.hasChanged()?M.clone(this.changed):false}var R,Q=false;var O=this._changing?this._previousAttributes:this.attributes;for(var N in P){if(M.isEqual(O[N],(R=P[N]))){continue}(Q||(Q={}))[N]=R}return Q},previous:function(N){if(N==null||!this._previousAttributes){return null}return this._previousAttributes[N]},previousAttributes:function(){return M.clone(this._previousAttributes)},fetch:function(O){O=O?M.clone(O):{};if(O.parse===void 0){O.parse=true}var N=this;var P=O.success;O.success=function(Q){if(!N.set(N.parse(Q,O),O)){return false}if(P){P(N,Q,O)}N.trigger("sync",N,Q,O)};I(this,O);return this.sync("read",this,O)},save:function(R,O,V){var S,N,U,P=this.attributes;if(R==null||typeof R==="object"){S=R;V=O}else{(S={})[R]=O}V=M.extend({validate:true},V);if(S&&!V.wait){if(!this.set(S,V)){return false}}else{if(!this._validate(S,V)){return false}}if(S&&V.wait){this.attributes=M.extend({},P,S)}if(V.parse===void 0){V.parse=true}var Q=this;var T=V.success;V.success=function(X){Q.attributes=P;var W=Q.parse(X,V);if(V.wait){W=M.extend(S||{},W)}if(M.isObject(W)&&!Q.set(W,V)){return false}if(T){T(Q,X,V)}Q.trigger("sync",Q,X,V)};I(this,V);N=this.isNew()?"create":(V.patch?"patch":"update");if(N==="patch"){V.attrs=S}U=this.sync(N,this,V);if(S&&V.wait){this.attributes=P}return U},destroy:function(O){O=O?M.clone(O):{};var N=this;var R=O.success;var P=function(){N.trigger("destroy",N,N.collection,O)};O.success=function(S){if(O.wait||N.isNew()){P()}if(R){R(N,S,O)}if(!N.isNew()){N.trigger("sync",N,S,O)}};if(this.isNew()){O.success();return false}I(this,O);var Q=this.sync("delete",this,O);if(!O.wait){P()}return Q},url:function(){var N=M.result(this,"urlRoot")||M.result(this.collection,"url")||s();if(this.isNew()){return N}return N+(N.charAt(N.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(O,N){return O},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(N){return this._validate({},M.extend(N||{},{validate:true}))},_validate:function(P,O){if(!O.validate||!this.validate){return true}P=M.extend({},this.attributes,P);var N=this.validationError=this.validate(P,O)||null;if(!N){return true}this.trigger("invalid",this,N,M.extend(O,{validationError:N}));return false}});var a=["keys","values","pairs","invert","pick","omit"];M.each(a,function(N){F.prototype[N]=function(){var O=o.call(arguments);O.unshift(this.attributes);return M[N].apply(M,O)}});var c=A.Collection=function(O,N){N||(N={});if(N.model){this.model=N.model}if(N.comparator!==void 0){this.comparator=N.comparator}this._reset();this.initialize.apply(this,arguments);if(O){this.reset(O,M.extend({silent:true},N))}};var p={add:true,remove:true,merge:true};var L={add:true,remove:false};M.extend(c.prototype,K,{model:F,initialize:function(){},toJSON:function(N){return this.map(function(O){return O.toJSON(N)})},sync:function(){return A.sync.apply(this,arguments)},add:function(O,N){return this.set(O,M.extend({merge:false},N,L))},remove:function(T,Q){var S=!M.isArray(T);T=S?[T]:M.clone(T);Q||(Q={});var R,N,P,O;for(R=0,N=T.length;R<N;R++){O=T[R]=this.get(T[R]);if(!O){continue}delete this._byId[O.id];delete this._byId[O.cid];P=this.indexOf(O);this.models.splice(P,1);this.length--;if(!Q.silent){Q.index=P;O.trigger("remove",O,this,Q)}this._removeReference(O)}return S?T[0]:T},set:function(ag,O){O=M.defaults({},O,p);if(O.parse){ag=this.parse(ag,O)}var R=!M.isArray(ag);ag=R?(ag?[ag]:[]):M.clone(ag);var ac,aa,W,P,Y,V,af;var T=O.at;var ae=this.model;var N=this.comparator&&(T==null)&&O.sort!==false;var ad=M.isString(this.comparator)?this.comparator:null;var ai=[],Z=[],X={};var U=O.add,Q=O.merge,ah=O.remove;var ab=!N&&U&&ah?[]:false;for(ac=0,aa=ag.length;ac<aa;ac++){Y=ag[ac];if(Y instanceof F){W=P=Y}else{W=Y[ae.prototype.idAttribute]}if(V=this.get(W)){if(ah){X[V.cid]=true}if(Q){Y=Y===P?P.attributes:Y;if(O.parse){Y=V.parse(Y,O)}V.set(Y,O);if(N&&!af&&V.hasChanged(ad)){af=true}}ag[ac]=V}else{if(U){P=ag[ac]=this._prepareModel(Y,O);if(!P){continue}ai.push(P);P.on("all",this._onModelEvent,this);this._byId[P.cid]=P;if(P.id!=null){this._byId[P.id]=P}}}if(ab){ab.push(V||P)}}if(ah){for(ac=0,aa=this.length;ac<aa;++ac){if(!X[(P=this.models[ac]).cid]){Z.push(P)}}if(Z.length){this.remove(Z,O)}}if(ai.length||(ab&&ab.length)){if(N){af=true}this.length+=ai.length;if(T!=null){for(ac=0,aa=ai.length;ac<aa;ac++){this.models.splice(T+ac,0,ai[ac])}}else{if(ab){this.models.length=0}var S=ab||ai;for(ac=0,aa=S.length;ac<aa;ac++){this.models.push(S[ac])}}}if(af){this.sort({silent:true})}if(!O.silent){for(ac=0,aa=ai.length;ac<aa;ac++){(P=ai[ac]).trigger("add",P,this,O)}if(af||(ab&&ab.length)){this.trigger("sort",this,O)}}return R?ag[0]:ag},reset:function(Q,O){O||(O={});for(var P=0,N=this.models.length;P<N;P++){this._removeReference(this.models[P])}O.previousModels=this.models;this._reset();Q=this.add(Q,M.extend({silent:true},O));if(!O.silent){this.trigger("reset",this,O)}return Q},push:function(O,N){return this.add(O,M.extend({at:this.length},N))},pop:function(O){var N=this.at(this.length-1);this.remove(N,O);return N},unshift:function(O,N){return this.add(O,M.extend({at:0},N))},shift:function(O){var N=this.at(0);this.remove(N,O);return N},slice:function(){return o.apply(this.models,arguments)},get:function(N){if(N==null){return void 0}return this._byId[N.id]||this._byId[N.cid]||this._byId[N]},at:function(N){return this.models[N]},where:function(N,O){if(M.isEmpty(N)){return O?void 0:[]}return this[O?"find":"filter"](function(P){for(var Q in N){if(N[Q]!==P.get(Q)){return false}}return true})},findWhere:function(N){return this.where(N,true)},sort:function(N){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}N||(N={});if(M.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(M.bind(this.comparator,this))}if(!N.silent){this.trigger("sort",this,N)}return this},pluck:function(N){return M.invoke(this.models,"get",N)},fetch:function(N){N=N?M.clone(N):{};if(N.parse===void 0){N.parse=true}var P=N.success;var O=this;N.success=function(Q){var R=N.reset?"reset":"set";O[R](Q,N);if(P){P(O,Q,N)}O.trigger("sync",O,Q,N)};I(this,N);return this.sync("read",this,N)},create:function(O,N){N=N?M.clone(N):{};if(!(O=this._prepareModel(O,N))){return false}if(!N.wait){this.add(O,N)}var Q=this;var P=N.success;N.success=function(S,T,R){if(R.wait){Q.add(S,R)}if(P){P(S,T,R)}};O.save(null,N);return O},parse:function(O,N){return O},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(P,O){if(P instanceof F){if(!P.collection){P.collection=this}return P}O=O?M.clone(O):{};O.collection=this;var N=new this.model(P,O);if(!N.validationError){return N}this.trigger("invalid",this,N.validationError,O);return false},_removeReference:function(N){if(this===N.collection){delete N.collection}N.off("all",this._onModelEvent,this)},_onModelEvent:function(P,O,Q,N){if((P==="add"||P==="remove")&&Q!==this){return}if(P==="destroy"){this.remove(O,N)}if(O&&P==="change:"+O.idAttribute){delete this._byId[O.previous(O.idAttribute)];if(O.id!=null){this._byId[O.id]=O}}this.trigger.apply(this,arguments)}});var z=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];M.each(z,function(N){c.prototype[N]=function(){var O=o.call(arguments);O.unshift(this.models);return M[N].apply(M,O)}});var l=["groupBy","countBy","sortBy"];M.each(l,function(N){c.prototype[N]=function(Q,O){var P=M.isFunction(Q)?Q:function(R){return R.get(Q)};return M[N](this.models,P,O)}});var H=A.View=function(N){this.cid=M.uniqueId("view");N||(N={});M.extend(this,M.pick(N,e));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var w=/^(\S+)\s*(.*)$/;var e=["model","collection","el","id","attributes","className","tagName","events"];M.extend(H.prototype,K,{tagName:"div",$:function(N){return this.$el.find(N)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(N,O){if(this.$el){this.undelegateEvents()}this.$el=N instanceof A.$?N:A.$(N);this.el=this.$el[0];if(O!==false){this.delegateEvents()}return this},delegateEvents:function(R){if(!(R||(R=M.result(this,"events")))){return this}this.undelegateEvents();for(var Q in R){var S=R[Q];if(!M.isFunction(S)){S=this[R[Q]]}if(!S){continue}var P=Q.match(w);var O=P[1],N=P[2];S=M.bind(S,this);O+=".delegateEvents"+this.cid;if(N===""){this.$el.on(O,S)}else{this.$el.on(O,N,S)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var N=M.extend({},M.result(this,"attributes"));if(this.id){N.id=M.result(this,"id")}if(this.className){N["class"]=M.result(this,"className")}var O=A.$("<"+M.result(this,"tagName")+">").attr(N);this.setElement(O,false)}else{this.setElement(M.result(this,"el"),false)}}});A.sync=function(T,O,N){var Q=k[T];M.defaults(N||(N={}),{emulateHTTP:A.emulateHTTP,emulateJSON:A.emulateJSON});var S={type:Q,dataType:"json"};if(!N.url){S.url=M.result(O,"url")||s()}if(N.data==null&&O&&(T==="create"||T==="update"||T==="patch")){S.contentType="application/json";S.data=JSON.stringify(N.attrs||O.toJSON(N))}if(N.emulateJSON){S.contentType="application/x-www-form-urlencoded";S.data=S.data?{model:S.data}:{}}if(N.emulateHTTP&&(Q==="PUT"||Q==="DELETE"||Q==="PATCH")){S.type="POST";if(N.emulateJSON){S.data._method=Q}var P=N.beforeSend;N.beforeSend=function(U){U.setRequestHeader("X-HTTP-Method-Override",Q);if(P){return P.apply(this,arguments)}}}if(S.type!=="GET"&&!N.emulateJSON){S.processData=false}if(S.type==="PATCH"&&j){S.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var R=N.xhr=A.ajax(M.extend(S,N));O.trigger("request",O,R,N);return R};var j=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};A.ajax=function(){return A.$.ajax.apply(A.$,arguments)};var q=A.Router=function(N){N||(N={});if(N.routes){this.routes=N.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var r=/\((.*?)\)/g;var t=/(\(\?)?:\w+/g;var d=/\*\w+/g;var h=/[\-{}\[\]+?.,\\\^$|#\s]/g;M.extend(q.prototype,K,{initialize:function(){},route:function(O,P,Q){if(!M.isRegExp(O)){O=this._routeToRegExp(O)}if(M.isFunction(P)){Q=P;P=""}if(!Q){Q=this[P]}var N=this;A.history.route(O,function(S){var R=N._extractParameters(O,S);Q&&Q.apply(N,R);N.trigger.apply(N,["route:"+P].concat(R));N.trigger("route",P,R);A.history.trigger("route",N,P,R)});return this},navigate:function(O,N){A.history.navigate(O,N);return this},_bindRoutes:function(){if(!this.routes){return}this.routes=M.result(this,"routes");var O,N=M.keys(this.routes);while((O=N.pop())!=null){this.route(O,this.routes[O])}},_routeToRegExp:function(N){N=N.replace(h,"\\$&").replace(r,"(?:$1)?").replace(t,function(P,O){return O?P:"([^/]+)"}).replace(d,"(.*?)");return new RegExp("^"+N+"$")},_extractParameters:function(N,O){var P=N.exec(O).slice(1);return M.map(P,function(Q){return Q?decodeURIComponent(Q):null})}});var i=A.History=function(){this.handlers=[];M.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var B=/^[#\/]|\s+$/g;var f=/^\/+|\/+$/g;var J=/msie [\w.]+/;var n=/\/$/;var G=/[?#].*$/;i.started=false;M.extend(i.prototype,K,{interval:50,getHash:function(O){var N=(O||this).location.href.match(/#(.*)$/);return N?N[1]:""},getFragment:function(P,O){if(P==null){if(this._hasPushState||!this._wantsHashChange||O){P=this.location.pathname;var N=this.root.replace(n,"");if(!P.indexOf(N)){P=P.slice(N.length)}}else{P=this.getHash()}}return P.replace(B,"")},start:function(P){if(i.started){throw new Error("Backbone.history has already been started")}i.started=true;this.options=M.extend({root:"/"},this.options,P);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var O=this.getFragment();var N=document.documentMode;var R=(J.exec(navigator.userAgent.toLowerCase())&&(!N||N<=7));this.root=("/"+this.root+"/").replace(f,"/");if(R&&this._wantsHashChange){this.iframe=A.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(O)}if(this._hasPushState){A.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&("onhashchange" in window)&&!R){A.$(window).on("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=O;var S=this.location;var Q=S.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!Q){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else{if(this._hasPushState&&Q&&S.hash){this.fragment=this.getHash().replace(B,"");this.history.replaceState({},document.title,this.root+this.fragment+S.search)}}}if(!this.options.silent){return this.loadUrl()}},stop:function(){A.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);i.started=false},route:function(N,O){this.handlers.unshift({route:N,callback:O})},checkUrl:function(O){var N=this.getFragment();if(N===this.fragment&&this.iframe){N=this.getFragment(this.getHash(this.iframe))}if(N===this.fragment){return false}if(this.iframe){this.navigate(N)}this.loadUrl()},loadUrl:function(N){N=this.fragment=this.getFragment(N);return M.any(this.handlers,function(O){if(O.route.test(N)){O.callback(N);return true}})},navigate:function(P,O){if(!i.started){return false}if(!O||O===true){O={trigger:!!O}}var N=this.root+(P=this.getFragment(P||""));P=P.replace(G,"");if(this.fragment===P){return}this.fragment=P;if(P===""&&N!=="/"){N=N.slice(0,-1)}if(this._hasPushState){this.history[O.replace?"replaceState":"pushState"]({},document.title,N)}else{if(this._wantsHashChange){this._updateHash(this.location,P,O.replace);if(this.iframe&&(P!==this.getFragment(this.getHash(this.iframe)))){if(!O.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,P,O.replace)}}else{return this.location.assign(N)}}if(O.trigger){return this.loadUrl(P)}},_updateHash:function(N,P,Q){if(Q){var O=N.href.replace(/(javascript:|#).*$/,"");N.replace(O+"#"+P)}else{N.hash="#"+P}}});A.history=new i;var m=function(N,P){var O=this;var R;if(N&&M.has(N,"constructor")){R=N.constructor}else{R=function(){return O.apply(this,arguments)}}M.extend(R,O,P);var Q=function(){this.constructor=R};Q.prototype=O.prototype;R.prototype=new Q;if(N){M.extend(R.prototype,N)}R.__super__=O.prototype;return R};F.extend=c.extend=q.extend=H.extend=i.extend=m;var s=function(){throw new Error('A "url" property or function must be specified')};var I=function(P,O){var N=O.error;O.error=function(Q){if(N){N(P,Q,O)}P.trigger("error",P,Q,O)}}}).call(this);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(window.jQuery)}}(function(b){var a=0;b.ajaxTransport("iframe",function(d){if(d.async){var c=d.initialIframeSrc||"javascript:false;",f,e,g;return{send:function(h,i){f=b('<form style="display:none;"></form>');f.attr("accept-charset",d.formAcceptCharset);g=/\?/.test(d.url)?"&":"?";if(d.type==="DELETE"){d.url=d.url+g+"_method=DELETE";d.type="POST"}else{if(d.type==="PUT"){d.url=d.url+g+"_method=PUT";d.type="POST"}else{if(d.type==="PATCH"){d.url=d.url+g+"_method=PATCH";d.type="POST"}}}a+=1;e=b('<iframe src="'+c+'" name="iframe-transport-'+a+'"></iframe>').bind("load",function(){var j,k=b.isArray(d.paramName)?d.paramName:[d.paramName];e.unbind("load").bind("load",function(){var l;try{l=e.contents();if(!l.length||!l[0].firstChild){throw new Error()}}catch(m){l=undefined}i(200,"success",{iframe:l});b('<iframe src="'+c+'"></iframe>').appendTo(f);window.setTimeout(function(){f.remove()},0)});f.prop("target",e.prop("name")).prop("action",d.url).prop("method",d.type);if(d.formData){b.each(d.formData,function(l,m){b('<input type="hidden"/>').prop("name",m.name).val(m.value).appendTo(f)})}if(d.fileInput&&d.fileInput.length&&d.type==="POST"){j=d.fileInput.clone();d.fileInput.after(function(l){return j[l]});if(d.paramName){d.fileInput.each(function(l){b(this).prop("name",k[l]||d.paramName)})}f.append(d.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data");d.fileInput.removeAttr("form")}f.submit();if(j&&j.length){d.fileInput.each(function(m,l){var n=b(j[m]);b(l).prop("name",n.prop("name")).attr("form",n.attr("form"));n.replaceWith(l)})}});f.append(e).appendTo(document.body)},abort:function(){if(e){e.unbind("load").prop("src",c)}if(f){f.remove()}}}}});b.ajaxSetup({converters:{"iframe text":function(c){return c&&b(c[0].body).text()},"iframe json":function(c){return c&&b.parseJSON(b(c[0].body).text())},"iframe html":function(c){return c&&b(c[0].body).html()},"iframe xml":function(c){var d=c&&c[0];return d&&b.isXMLDoc(d)?d:b.parseXML((d.XMLDocument&&d.XMLDocument.xml)||b(d.body).html())},"iframe script":function(c){return c&&b.globalEval(b(c[0].body).text())}}})}));(function(a){if(typeof define==="function"&&define.amd){define(["jquery","jquery.ui.widget"],a)}else{a(window.jQuery)}}(function(a){a.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||a('<input type="file">').prop("disabled"));a.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);a.support.xhrFormDataFileUpload=!!window.FormData;a.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);a.widget("blueimp.fileupload",{options:{dropZone:a(document),pasteZone:a(document),fileInput:undefined,replaceFileInput:true,paramName:undefined,singleFileUploads:true,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:false,limitConcurrentUploads:undefined,forceIframeTransport:false,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:true,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:true,progressInterval:100,bitrateInterval:500,autoUpload:true,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(c,b){c=this.messages[c]||c.toString();if(b){a.each(b,function(d,e){c=c.replace("{"+d+"}",e)})}return c},formData:function(b){return b.serializeArray()},add:function(c,b){if(c.isDefaultPrevented()){return false}if(b.autoUpload||(b.autoUpload!==false&&a(this).fileupload("option","autoUpload"))){b.process().done(function(){b.submit()})}},processData:false,contentType:false,cache:false},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:a.support.blobSlice&&function(){var b=this.slice||this.webkitSlice||this.mozSlice;return b.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=((Date.now)?Date.now():(new Date()).getTime());this.loaded=0;this.bitrate=0;this.getBitrate=function(d,c,b){var e=d-this.timestamp;if(!this.bitrate||!b||e>b){this.bitrate=(c-this.loaded)*(1000/e)*8;this.loaded=c;this.timestamp=d}return this.bitrate}},_isXHRUpload:function(b){return !b.forceIframeTransport&&((!b.multipart&&a.support.xhrFileUpload)||a.support.xhrFormDataFileUpload)},_getFormData:function(b){var c;if(a.type(b.formData)==="function"){return b.formData(b.form)}if(a.isArray(b.formData)){return b.formData}if(a.type(b.formData)==="object"){c=[];a.each(b.formData,function(d,e){c.push({name:d,value:e})});return c}return[]},_getTotal:function(c){var b=0;a.each(c,function(d,e){b+=e.size||1});return b},_initProgressObject:function(c){var b={loaded:0,total:0,bitrate:0};if(c._progress){a.extend(c._progress,b)}else{c._progress=b}},_initResponseObject:function(b){var c;if(b._response){for(c in b._response){if(b._response.hasOwnProperty(c)){delete b._response[c]}}}else{b._response={}}},_onProgress:function(f,d){if(f.lengthComputable){var c=((Date.now)?Date.now():(new Date()).getTime()),b;if(d._time&&d.progressInterval&&(c-d._time<d.progressInterval)&&f.loaded!==f.total){return}d._time=c;b=Math.floor(f.loaded/f.total*(d.chunkSize||d._progress.total))+(d.uploadedBytes||0);this._progress.loaded+=(b-d._progress.loaded);this._progress.bitrate=this._bitrateTimer.getBitrate(c,this._progress.loaded,d.bitrateInterval);d._progress.loaded=d.loaded=b;d._progress.bitrate=d.bitrate=d._bitrateTimer.getBitrate(c,b,d.bitrateInterval);this._trigger("progress",a.Event("progress",{delegatedEvent:f}),d);this._trigger("progressall",a.Event("progressall",{delegatedEvent:f}),this._progress)}},_initProgressListener:function(b){var c=this,d=b.xhr?b.xhr():a.ajaxSettings.xhr();if(d.upload){a(d.upload).bind("progress",function(f){var g=f.originalEvent;f.lengthComputable=g.lengthComputable;f.loaded=g.loaded;f.total=g.total;c._onProgress(f,b)});b.xhr=function(){return d}}},_isInstanceOf:function(b,c){return Object.prototype.toString.call(c)==="[object "+b+"]"},_initXHRData:function(c){var e=this,g,d=c.files[0],b=c.multipart||!a.support.xhrFileUpload,f=a.type(c.paramName)==="array"?c.paramName[0]:c.paramName;c.headers=a.extend({},c.headers);if(c.contentRange){c.headers["Content-Range"]=c.contentRange}if(!b||c.blob||!this._isInstanceOf("File",d)){c.headers["Content-Disposition"]='attachment; filename="'+encodeURI(d.name)+'"'}if(!b){c.contentType=d.type||"application/octet-stream";c.data=c.blob||d}else{if(a.support.xhrFormDataFileUpload){if(c.postMessage){g=this._getFormData(c);if(c.blob){g.push({name:f,value:c.blob})}else{a.each(c.files,function(h,i){g.push({name:(a.type(c.paramName)==="array"&&c.paramName[h])||f,value:i})})}}else{if(e._isInstanceOf("FormData",c.formData)){g=c.formData}else{g=new FormData();a.each(this._getFormData(c),function(h,i){g.append(i.name,i.value)})}if(c.blob){g.append(f,c.blob,d.name)}else{a.each(c.files,function(h,i){if(e._isInstanceOf("File",i)||e._isInstanceOf("Blob",i)){g.append((a.type(c.paramName)==="array"&&c.paramName[h])||f,i,i.uploadName||i.name)}})}}c.data=g}}c.blob=null},_initIframeSettings:function(b){var c=a("<a></a>").prop("href",b.url).prop("host");b.dataType="iframe "+(b.dataType||"");b.formData=this._getFormData(b);if(b.redirect&&c&&c!==location.host){b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect})}},_initDataSettings:function(b){if(this._isXHRUpload(b)){if(!this._chunkedUpload(b,true)){if(!b.data){this._initXHRData(b)}this._initProgressListener(b)}if(b.postMessage){b.dataType="postmessage "+(b.dataType||"")}}else{this._initIframeSettings(b)}},_getParamName:function(b){var c=a(b.fileInput),d=b.paramName;if(!d){d=[];c.each(function(){var e=a(this),f=e.prop("name")||"files[]",g=(e.prop("files")||[1]).length;while(g){d.push(f);g-=1}});if(!d.length){d=[c.prop("name")||"files[]"]}}else{if(!a.isArray(d)){d=[d]}}return d},_initFormSettings:function(b){if(!b.form||!b.form.length){b.form=a(b.fileInput.prop("form"));if(!b.form.length){b.form=a(this.options.fileInput.prop("form"))}}b.paramName=this._getParamName(b);if(!b.url){b.url=b.form.prop("action")||location.href}b.type=(b.type||(a.type(b.form.prop("method"))==="string"&&b.form.prop("method"))||"").toUpperCase();if(b.type!=="POST"&&b.type!=="PUT"&&b.type!=="PATCH"){b.type="POST"}if(!b.formAcceptCharset){b.formAcceptCharset=b.form.attr("accept-charset")}},_getAJAXSettings:function(c){var b=a.extend({},this.options,c);this._initFormSettings(b);this._initDataSettings(b);return b},_getDeferredState:function(b){if(b.state){return b.state()}if(b.isResolved()){return"resolved"}if(b.isRejected()){return"rejected"}return"pending"},_enhancePromise:function(b){b.success=b.done;b.error=b.fail;b.complete=b.always;return b},_getXHRPromise:function(e,d,c){var b=a.Deferred(),f=b.promise();d=d||this.options.context||f;if(e===true){b.resolveWith(d,c)}else{if(e===false){b.rejectWith(d,c)}}f.abort=b.promise;return this._enhancePromise(f)},_addConvenienceMethods:function(f,d){var c=this,b=function(e){return a.Deferred().resolveWith(c,e).promise()};d.process=function(g,e){if(g||e){d._processQueue=this._processQueue=(this._processQueue||b([this])).pipe(function(){if(d.errorThrown){return a.Deferred().rejectWith(c,[d]).promise()}return b(arguments)}).pipe(g,e)}return this._processQueue||b([this])};d.submit=function(){if(this.state()!=="pending"){d.jqXHR=this.jqXHR=(c._trigger("submit",a.Event("submit",{delegatedEvent:f}),this)!==false)&&c._onSend(f,this)}return this.jqXHR||c._getXHRPromise()};d.abort=function(){if(this.jqXHR){return this.jqXHR.abort()}this.errorThrown="abort";c._trigger("fail",null,this);return c._getXHRPromise(false)};d.state=function(){if(this.jqXHR){return c._getDeferredState(this.jqXHR)}if(this._processQueue){return c._getDeferredState(this._processQueue)}};d.processing=function(){return !this.jqXHR&&this._processQueue&&c._getDeferredState(this._processQueue)==="pending"};d.progress=function(){return this._progress};d.response=function(){return this._response}},_getUploadedBytes:function(d){var b=d.getResponseHeader("Range"),e=b&&b.split("-"),c=e&&e.length>1&&parseInt(e[1],10);return c&&c+1},_chunkedUpload:function(m,g){m.uploadedBytes=m.uploadedBytes||0;var f=this,d=m.files[0],e=d.size,b=m.uploadedBytes,c=m.maxChunkSize||e,i=this._blobSlice,j=a.Deferred(),l=j.promise(),h,k;if(!(this._isXHRUpload(m)&&i&&(b||c<e))||m.data){return false}if(g){return true}if(b>=e){d.error=m.i18n("uploadedBytes");return this._getXHRPromise(false,m.context,[null,"error",d.error])}k=function(){var p=a.extend({},m),n=p._progress.loaded;p.blob=i.call(d,b,b+c,d.type);p.chunkSize=p.blob.size;p.contentRange="bytes "+b+"-"+(b+p.chunkSize-1)+"/"+e;f._initXHRData(p);f._initProgressListener(p);h=((f._trigger("chunksend",null,p)!==false&&a.ajax(p))||f._getXHRPromise(false,p.context)).done(function(o,r,q){b=f._getUploadedBytes(q)||(b+p.chunkSize);if(n+p.chunkSize-p._progress.loaded){f._onProgress(a.Event("progress",{lengthComputable:true,loaded:b-p.uploadedBytes,total:b-p.uploadedBytes}),p)}m.uploadedBytes=p.uploadedBytes=b;p.result=o;p.textStatus=r;p.jqXHR=q;f._trigger("chunkdone",null,p);f._trigger("chunkalways",null,p);if(b<e){k()}else{j.resolveWith(p.context,[o,r,q])}}).fail(function(o,r,q){p.jqXHR=o;p.textStatus=r;p.errorThrown=q;f._trigger("chunkfail",null,p);f._trigger("chunkalways",null,p);j.rejectWith(p.context,[o,r,q])})};this._enhancePromise(l);l.abort=function(){return h.abort()};k();return l},_beforeSend:function(c,b){if(this._active===0){this._trigger("start");this._bitrateTimer=new this._BitrateTimer();this._progress.loaded=this._progress.total=0;this._progress.bitrate=0}this._initResponseObject(b);this._initProgressObject(b);b._progress.loaded=b.loaded=b.uploadedBytes||0;b._progress.total=b.total=this._getTotal(b.files)||1;b._progress.bitrate=b.bitrate=0;this._active+=1;this._progress.loaded+=b.loaded;this._progress.total+=b.total},_onDone:function(b,g,f,d){var e=d._progress.total,c=d._response;if(d._progress.loaded<e){this._onProgress(a.Event("progress",{lengthComputable:true,loaded:e,total:e}),d)}c.result=d.result=b;c.textStatus=d.textStatus=g;c.jqXHR=d.jqXHR=f;this._trigger("done",null,d)},_onFail:function(d,f,e,c){var b=c._response;if(c.recalculateProgress){this._progress.loaded-=c._progress.loaded;this._progress.total-=c._progress.total}b.jqXHR=c.jqXHR=d;b.textStatus=c.textStatus=f;b.errorThrown=c.errorThrown=e;this._trigger("fail",null,c)},_onAlways:function(d,e,c,b){this._trigger("always",null,b)},_onSend:function(h,f){if(!f.submit){this._addConvenienceMethods(h,f)}var g=this,j,b,i,c,k=g._getAJAXSettings(f),d=function(){g._sending+=1;k._bitrateTimer=new g._BitrateTimer();j=j||(((b||g._trigger("send",a.Event("send",{delegatedEvent:h}),k)===false)&&g._getXHRPromise(false,k.context,b))||g._chunkedUpload(k)||a.ajax(k)).done(function(e,m,l){g._onDone(e,m,l,k)}).fail(function(e,m,l){g._onFail(e,m,l,k)}).always(function(m,n,l){g._onAlways(m,n,l,k);g._sending-=1;g._active-=1;if(k.limitConcurrentUploads&&k.limitConcurrentUploads>g._sending){var e=g._slots.shift();while(e){if(g._getDeferredState(e)==="pending"){e.resolve();break}e=g._slots.shift()}}if(g._active===0){g._trigger("stop")}});return j};this._beforeSend(h,k);if(this.options.sequentialUploads||(this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending)){if(this.options.limitConcurrentUploads>1){i=a.Deferred();this._slots.push(i);c=i.pipe(d)}else{this._sequence=this._sequence.pipe(d,d);c=this._sequence}c.abort=function(){b=[undefined,"abort","abort"];if(!j){if(i){i.rejectWith(k.context,b)}return d()}return j.abort()};return this._enhancePromise(c)}return d()},_onAdd:function(p,l){var o=this,u=true,t=a.extend({},this.options,l),d=l.files,r=d.length,f=t.limitMultiFileUploads,h=t.limitMultiFileUploadSize,s=t.limitMultiFileUploadSizeOverhead,n=0,m=this._getParamName(t),c,b,q,k,g=0;if(h&&(!r||d[0].size===undefined)){h=undefined}if(!(t.singleFileUploads||f||h)||!this._isXHRUpload(t)){q=[d];c=[m]}else{if(!(t.singleFileUploads||h)&&f){q=[];c=[];for(k=0;k<r;k+=f){q.push(d.slice(k,k+f));b=m.slice(k,k+f);if(!b.length){b=m}c.push(b)}}else{if(!t.singleFileUploads&&h){q=[];c=[];for(k=0;k<r;k=k+1){n+=d[k].size+s;if(k+1===r||((n+d[k+1].size+s)>h)||(f&&k+1-g>=f)){q.push(d.slice(g,k+1));b=m.slice(g,k+1);if(!b.length){b=m}c.push(b);g=k+1;n=0}}}else{c=m}}}l.originalFiles=d;a.each(q||d,function(e,i){var j=a.extend({},l);j.files=q?i:[i];j.paramName=c[e];o._initResponseObject(j);o._initProgressObject(j);o._addConvenienceMethods(p,j);u=o._trigger("add",a.Event("add",{delegatedEvent:p}),j);return u});return u},_replaceFileInput:function(b){var c=b.clone(true);a("<form></form>").append(c)[0].reset();b.after(c).detach();a.cleanData(b.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(d,e){if(e===b[0]){return c[0]}return e});if(b[0]===this.element[0]){this.element=c}},_handleFileTreeEntry:function(f,g){var e=this,b=a.Deferred(),c=function(h){if(h&&!h.entry){h.entry=f}b.resolve([h])},d;g=g||"";if(f.isFile){if(f._file){f._file.relativePath=g;b.resolve(f._file)}else{f.file(function(h){h.relativePath=g;b.resolve(h)},c)}}else{if(f.isDirectory){d=f.createReader();d.readEntries(function(h){e._handleFileTreeEntries(h,g+f.name+"/").done(function(i){b.resolve(i)}).fail(c)},c)}else{b.resolve([])}}return b.promise()},_handleFileTreeEntries:function(b,d){var c=this;return a.when.apply(a,a.map(b,function(e){return c._handleFileTreeEntry(e,d)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(c){c=c||{};var b=c.items;if(b&&b.length&&(b[0].webkitGetAsEntry||b[0].getAsEntry)){return this._handleFileTreeEntries(a.map(b,function(e){var d;if(e.webkitGetAsEntry){d=e.webkitGetAsEntry();if(d){d._file=e.getAsFile()}return d}return e.getAsEntry()}))}return a.Deferred().resolve(a.makeArray(c.files)).promise()},_getSingleFileInputFiles:function(d){d=a(d);var b=d.prop("webkitEntries")||d.prop("entries"),c,e;if(b&&b.length){return this._handleFileTreeEntries(b)}c=a.makeArray(d.prop("files"));if(!c.length){e=d.prop("value");if(!e){return a.Deferred().resolve([]).promise()}c=[{name:e.replace(/^.*\\/,"")}]}else{if(c[0].name===undefined&&c[0].fileName){a.each(c,function(f,g){g.name=g.fileName;g.size=g.fileSize})}}return a.Deferred().resolve(c).promise()},_getFileInputFiles:function(b){if(!(b instanceof a)||b.length===1){return this._getSingleFileInputFiles(b)}return a.when.apply(a,a.map(b,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(d){var b=this,c={fileInput:a(d.target),form:a(d.target.form)};this._getFileInputFiles(c.fileInput).always(function(e){c.files=e;if(b.options.replaceFileInput){b._replaceFileInput(c.fileInput)}if(b._trigger("change",a.Event("change",{delegatedEvent:d}),c)!==false){b._onAdd(d,c)}})},_onPaste:function(d){var b=d.originalEvent&&d.originalEvent.clipboardData&&d.originalEvent.clipboardData.items,c={files:[]};if(b&&b.length){a.each(b,function(e,g){var f=g.getAsFile&&g.getAsFile();if(f){c.files.push(f)}});if(this._trigger("paste",a.Event("paste",{delegatedEvent:d}),c)!==false){this._onAdd(d,c)}}},_onDrop:function(f){f.dataTransfer=f.originalEvent&&f.originalEvent.dataTransfer;var b=this,d=f.dataTransfer,c={};if(d&&d.files&&d.files.length){f.preventDefault();this._getDroppedFiles(d).always(function(e){c.files=e;if(b._trigger("drop",a.Event("drop",{delegatedEvent:f}),c)!==false){b._onAdd(f,c)}})}},_onDragOver:function(c){c.dataTransfer=c.originalEvent&&c.originalEvent.dataTransfer;var b=c.dataTransfer;if(b&&a.inArray("Files",b.types)!==-1&&this._trigger("dragover",a.Event("dragover",{delegatedEvent:c}))!==false){c.preventDefault();b.dropEffect="copy"}},_initEventHandlers:function(){if(this._isXHRUpload(this.options)){this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop});this._on(this.options.pasteZone,{paste:this._onPaste})}if(a.support.fileInput){this._on(this.options.fileInput,{change:this._onChange})}},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(b,c){var d=a.inArray(b,this._specialOptions)!==-1;if(d){this._destroyEventHandlers()}this._super(b,c);if(d){this._initSpecialOptions();this._initEventHandlers()}},_initSpecialOptions:function(){var b=this.options;if(b.fileInput===undefined){b.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]')}else{if(!(b.fileInput instanceof a)){b.fileInput=a(b.fileInput)}}if(!(b.dropZone instanceof a)){b.dropZone=a(b.dropZone)}if(!(b.pasteZone instanceof a)){b.pasteZone=a(b.pasteZone)}},_getRegExp:function(d){var c=d.split("/"),b=c.pop();c.shift();return new RegExp(c.join("/"),b)},_isRegExpOption:function(b,c){return b!=="url"&&a.type(c)==="string"&&/^\/.*\/[igm]{0,3}$/.test(c)},_initDataAttributes:function(){var c=this,b=this.options;a.each(a(this.element[0].cloneNode(false)).data(),function(d,e){if(c._isRegExpOption(d,e)){e=c._getRegExp(e)}b[d]=e})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(true);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(c){var b=this;if(!c||this.options.disabled){return}if(c.fileInput&&!c.files){this._getFileInputFiles(c.fileInput).always(function(d){c.files=d;b._onAdd(null,c)})}else{c.files=a.makeArray(c.files);this._onAdd(null,c)}},send:function(f){if(f&&!this.options.disabled){if(f.fileInput&&!f.files){var d=this,b=a.Deferred(),g=b.promise(),c,e;g.abort=function(){e=true;if(c){return c.abort()}b.reject(null,"abort","abort");return g};this._getFileInputFiles(f.fileInput).always(function(h){if(e){return}if(!h.length){b.reject();return}f.files=h;c=d._onSend(null,f).then(function(i,k,j){b.resolve(i,k,j)},function(i,k,j){b.reject(i,k,j)})});return this._enhancePromise(g)}f.files=a.makeArray(f.files);if(f.files.length){return this._onSend(null,f)}}return this._getXHRPromise(false,f&&f.context)}})}));(function(f,h,i,b){var g="masterblaster",a="plugin_masterblaster",e={animate:true,triggerKeys:[9,13],showAddButton:true,helpText:"Hit Tab or Enter to add",validateOnChange:false,tagRules:{unique:false,minLength:1,maxLength:null,regexp:null}},c=["push","pop","reset","remove","destroy"],j=["getTags"];function d(k,l){this.options=f.extend({},e,l);this.$container=f('<div class="mb-container"></div>');this.$tagList=f('<ul class="mb-taglist"></ul>');this.$meta=f('<div class="mb-meta"></div>');this.$element=k;this.$oldInput=k;this.$input=k.clone();if(this.options.showAddButton){this.$addButton=f("<button class='small button'><i class='icon-plus'></i>Add</button>")}this.tag=['<li style="opacity:1" data-tag="" class="mb-tag"><div class="mb-tag-content">','<span class="mb-tag-text"></span>','<a class="mb-tag-remove"></a>',"</div></li>"].join("");this.tags=[];this.setup()}d.prototype.addElem=function(k){if(this.options.animate){k.css("opacity",0);k.insertBefore(this.$meta);var l=k.css("width");k.css("width",0);k.animate({width:l},"fast",function(){k.css("width","");k.animate({opacity:1})})}else{k.insertBefore(this.$meta)}};d.prototype.buildTag=function(l){var k=f(this.tag);k.find(".mb-tag-text").text(l);k.attr("data-tag",l);return k};d.prototype.removeEvents=function(){this.$input.off("keydown");this.$input.off("keyup");if(this.options.showAddButton){this.$addButton.off("click")}};d.prototype.addEvents=function(){this.$input.on("keydown",f.proxy(this.onKeyDown,this));this.$input.on("keyup",f.proxy(this.onAdd,this));if(this.options.showAddButton){this.$addButton.on("click",f.proxy(this.onAdd,this))}};d.prototype.onKeyDown=function(k){if(~this.options.triggerKeys.indexOf(k.keyCode||k.which)){k.preventDefault()}};d.prototype.onAdd=function(m){var l=false,k=this.cleanTag(this.$input.val());if(m.type==="click"||~this.options.triggerKeys.indexOf(m.keyCode||m.which)){m.preventDefault();l=true}if(l){this.push(k)}else{if(this.options.validateOnChange){this.showError(k)}}};d.prototype.showError=function(k){this.$container.addClass("mb-error");this.$element.trigger("mb:error",k,this.error)};d.prototype.cleanTag=function(k){return k};d.prototype.isValid=function(k){if(this.options.tagRules.unique&&this.hasTag(k)){this.error=k+" already exists.";return false}else{if(this.options.tagRules.minLength&&k.length<this.options.tagRules.minLength){this.error=k+" must be greater than "+this.options.tagRules.minLength+" characters.";return false}else{if(this.options.tagRules.maxLength&&k.length>this.options.tagRules.maxLength){this.error=k+" must have fewer than "+this.options.tagRules.maxLength+" characters.";return false}else{if(this.options.tagRules.regexp&&!this.options.tagRules.regexp.test(k)){this.error=k+" is not in the valid format.";return false}}}}return true};d.prototype.refreshTagEvents=function(){this.$tagList.find(".mb-tag-remove").off("click");this.$tagList.find(".mb-tag-remove").on("click",f.proxy(this.onRemove,this))};d.prototype.onRemove=function(k){k.preventDefault();this.remove(f(k.target).parents(".mb-tag").attr("data-tag"))};d.prototype.removeElem=function(l){var k=this.$tagList.find("[data-tag='"+l+"']");if(this.options.animate){k.animate({opacity:0.01},"fast",function(){k.animate({width:0,margin:0},"fast",function(){k.remove()})})}else{k.remove()}};d.prototype.hasTag=function(k){return ~(this.tags.indexOf(k))};d.prototype.push=function(k){if(this.isValid(k)){this.$input.val("");this.$container.removeClass("mb-error");this.tags.push(k);this.addElem(this.buildTag(k));this.refreshTagEvents();this.$element.trigger("mb:add",k)}else{this.showError(k)}};d.prototype.pop=function(){var k=this.tags[this.tags.length-1];this.remove(k)};d.prototype.reset=function(){while(this.tags.length!=0){var k=this.tags[this.tags.length-1];this.remove(k)}this.$input.val("")};d.prototype.removeFromTagsArray=function(l){var k=this.tags.indexOf(l);if(!~k){return false}this.tags.splice(k,1);return true};d.prototype.remove=function(k){this.removeElem(k);while(this.removeFromTagsArray(k)){}this.$element.trigger("mb:remove",k)};d.prototype.destroy=function(){this.$oldInput.show();this.removeEvents();this.$container.remove();this.$element.removeData(a)};d.prototype.getTags=function(){return f.merge([],this.tags)};d.prototype.setup=function(){this.$container.insertAfter(this.$oldInput);this.$oldInput.hide();this.$input.attr("id","").addClass("mb-input");this.$container.append(this.$tagList.append(this.$meta));this.$meta.append(this.$input);if(this.options.showAddButton){this.$input.after(this.$addButton)}if(this.options.helpText){this.$meta.append("<span class='mb-help-text'><small>"+this.options.helpText+"</small></span>")}this.addEvents()};f.fn[g]=function(l){var p,o=Array.prototype.slice.call(arguments),l=l||{},n=[],k=false,m;m=this.each(function(){p=f(this);if(!p.data(a)&&(typeof l).toLowerCase()==="object"){p.data(a,new d(p,l))}else{if((typeof l).toLowerCase()==="string"){if(~f.inArray(l,c)){p.data(a)[l].apply(p.data(a),o.slice(1,o.length))}else{if(~f.inArray(l,j)){k=true;n.push(p.data(a)[l].apply(p.data(a),o.slice(1,o.length)))}else{throw new Error("Method "+l+" does not exist. Did you instantiate masterblaster?")}}}}});return k?n:m}})(jQuery,window,document);!function(aV,aD){function aL(d,b){for(var f,c=[],a=0;a<d.length;++a){if(f=aE[d[a]]||aK(d[a]),!f){throw"module definition dependecy not found: "+d[a]}c.push(f)}b.apply(null,c)}function aF(c,b,a){if("string"!=typeof c){throw"invalid module definition, module id must be defined and be a string"}if(b===aD){throw"invalid module definition, dependencies must be specified"}if(a===aD){throw"invalid module definition, definition function must be specified"}aL(b,function(){aE[c]=a.apply(null,arguments)})}function aR(a){return !!aE[a]}function aK(b){for(var d=aV,c=b.split(/[.\/]/),a=0;a<c.length;++a){if(!d[c[a]]){return}d=d[c[a]]}return d}function a0(g){for(var e=0;e<g.length;e++){for(var d=aV,f=g[e],c=f.split(/[.\/]/),b=0;b<c.length-1;++b){d[c[b]]===aD&&(d[c[b]]={}),d=d[c[b]]}d[c[c.length-1]]=aE[f]}}var aE={},aO="tinymce/dom/Sizzle",aX="tinymce/html/Styles",aW="tinymce/dom/EventUtils",aC="tinymce/dom/TreeWalker",aU="tinymce/util/Tools",aJ="tinymce/dom/Range",aM="tinymce/html/Entities",aS="tinymce/Env",aT="tinymce/dom/StyleSheetLoader",aB="tinymce/dom/DOMUtils",aw="tinymce/dom/ScriptLoader",aZ="tinymce/AddOnManager",bz="tinymce/html/Node",ax="tinymce/html/Schema",ay="tinymce/html/SaxParser",a1="tinymce/html/DomParser",bx="tinymce/html/Writer",bm="tinymce/html/Serializer",aP="tinymce/dom/Serializer",bf="tinymce/dom/TridentSelection",bd="tinymce/util/VK",bh="tinymce/dom/ControlSelection",bC="tinymce/dom/RangeUtils",bB="tinymce/dom/Selection",by="tinymce/fmt/Preview",bp="tinymce/Formatter",bo="tinymce/UndoManager",bu="tinymce/EnterKey",bj="tinymce/ForceBlocks",bk="tinymce/EditorCommands",bs="tinymce/util/URI",bw="tinymce/util/Class",av="tinymce/util/EventDispatcher",a9="tinymce/ui/Selector",bb="tinymce/ui/Collection",bc="tinymce/ui/DomUtils",aI="tinymce/ui/Control",aQ="tinymce/ui/Factory",bM="tinymce/ui/KeyboardNavigation",bq="tinymce/ui/Container",a5="tinymce/ui/DragHelper",bv="tinymce/ui/Scrollable",a7="tinymce/ui/Panel",br="tinymce/ui/Movable",bi="tinymce/ui/Resizable",a4="tinymce/ui/FloatPanel",bX="tinymce/ui/Window",be="tinymce/ui/MessageBox",a6="tinymce/WindowManager",bR="tinymce/util/Quirks",ar="tinymce/util/Observable",az="tinymce/EditorObservable",bA="tinymce/Shortcuts",bH="tinymce/Editor",bP="tinymce/util/I18n",aq="tinymce/FocusManager",ai="tinymce/EditorManager",aG="tinymce/LegacyInput",bN="tinymce/util/XHR",al="tinymce/util/JSON",bF="tinymce/util/JSONRequest",a2="tinymce/util/JSONP",bD="tinymce/util/LocalStorage",an="tinymce/Compat",bJ="tinymce/ui/Layout",aY="tinymce/ui/AbsoluteLayout",a3="tinymce/ui/Tooltip",bT="tinymce/ui/Widget",af="tinymce/ui/Button",bW="tinymce/ui/ButtonGroup",ak="tinymce/ui/Checkbox",bI="tinymce/ui/PanelButton",aa="tinymce/ui/ColorButton",bU="tinymce/ui/ComboBox",bK="tinymce/ui/Path",ag="tinymce/ui/ElementPath",bO="tinymce/ui/FormItem",bE="tinymce/ui/Form",au="tinymce/ui/FieldSet",ae="tinymce/ui/FilePicker",bS="tinymce/ui/FitLayout",bG="tinymce/ui/FlexLayout",aH="tinymce/ui/FlowLayout",bg="tinymce/ui/FormatControls",a8="tinymce/ui/GridLayout",ac="tinymce/ui/Iframe",bl="tinymce/ui/Label",ap="tinymce/ui/Toolbar",aN="tinymce/ui/MenuBar",bn="tinymce/ui/MenuButton",ad="tinymce/ui/ListBox",aj="tinymce/ui/MenuItem",ba="tinymce/ui/Menu",am="tinymce/ui/Radio",bV="tinymce/ui/ResizeHandle",bQ="tinymce/ui/Spacer",ah="tinymce/ui/SplitButton",aA="tinymce/ui/StackLayout",ao="tinymce/ui/TabPanel",bL="tinymce/ui/TextBox",ab="tinymce/ui/Throbber";aF(aO,[],function(){if(!window.jQuery){throw new Error("Load jQuery first")}return jQuery.find}),aF(aX,[],function(){return function(k,w){function g(l,c,o,d){function a(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+a(c)+a(o)+a(d)}var b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,j=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,q=/\s+$/,x,h,p={},m,v="\ufeff";for(k=k||{},m=("\\\" \\' \\; \\: ; : "+v).split(" "),h=0;h<m.length;h++){p[m[h]]=v+h,p[v+h]=m[h]}return{toHex:function(a){return a.replace(b,g)},parse:function(E){function F(H,y,J){var G,u,I,d;if(G=i[H+"-top"+y],G&&(u=i[H+"-right"+y],u&&(I=i[H+"-bottom"+y],I&&(d=i[H+"-left"+y])))){var C=[G,u,I,d];for(h=C.length-1;h--&&C[h]===C[h+1];){}h>-1&&J||(i[H+y]=-1==h?C[0]:C.join(" "),delete i[H+"-top"+y],delete i[H+"-right"+y],delete i[H+"-bottom"+y],delete i[H+"-left"+y])}}function o(s){var d=i[s],u;if(d){for(d=d.split(" "),u=d.length;u--;){if(d[u]!==d[0]){return !1}}return i[s]=d[0],!0}}function D(u,d,y,s){o(d)&&o(y)&&o(s)&&(i[u]=i[d]+" "+i[y]+" "+i[s],delete i[d],delete i[y],delete i[s])}function n(d){return r=!0,p[d]}function c(s,d){return r&&(s=s.replace(/\uFEFF[0-9]/g,function(t){return p[t]})),d||(s=s.replace(/\\([\'\";:])/g,"$1")),s}function e(y,I,G,u,H,d){if(H=H||d){return H=c(H),"'"+H.replace(/\'/g,"\\'")+"'"}if(I=c(I||G||u),!k.allow_script_urls){var C=I.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(C)){return""}if(!k.allow_svg_data_urls&&/^data:image\/svg/i.test(C)){return""}}return a&&(I=a.call(A,I,"style")),"url('"+I.replace(/\'/g,"\\'")+"')"}var i={},l,B,z,r,a=k.url_converter,A=k.url_converter_scope||this;if(E){for(E=E.replace(/[\u0000-\u001F]/g,""),E=E.replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(d){return d.replace(/[;:]/g,n)});l=f.exec(E);){if(B=l[1].replace(q,"").toLowerCase(),z=l[2].replace(q,""),z=z.replace(/\\[0-9a-f]+/g,function(d){return String.fromCharCode(parseInt(d.substr(1),16))}),B&&z.length>0){if(!k.allow_script_urls&&("behavior"==B||/expression\s*\(|\/\*|\*\//.test(z))){continue}"font-weight"===B&&"700"===z?z="bold":("color"===B||"background-color"===B)&&(z=z.toLowerCase()),z=z.replace(b,g),z=z.replace(j,e),i[B]=r?c(z,!0):z}f.lastIndex=l.index+l[0].length}F("border","",!0),F("border","-width"),F("border","-color"),F("border","-style"),F("padding",""),F("margin",""),D("border","border-width","border-style","border-color"),"medium none"===i.border&&delete i.border,"none"===i["border-image"]&&delete i["border-image"]}return i},serialize:function(s,u){function l(A){var y,z,i,e;if(y=w.styles[A]){for(z=0,i=y.length;i>z;z++){A=y[z],e=s[A],e!==x&&e.length>0&&(d+=(d.length>0?" ":"")+A+": "+e+";")}}}var d="",t,c;if(u&&w&&w.styles){l("*"),l(u)}else{for(t in s){c=s[t],c!==x&&c.length>0&&(d+=(d.length>0?" ":"")+t+": "+c+";")}}return d}}}}),aF(aW,[],function(){function h(l,a,m,i){l.addEventListener?l.addEventListener(a,m,i||!1):l.attachEvent&&l.attachEvent("on"+a,m)}function d(l,a,m,i){l.removeEventListener?l.removeEventListener(a,m,i||!1):l.detachEvent&&l.detachEvent("on"+a,m)}function k(v,z){function p(){return !1}function a(){return !0}var s,m=z||{},q;for(s in v){f[s]||(m[s]=v[s])}if(m.target||(m.target=m.srcElement||document),v&&b.test(v.type)&&v.pageX===q&&v.clientX!==q){var x=m.target.ownerDocument||document,w=x.documentElement,y=x.body;m.pageX=v.clientX+(w&&w.scrollLeft||y&&y.scrollLeft||0)-(w&&w.clientLeft||y&&y.clientLeft||0),m.pageY=v.clientY+(w&&w.scrollTop||y&&y.scrollTop||0)-(w&&w.clientTop||y&&y.clientTop||0)}return m.preventDefault=function(){m.isDefaultPrevented=a,v&&(v.preventDefault?v.preventDefault():v.returnValue=!1)},m.stopPropagation=function(){m.isPropagationStopped=a,v&&(v.stopPropagation?v.stopPropagation():v.cancelBubble=!0)},m.stopImmediatePropagation=function(){m.isImmediatePropagationStopped=a,m.stopPropagation()},m.isDefaultPrevented||(m.isDefaultPrevented=p,m.isPropagationStopped=p,m.isImmediatePropagationStopped=p),m}function g(w,t,p){function u(){p.domLoaded||(p.domLoaded=!0,t(v))}function m(){("complete"===e.readyState||"interactive"===e.readyState&&e.body)&&(d(e,"readystatechange",m),u())}function q(){try{e.documentElement.doScroll("left")}catch(a){return void setTimeout(q,0)}u()}var e=w.document,v={type:"ready"};return p.domLoaded?void t(v):(e.addEventListener?"complete"===e.readyState?u():h(w,"DOMContentLoaded",u):(h(e,"readystatechange",m),e.documentElement.doScroll&&w.self===w.top&&q()),void h(w,"load",u))}function c(){function o(w,u){var y,v,s,x,l=p[u];if(y=l&&l[w.type]){for(v=0,s=y.length;s>v;v++){if(x=y[v],x&&x.func.call(x.scope,w)===!1&&w.preventDefault(),w.isImmediatePropagationStopped()){return}}}}var m=this,p={},e,t,r,n,q;t=j+(+new Date).toString(32),n="onmouseenter" in document.documentElement,r="onfocusin" in document.documentElement,q={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,m.domLoaded=!1,m.events=p,m.bind=function(H,l,i,s){function u(v){o(k(v||F.event),z)}var z,G,B,A,a,D,E,F=window;if(H&&3!==H.nodeType&&8!==H.nodeType){for(H[t]?z=H[t]:(z=e++,H[t]=z,p[z]={}),s=s||H,l=l.split(" "),B=l.length;B--;){A=l[B],D=u,a=E=!1,"DOMContentLoaded"===A&&(A="ready"),m.domLoaded&&"ready"===A&&"complete"==H.readyState?i.call(s,k({type:A})):(n||(a=q[A],a&&(D=function(x){var v,w;if(v=x.currentTarget,w=x.relatedTarget,w&&v.contains){w=v.contains(w)}else{for(;w&&w!==v;){w=w.parentNode}}w||(x=k(x||F.event),x.type="mouseout"===x.type?"mouseleave":"mouseenter",x.target=v,o(x,z))})),r||"focusin"!==A&&"focusout"!==A||(E=!0,a="focusin"===A?"focus":"blur",D=function(v){v=k(v||F.event),v.type="focus"===v.type?"focusin":"focusout",o(v,z)}),G=p[z][A],G?"ready"===A&&m.domLoaded?i({type:A}):G.push({func:i,scope:s}):(p[z][A]=G=[{func:i,scope:s}],G.fakeName=a,G.capture=E,G.nativeHandler=D,"ready"===A?g(H,D,m):h(H,a||A,D,E)))}return H=G=0,i}},m.unbind=function(D,w,a){var z,v,y,E,F,C;if(!D||3===D.nodeType||8===D.nodeType){return m}if(z=D[t]){if(C=p[z],w){for(w=w.split(" "),y=w.length;y--;){if(F=w[y],v=C[F]){if(a){for(E=v.length;E--;){if(v[E].func===a){var s=v.nativeHandler,x=v.fakeName,A=v.capture;v=v.slice(0,E).concat(v.slice(E+1)),v.nativeHandler=s,v.fakeName=x,v.capture=A,C[F]=v}}}a&&0!==v.length||(delete C[F],d(D,v.fakeName||F,v.nativeHandler,v.capture))}}}else{for(F in C){v=C[F],d(D,v.fakeName||F,v.nativeHandler,v.capture)}C={}}for(F in C){return m}delete p[z];try{delete D[t]}catch(B){D[t]=null}}return m},m.fire=function(l,a,i){var s;if(!l||3===l.nodeType||8===l.nodeType){return m}i=k(null,i),i.type=a,i.target=l;do{s=l[t],s&&o(i,s),l=l.parentNode||l.ownerDocument||l.defaultView||l.parentWindow}while(l&&!i.isPropagationStopped());return m},m.clean=function(l){var a,s,i=m.unbind;if(!l||3===l.nodeType||8===l.nodeType){return m}if(l[t]&&i(l),l.getElementsByTagName||(l=l.document),l&&l.getElementsByTagName){for(i(l),s=l.getElementsByTagName("*"),a=s.length;a--;){l=s[a],l[t]&&i(l)}}return m},m.destroy=function(){p={}},m.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var j="mce-data-",b=/^(?:mouse|contextmenu)|click/,f={keyLocation:1,layerX:1,layerY:1,returnValue:1};return c.Event=new c,c.Event.bind(window,"ready",function(){}),c}),aF(aC,[],function(){return function(c,a){function d(j,l,h,g){var k,f;if(j){if(!g&&j[l]){return j[l]}if(j!=a){if(k=j[h]){return k}for(f=j.parentNode;f&&f!=a;f=f.parentNode){if(k=f[h]){return k}}}}}var b=c;this.current=function(){return b},this.next=function(f){return b=d(b,"firstChild","nextSibling",f)},this.prev=function(f){return b=d(b,"lastChild","previousSibling",f)}}}),aF(aU,[],function(){function A(a){return null===a||a===aD?"":(""+a).replace(x,"")}function q(a,c){return c?"array"==c&&y(a)?!0:typeof a==c:a!==aD}function b(d){var a=[],f,c;for(f=0,c=d.length;c>f;f++){a[f]=d[f]}return a}function w(d,a,f){var c;for(d=d||[],a=a||",","string"==typeof d&&(d=d.split(a)),f=f||{},c=d.length;c--;){f[d[c]]={}}return f}function k(d,g,c){var a,f;if(!d){return 0}if(c=c||d,d.length!==aD){for(a=0,f=d.length;f>a;a++){if(g.call(c,d[a],a,d)===!1){return 0}}}else{for(a in d){if(d.hasOwnProperty(a)&&g.call(c,d[a],a,d)===!1){return 0}}}return 1}function D(c,a){var d=[];return k(c,function(f){d.push(a(f))}),d}function F(c,a){var d=[];return k(c,function(f){(!a||a(f))&&d.push(f)}),d}function v(p,H,g){var d=this,m,f,G,I,h,u=0;if(p=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(p),G=p[3].match(/(^|\.)(\w+)$/i)[2],f=d.createNS(p[3].replace(/\.\w+$/,""),g),!f[G]){if("static"==p[2]){return f[G]=H,void (this.onCreate&&this.onCreate(p[2],p[3],f[G]))}H[G]||(H[G]=function(){},u=1),f[G]=H[G],d.extend(f[G].prototype,H),p[5]&&(m=d.resolve(p[5]).prototype,I=p[5].match(/\.(\w+)$/i)[1],h=f[G],f[G]=u?function(){return m[I].apply(this,arguments)}:function(){return this.parent=m[I],h.apply(this,arguments)},f[G].prototype[G]=f[G],d.each(m,function(c,a){f[G].prototype[a]=m[a]}),d.each(H,function(c,a){m[a]?f[G].prototype[a]=function(){return this.parent=m[a],c.apply(this,arguments)}:a!=G&&(f[G].prototype[a]=c)})),d.each(H["static"],function(c,a){f[G][a]=c})}}function C(d,a){var f,c;if(d){for(f=0,c=d.length;c>f;f++){if(d[f]===a){return f}}}return -1}function B(h,m){var g,d,l,c=arguments,f;for(g=1,d=c.length;d>g;g++){m=c[g];for(l in m){m.hasOwnProperty(l)&&(f=m[l],f!==aD&&(h[l]=f))}}return h}function E(d,a,f,c){c=c||this,d&&(f&&(d=d[f]),k(d,function(h,g){return a.call(c,h,g,f)===!1?!1:void E(h,a,f,c)}))}function z(d,a){var f,c;for(a=a||window,d=d.split("."),f=0;f<d.length;f++){c=d[f],a[c]||(a[c]={}),a=a[c]}return a}function j(d,a){var f,c;for(a=a||window,d=d.split("."),f=0,c=d.length;c>f&&(a=a[d[f]],a);f++){}return a}function t(a,c){return !a||q(a,"array")?a:D(a.split(c||","),A)}var x=/^\s*|\s*$/g,y=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:A,isArray:y,is:q,toArray:b,makeMap:w,each:k,map:D,grep:F,inArray:C,extend:B,create:v,walk:E,createNS:z,resolve:j,explode:t}}),aF(aJ,[aU],function(b){function a(ci){function ce(){return bZ.createDocumentFragment()}function cn(d,c){cv(b0,d,c)}function ch(d,c){cv(b7,d,c)}function cu(c){cn(c.parentNode,b6(c))}function cd(c){cn(c.parentNode,b6(c)+1)}function ck(c){ch(c.parentNode,b6(c))}function cs(c){ch(c.parentNode,b6(c)+1)}function cr(c){c?(at[G]=at[t],at[cf]=at[e]):(at[t]=at[G],at[e]=at[cf]),at.collapsed=b0}function cc(c){cu(c),cs(c)}function cq(c){cn(c,0),ch(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function cg(k,q){var g=at[t],d=at[e],j=at[G],f=at[cf],p=q.startContainer,u=q.startOffset,h=q.endContainer,m=q.endOffset;return 0===k?ca(g,d,p,u):1===k?ca(j,f,p,u):2===k?ca(j,f,h,m):3===k?ca(g,d,h,m):void 0}function cj(){b1(bY)}function co(){return b1(X)}function cp(){return b1(Y)}function cb(g){var d=this[t],f=this[e],c,h;3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(d.childNodes.length>0&&(h=d.childNodes[f]),h?d.insertBefore(g,h):3==d.nodeType?ci.insertAfter(g,d):d.appendChild(g)):f?f>=d.nodeValue.length?ci.insertAfter(g,d):(c=d.splitText(f),d.parentNode.insertBefore(g,c)):d.parentNode.insertBefore(g,d)}function b8(d){var c=at.extractContents();at.insertNode(d),d.appendChild(c),at.selectNode(d)}function ct(){return cm(new a(ci),{startContainer:at[t],startOffset:at[e],endContainer:at[G],endOffset:at[cf],collapsed:at.collapsed,commonAncestorContainer:at.commonAncestorContainer})}function b3(d,c){var f;if(3==d.nodeType){return d}if(0>c){return d}for(f=d.firstChild;f&&c>0;){--c,f=f.nextSibling}return f?f:d}function b9(){return at[t]==at[G]&&at[e]==at[cf]}function ca(k,q,f,j){var g,p,u,h,n,m;if(k==f){return q==j?0:j>q?-1:1}for(g=f;g&&g.parentNode!=k;){g=g.parentNode}if(g){for(p=0,u=k.firstChild;u!=g&&q>p;){p++,u=u.nextSibling}return p>=q?-1:1}for(g=k;g&&g.parentNode!=f;){g=g.parentNode}if(g){for(p=0,u=f.firstChild;u!=g&&j>p;){p++,u=u.nextSibling}return j>p?-1:1}for(h=ci.findCommonAncestor(k,f),n=k;n&&n.parentNode!=h;){n=n.parentNode}for(n||(n=h),m=f;m&&m.parentNode!=h;){m=m.parentNode}if(m||(m=h),n==m){return 0}for(u=h.firstChild;u;){if(u==n){return -1}if(u==m){return 1}u=u.nextSibling}}function cv(g,d,f){var c,h;for(g?(at[t]=d,at[e]=f):(at[G]=d,at[cf]=f),c=at[G];c.parentNode;){c=c.parentNode}for(h=at[t];h.parentNode;){h=h.parentNode}h==c?ca(at[t],at[e],at[G],at[cf])>0&&at.collapse(g):at.collapse(g),at.collapsed=b9(),at.commonAncestorContainer=ci.findCommonAncestor(at[t],at[G])}function b1(k){var q,g=0,d=0,j,f,p,u,h,m;if(at[t]==at[G]){return Z(k)}for(q=at[G],j=q.parentNode;j;q=j,j=j.parentNode){if(j==at[t]){return cl(q,k)}++g}for(q=at[t],j=q.parentNode;j;q=j,j=j.parentNode){if(j==at[G]){return K(q,k)}++d}for(f=d-g,p=at[t];f>0;){p=p.parentNode,f--}for(u=at[G];0>f;){u=u.parentNode,f++}for(h=p.parentNode,m=u.parentNode;h!=m;h=h.parentNode,m=m.parentNode){p=h,u=m}return J(p,u,k)}function Z(k){var r,g,j,f,q,u,h,p,m;if(k!=bY&&(r=ce()),at[e]==at[cf]){return r}if(3==at[t].nodeType){if(g=at[t].nodeValue,j=g.substring(at[e],at[cf]),k!=Y&&(f=at[t],p=at[e],m=at[cf]-at[e],0===p&&m>=f.nodeValue.length-1?f.parentNode.removeChild(f):f.deleteData(p,m),at.collapse(b0)),k==bY){return}return j.length>0&&r.appendChild(bZ.createTextNode(j)),r}for(f=b3(at[t],at[e]),q=at[cf]-at[e];f&&q>0;){u=f.nextSibling,h=b2(f,k),r&&r.appendChild(h),--q,f=u}return k!=Y&&at.collapse(b0),r}function cl(j,g){var m,f,k,d,h,c;if(g!=bY&&(m=ce()),f=Q(j,g),m&&m.appendChild(f),k=b6(j),d=k-at[e],0>=d){return g!=Y&&(at.setEndBefore(j),at.collapse(b7)),m}for(f=j.previousSibling;d>0;){h=f.previousSibling,c=b2(f,g),m&&m.insertBefore(c,m.firstChild),--d,f=h}return g!=Y&&(at.setEndBefore(j),at.collapse(b7)),m}function K(j,g){var m,f,k,d,h,c;for(g!=bY&&(m=ce()),k=b5(j,g),m&&m.appendChild(k),f=b6(j),++f,d=at[cf]-f,k=j.nextSibling;k&&d>0;){h=k.nextSibling,c=b2(k,g),m&&m.appendChild(c),--d,k=h}return g!=Y&&(at.setStartAfter(j),at.collapse(b0)),m}function J(k,r,g){var j,f,q,u,h,p,m;for(g!=bY&&(f=ce()),j=b5(k,g),f&&f.appendChild(j),q=b6(k),u=b6(r),++q,h=u-q,p=k.nextSibling;h>0;){m=p.nextSibling,j=b2(p,g),f&&f.appendChild(j),p=m,--h}return j=Q(r,g),f&&f.appendChild(j),g!=Y&&(at.setStartAfter(k),at.collapse(b0)),f}function Q(j,m){var f=b3(at[G],at[cf]-1),c,h,d,k,p,g=f!=at[G];if(f==j){return b4(f,g,b7,m)}for(c=f.parentNode,h=b4(c,b7,b7,m);c;){for(;f;){d=f.previousSibling,k=b4(f,g,b7,m),m!=bY&&h.insertBefore(k,h.firstChild),g=b0,f=d}if(c==j){return h}f=c.previousSibling,c=c.parentNode,p=b4(c,b7,b7,m),m!=bY&&p.appendChild(h),h=p}}function b5(j,m){var f=b3(at[t],at[e]),c=f!=at[t],h,d,k,p,g;if(f==j){return b4(f,c,b0,m)}for(h=f.parentNode,d=b4(h,b7,b0,m);h;){for(;f;){k=f.nextSibling,p=b4(f,c,b0,m),m!=bY&&d.appendChild(p),c=b0,f=k}if(h==j){return d}f=h.nextSibling,h=h.parentNode,g=b4(h,b7,b0,m),m!=bY&&g.appendChild(d),d=g}}function b4(j,n,d,h){var f,m,p,g,k;if(n){return b2(j,h)}if(3==j.nodeType){if(f=j.nodeValue,d?(g=at[e],m=f.substring(g),p=f.substring(0,g)):(g=at[cf],m=f.substring(0,g),p=f.substring(g)),h!=Y&&(j.nodeValue=p),h==bY){return}return k=ci.clone(j,b7),k.nodeValue=m,k}if(h!=bY){return ci.clone(j,b7)}}function b2(d,c){return c!=bY?c==Y?ci.clone(d,b0):d:void d.parentNode.removeChild(d)}function bt(){return ci.create("body",null,cp()).outerText}var at=this,bZ=ci.doc,X=0,Y=1,bY=2,b0=!0,b7=!1,e="startOffset",t="startContainer",G="endContainer",cf="endOffset",cm=b.extend,b6=ci.nodeIndex;return cm(at,{startContainer:bZ,startOffset:0,endContainer:bZ,endOffset:0,collapsed:b0,commonAncestorContainer:bZ,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:cn,setEnd:ch,setStartBefore:cu,setStartAfter:cd,setEndBefore:ck,setEndAfter:cs,collapse:cr,selectNode:cc,selectNodeContents:cq,compareBoundaryPoints:cg,deleteContents:cj,extractContents:co,cloneContents:cp,insertNode:cb,surroundContents:b8,cloneRange:ct,toStringIE:bt}),at}return a.prototype.toString=function(){return this.toStringIE()},a}),aF(aM,[aU],function(p){function y(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.textContent||a.innerText||c}function h(o,f){var s,l,d,c={};if(o){for(o=o.split(","),f=f||10,s=0;s<o.length;s+=2){l=String.fromCharCode(parseInt(o[s],f)),g[l]||(d="&"+o[s+1]+";",c[l]=d,c[d]=l)}return c}}var b=p.makeMap,k,g,w,z=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/[<>&\"\']/g,q=/&(#x|#)?([\w]+);/g,x={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};g={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},w={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},k=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var m={encodeRaw:function(c,a){return c.replace(a?z:j,function(d){return g[d]||d})},encodeAllRaw:function(a){return(""+a).replace(v,function(c){return g[c]||c})},encodeNumeric:function(c,a){return c.replace(a?z:j,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":g[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(c,a,d){return d=d||k,c.replace(a?z:j,function(f){return g[f]||d[f]||f})},getEncodeFunc:function(i,f){function d(a,c){return a.replace(c?z:j,function(n){return g[n]||f[n]||"&#"+n.charCodeAt(0)+";"||n})}function l(a,c){return m.encodeNamed(a,c,f)}return f=h(f)||k,i=b(i.replace(/\+/g,",")),i.named&&i.numeric?d:i.named?f?l:m.encodeNamed:i.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(q,function(d,f,c){return f?(c=parseInt(c,2===f.length?16:10),c>65535?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(1023&c))):x[c]||String.fromCharCode(c)):w[d]||k[d]||y(d)})}};return m}),aF(aS,[],function(){var j=navigator,p=j.userAgent,f,b,h,d,m,q,g;f=window.opera&&window.opera.buildNumber,b=/WebKit/.test(p),h=!b&&!f&&/MSIE/gi.test(p)&&/Explorer/gi.test(j.appName),h=h&&/MSIE (\w+)\./.exec(p)[1],d=-1==p.indexOf("Trident/")||-1==p.indexOf("rv:")&&-1==j.appName.indexOf("Netscape")?!1:11,h=h||d,m=!b&&!d&&/Gecko/.test(p),q=-1!=p.indexOf("Mac"),g=/(iPad|iPhone)/.test(p);var k=!g||p.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:f,webkit:b,ie:h,gecko:m,mac:q,iOS:g,contentEditable:k,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=h,range:window.getSelection&&"Range" in window,documentMode:h?document.documentMode||7:10}}),aF(aT,[],function(){return function(g,d){function j(a){g.getElementsByTagName("head")[0].appendChild(a)}function f(A,a,B){function k(){for(var m=y.passed,l=m.length;l--;){m[l]()}y.status=2,y.passed=[],y.failed=[]}function x(){for(var m=y.failed,l=m.length;l--;){m[l]()}y.status=3,y.passed=[],y.failed=[]}function w(){var l=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(l&&l[1]<536)}function z(m,l){m()||((new Date).getTime()-o<b?window.setTimeout(l,0):x())}function q(){z(function(){for(var m=g.styleSheets,s,p=m.length,l;p--;){if(s=m[p],l=s.ownerNode?s.ownerNode:s.owningElement,l&&l.id===i.id){return k(),!0}}},q)}function e(){z(function(){try{var m=n.sheet.cssRules;return k(),!!m}catch(l){}},e)}var i,n,o,y;if(h[A]?y=h[A]:(y={passed:[],failed:[]},h[A]=y),a&&y.passed.push(a),B&&y.failed.push(B),1!=y.status){if(2==y.status){return void k()}if(3==y.status){return void x()}if(y.status=1,i=g.createElement("link"),i.rel="stylesheet",i.type="text/css",i.id="u"+c++,i.async=!1,i.defer=!1,o=(new Date).getTime(),"onload" in i&&!w()){i.onload=q,i.onerror=x}else{if(navigator.userAgent.indexOf("Firefox")>0){return n=g.createElement("style"),n.textContent='@import "'+A+'"',e(),void j(n)}q()}j(i),i.href=A}}var c=0,h={},b;d=d||{},b=d.maxLoadTime||5000,this.load=f}}),aF(aB,[aO,aX,aW,aC,aJ,aM,aS,aU,aT],function(J,B,x,F,A,N,t,E,L){function K(c,b){var a=this,d;a.doc=c,a.win=window,a.files={},a.counter=0,a.stdMode=!k||c.documentMode>=8,a.boxModel=!k||"CSS1Compat"==c.compatMode||a.stdMode,a.hasOuterHTML="outerHTML" in c.createElement("a"),a.styleSheetLoader=new L(c),this.boundEvents=[],a.settings=b=G({keep_values:!1,hex_colors:1},b),a.schema=b.schema,a.styles=new B({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema),a.fixDoc(c),a.events=b.ownEvents?new x(b.proxy):x.Event,d=b.schema?b.schema.getBlockElements():{},a.isBlock=function(g){if(!g){return !1}var f=g.nodeType;return f?!(1!==f||!d[g.nodeName]):!!d[g]}}var q=E.each,I=E.is,z=E.grep,D=E.trim,G=E.extend,H=t.webkit,k=t.ie,j=/^([a-z0-9],?)+$/i,M=/^[ \t\r\n]*$/,w=E.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return K.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(b){var a=this.settings,c;if(k&&a.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){b.createElement(d)});for(c in a.schema.getCustomElements()){b.createElement(c)}}},clone:function(d,b){var f=this,c,a;return !k||1!==d.nodeType||b?d.cloneNode(b):(a=f.doc,b?c.firstChild:(c=a.createElement(d.nodeName),q(f.getAttribs(d),function(e){f.setAttrib(c,e.nodeName,f.getAttrib(d,e.nodeName))}),c))},getRoot:function(){var a=this;return a.get(a.settings.root_element)||a.doc.body},getViewPort:function(b){var a,c;return b=b?b:this.win,a=b.document,c=this.boxModel?a.documentElement:a.body,{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(c){var a=this,d,b;return c=a.get(c),d=a.getPos(c),b=a.getSize(c),{x:d.x,y:d.y,w:b.w,h:b.h}},getSize:function(c){var a=this,d,b;return c=a.get(c),d=a.getStyle(c,"width"),b=a.getStyle(c,"height"),-1===d.indexOf("px")&&(d=0),-1===b.indexOf("px")&&(b=0),{w:parseInt(d,10)||c.offsetWidth||c.clientWidth,h:parseInt(b,10)||c.offsetHeight||c.clientHeight}},getParent:function(b,a,c){return this.getParents(b,a,c,!1)},getParents:function(g,l,f,c){var h=this,b,d=[];for(g=h.get(g),c=c===aD,f=f||("BODY"!=h.getRoot().nodeName?h.getRoot().parentNode:null),I(l,"string")&&(b=l,l="*"===l?function(a){return 1==a.nodeType}:function(a){return h.is(a,b)});g&&g!=f&&g.nodeType&&9!==g.nodeType;){if(!l||l(g)){if(!c){return g}d.push(g)}g=g.parentNode}return c?d:null},get:function(b){var a;return b&&this.doc&&"string"==typeof b&&(a=b,b=this.doc.getElementById(b),b&&b.id!==a)?this.doc.getElementsByName(a)[1]:b},getNext:function(b,a){return this._findSib(b,a,"nextSibling")},getPrev:function(b,a){return this._findSib(b,a,"previousSibling")},select:function(a,c){var b=this;return J(a,b.get(c)||b.get(b.settings.root_element)||b.doc,[])},is:function(d,b){var a;if(d.length===aD){if("*"===b){return 1==d.nodeType}if(j.test(b)){for(b=b.toLowerCase().split(/,/),d=d.nodeName.toLowerCase(),a=b.length-1;a>=0;a--){if(b[a]==d){return !0}}return !1}}if(d.nodeType&&1!=d.nodeType){return !1}var c=d.nodeType?[d]:d;return J(b,c[0].ownerDocument||c[0],null,c).length>0},add:function(d,b,g,c,a){var f=this;return this.run(d,function(i){var h;return h=I(b,"string")?f.doc.createElement(b):b,f.setAttribs(h,g),c&&(c.nodeType?h.appendChild(c):f.setHTML(h,c)),a?h:i.appendChild(h)})},create:function(b,a,c){return this.add(this.doc.createElement(b),b,a,c,1)},createHTML:function(d,b,f){var c="",a;c+="<"+d;for(a in b){b.hasOwnProperty(a)&&null!==b[a]&&(c+=" "+a+'="'+this.encode(b[a])+'"')}return"undefined"!=typeof f?c+">"+f+"</"+d+">":c+" />"},createFragment:function(d){var b,f,c=this.doc,a;for(a=c.createElement("div"),b=c.createDocumentFragment(),d&&(a.innerHTML=d);f=a.firstChild;){b.appendChild(f)}return b},remove:function(b,a){return this.run(b,function(d){var f,c=d.parentNode;if(!c){return null}if(a){for(;f=d.firstChild;){!k||3!==f.nodeType||f.nodeValue?c.insertBefore(f,d):d.removeChild(f)}}return c.removeChild(d)})},setStyle:function(b,a,c){return this.run(b,function(h){var g=this,f,l;if(a){if("string"==typeof a){f=h.style,a=a.replace(/-(\D)/g,function(m,i){return i.toUpperCase()}),"number"!=typeof c||w[a]||(c+="px"),"opacity"===a&&h.runtimeStyle&&"undefined"==typeof h.runtimeStyle.opacity&&(f.filter=""===c?"":"alpha(opacity="+100*c+")"),"float"==a&&(a="cssFloat" in h.style?"cssFloat":"styleFloat");try{f[a]=c}catch(d){}g.settings.update_styles&&h.removeAttribute("data-mce-style")}else{for(l in a){g.setStyle(h,l,a[l])}}}})},getStyle:function(c,d,b){if(c=this.get(c)){if(this.doc.defaultView&&b){d=d.replace(/[A-Z]/g,function(f){return"-"+f});try{return this.doc.defaultView.getComputedStyle(c,null).getPropertyValue(d)}catch(a){return null}}return d=d.replace(/-(\D)/g,function(g,f){return f.toUpperCase()}),"float"==d&&(d=k?"styleFloat":"cssFloat"),c.currentStyle&&b?c.currentStyle[d]:c.style?c.style[d]:aD}},setStyles:function(b,a){this.setStyle(b,a)},css:function(b,a,c){this.setStyle(b,a,c)},removeAllAttribs:function(a){return this.run(a,function(c){var b,d=c.attributes;for(b=d.length-1;b>=0;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:function(c,a,d){var b=this;if(c&&a){return this.run(c,function(g){var f=b.settings,h=g.getAttribute(a);if(null!==d){switch(a){case"style":if(!I(d,"string")){return void q(d,function(e,i){b.setStyle(g,i,e)})}f.keep_values&&(d?g.setAttribute("data-mce-style",d,2):g.removeAttribute("data-mce-style",2)),g.style.cssText=d;break;case"class":g.className=d||"";break;case"src":case"href":f.keep_values&&(f.url_converter&&(d=f.url_converter.call(f.url_converter_scope||b,d,a,g)),b.setAttrib(g,"data-mce-"+a,d,2));break;case"shape":g.setAttribute("data-mce-style",d)}}I(d)&&null!==d&&0!==d.length?g.setAttribute(a,""+d,2):g.removeAttribute(a,2),h!=d&&f.onSetAttrib&&f.onSetAttrib({attrElm:g,attrName:a,attrValue:d})})}},setAttribs:function(b,a){var c=this;return this.run(b,function(d){q(a,function(e,f){c.setAttrib(d,f,e)})})},getAttrib:function(d,b,g){var c,a=this,f;if(d=a.get(d),!d||1!==d.nodeType){return g===f?!1:g}if(I(g)||(g=""),/^(src|href|style|coords|shape)$/.test(b)&&(c=d.getAttribute("data-mce-"+b))){return c}if(k&&a.props[b]&&(c=d[a.props[b]],c=c&&c.nodeValue?c.nodeValue:c),c||(c=d.getAttribute(b,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b)){return d[a.props[b]]===!0&&""===c?b:c?b:""}if("FORM"===d.nodeName&&d.getAttributeNode(b)){return d.getAttributeNode(b).nodeValue}if("style"===b&&(c=c||d.style.cssText,c&&(c=a.serializeStyle(a.parseStyle(c),d.nodeName),a.settings.keep_values&&d.setAttribute("data-mce-style",c))),H&&"class"===b&&c&&(c=c.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),k){switch(b){case"rowspan":case"colspan":1===c&&(c="");break;case"size":("+0"===c||20===c||0===c)&&(c="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===c&&(c="");break;case"hspace":-1===c&&(c="");break;case"maxlength":case"tabindex":(32768===c||2147483647===c||"32768"===c)&&(c="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===c?b:g;case"shape":c=c.toLowerCase();break;default:0===b.indexOf("on")&&c&&(c=(""+c).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}}return c!==f&&null!==c&&""!==c?""+c:g},getPos:function(h,d){var m=this,g=0,c=0,l,b=m.doc,f;if(h=m.get(h),d=d||b.body,h){if(d===b.body&&h.getBoundingClientRect){return f=h.getBoundingClientRect(),d=m.boxModel?b.documentElement:b.body,g=f.left+(b.documentElement.scrollLeft||b.body.scrollLeft)-d.clientLeft,c=f.top+(b.documentElement.scrollTop||b.body.scrollTop)-d.clientTop,{x:g,y:c}}for(l=h;l&&l!=d&&l.nodeType;){g+=l.offsetLeft||0,c+=l.offsetTop||0,l=l.offsetParent}for(l=h.parentNode;l&&l!=d&&l.nodeType;){g-=l.scrollLeft||0,c-=l.scrollTop||0,l=l.parentNode}}return{x:g,y:c}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(b,a){return this.styles.serialize(b,a)},addStyle:function(d){var b=this,g=b.doc,c,a;if(b!==K.DOM&&g===document){var f=K.DOM.addedStyles;if(f=f||[],f[d]){return}f[d]=!0,K.DOM.addedStyles=f}a=g.getElementById("mceDefaultStyles"),a||(a=g.createElement("style"),a.id="mceDefaultStyles",a.type="text/css",c=g.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)),a.styleSheet?a.styleSheet.cssText+=d:a.appendChild(g.createTextNode(d))},loadCSS:function(c){var a=this,d=a.doc,b;return a!==K.DOM&&d===document?void K.DOM.loadCSS(c):(c||(c=""),b=d.getElementsByTagName("head")[0],void q(c.split(","),function(g){var f;a.files[g]||(a.files[g]=!0,f=a.create("link",{rel:"stylesheet",href:g}),k&&d.documentMode&&d.recalc&&(f.onload=function(){d.recalc&&d.recalc(),f.onload=null}),b.appendChild(f))}))},addClass:function(b,a){return this.run(b,function(c){var d;return a?this.hasClass(c,a)?c.className:(d=this.removeClass(c,a),c.className=d=(""!==d?d+" ":"")+a,d):0})},removeClass:function(c,a){var d=this,b;return d.run(c,function(g){var f;return d.hasClass(g,a)?(b||(b=new RegExp("(^|\\s+)"+a+"(\\s+|$)","g")),f=g.className.replace(b," "),f=D(" "!=f?f:""),g.className=f,f||(g.removeAttribute("class"),g.removeAttribute("className")),f):g.className})},hasClass:function(b,a){return b=this.get(b),b&&a?-1!==(" "+b.className+" ").indexOf(" "+a+" "):!1},toggleClass:function(b,c,a){a=a===aD?!this.hasClass(b,c):a,this.hasClass(b,c)!==a&&(a?this.addClass(b,c):this.removeClass(b,c))},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(b,a){var c=this;return c.run(b,function(g){if(k){for(;g.firstChild;){g.removeChild(g.firstChild)}try{g.innerHTML="<br />"+a,g.removeChild(g.firstChild)}catch(f){var d=c.create("div");d.innerHTML="<br />"+a,q(z(d.childNodes),function(e,h){h&&g.canHaveHTML&&g.appendChild(e)})}}else{g.innerHTML=a}return a})},getOuterHTML:function(b){var a,c=this;return(b=c.get(b))?1===b.nodeType&&c.hasOuterHTML?b.outerHTML:(a=(b.ownerDocument||c.doc).createElement("body"),a.appendChild(b.cloneNode(!0)),a.innerHTML):null},setOuterHTML:function(c,a,d){var b=this;return b.run(c,function(g){function f(){var e,l;for(l=d.createElement("body"),l.innerHTML=a,e=l.lastChild;e;){b.insertAfter(e.cloneNode(!0),g),e=e.previousSibling}b.remove(g)}if(1==g.nodeType){if(d=d||g.ownerDocument||b.doc,k){try{1==g.nodeType&&b.hasOuterHTML?g.outerHTML=a:f()}catch(h){f()}}else{f()}}})},decode:N.decode,encode:N.encodeAllRaw,insertAfter:function(b,a){return a=this.get(a),this.run(b,function(d){var f,c;return f=a.parentNode,c=a.nextSibling,c?f.insertBefore(d,c):f.appendChild(d),d})},replace:function(c,a,d){var b=this;return b.run(a,function(e){return I(e,"array")&&(c=c.cloneNode(!0)),d&&q(z(e.childNodes),function(f){c.appendChild(f)}),e.parentNode.replaceChild(c,e)})},rename:function(c,a){var d=this,b;return c.nodeName!=a.toUpperCase()&&(b=d.create(a),q(d.getAttribs(c),function(e){d.setAttrib(b,e.nodeName,d.getAttrib(c,e.nodeName))}),d.replace(b,c,1)),b||c},findCommonAncestor:function(c,a){for(var d=c,b;d;){for(b=a;b&&d!=b;){b=b.parentNode}if(d==b){break}d=d.parentNode}return !d&&c.ownerDocument?c.ownerDocument.documentElement:d},toHex:function(a){return this.styles.toHex(E.trim(a))},run:function(d,b,f){var c=this,a;return"string"==typeof d&&(d=c.get(d)),d?(f=f||this,d.nodeType||!d.length&&0!==d.length?b.call(f,d):(a=[],q(d,function(g,h){g&&("string"==typeof g&&(g=c.get(g)),a.push(b.call(f,g,h)))}),a)):!1},getAttribs:function(b){var a;if(b=this.get(b),!b){return[]}if(k){if(a=[],"OBJECT"==b.nodeName){return b.attributes}"OPTION"===b.nodeName&&this.getAttrib(b,"selected")&&a.push({specified:1,nodeName:"selected"});var c=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return b.cloneNode(!1).outerHTML.replace(c,"").replace(/[\w:\-]+/gi,function(d){a.push({specified:1,nodeName:d})}),a}return b.attributes},isEmpty:function(h,p){var f=this,b,d,m,u,g,i=0;if(h=h.firstChild){u=new F(h,h.parentNode),p=p||f.schema?f.schema.getNonEmptyElements():null;do{if(m=h.nodeType,1===m){if(h.getAttribute("data-mce-bogus")){continue}if(g=h.nodeName.toLowerCase(),p&&p[g]){if("br"===g){i++;continue}return !1}for(d=f.getAttribs(h),b=d.length;b--;){if(g=d[b].nodeName,"name"===g||"data-mce-bookmark"===g){return !1}}}if(8==m){return !1}if(3===m&&!M.test(h.nodeValue)){return !1}}while(h=u.next())}return 1>=i},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new A(this)},nodeIndex:function(d,b){var f=0,c,a;if(d){for(c=d.nodeType,d=d.previousSibling;d;d=d.previousSibling){a=d.nodeType,(!b||3!=a||a!=c&&d.nodeValue.length)&&(f++,c=a)}}return f},split:function(h,p,d){function b(v){function l(o){var a=o.previousSibling&&"SPAN"==o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"==o.nextSibling.nodeName;return a&&s}var C,y=v.childNodes,i=v.nodeType;if(1!=i||"bookmark"!=v.getAttribute("data-mce-type")){for(C=y.length-1;C>=0;C--){b(y[C])}if(9!=i){if(3==i&&v.nodeValue.length>0){var r=D(v.nodeValue).length;if(!g.isBlock(v.parentNode)||r>0||0===r&&l(v)){return}}else{if(1==i&&(y=v.childNodes,1==y.length&&y[0]&&1==y[0].nodeType&&"bookmark"==y[0].getAttribute("data-mce-type")&&v.parentNode.insertBefore(y[0],v),y.length||/^(br|hr|input|img)$/i.test(v.nodeName))){return}}g.remove(v)}return v}}var g=this,c=g.createRng(),m,u,f;return h&&p?(c.setStart(h.parentNode,g.nodeIndex(h)),c.setEnd(p.parentNode,g.nodeIndex(p)),m=c.extractContents(),c=g.createRng(),c.setStart(p.parentNode,g.nodeIndex(p)+1),c.setEnd(h.parentNode,g.nodeIndex(h)+1),u=c.extractContents(),f=h.parentNode,f.insertBefore(b(m),h),d?f.replaceChild(d,p):f.insertBefore(p,h),f.insertBefore(b(u),h),g.remove(h),d||p):void 0},bind:function(d,b,g,c){var a=this;if(E.isArray(d)){for(var f=d.length;f--;){d[f]=a.bind(d[f],b,g,c)}return d}return !a.settings.collect||d!==a.doc&&d!==a.win||a.boundEvents.push([d,b,g,c]),a.events.bind(d,b,g,c||a)},unbind:function(d,b,g){var c=this,a;if(E.isArray(d)){for(a=d.length;a--;){d[a]=c.unbind(d[a],b,g)}return d}if(c.boundEvents&&(d===c.doc||d===c.win)){for(a=c.boundEvents.length;a--;){var f=c.boundEvents[a];d!=f[0]||b&&b!=f[1]||g&&g!=f[2]||this.events.unbind(f[0],f[1],f[2])}}return this.events.unbind(d,b,g)},fire:function(b,a,c){return this.events.fire(b,a,c)},getContentEditable:function(b){var a;return b&&1==b.nodeType?(a=b.getAttribute("data-mce-contenteditable"),a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null):null},getContentEditableParent:function(b){for(var a=this.getRoot(),c=null;b&&b!==a&&(c=this.getContentEditable(b),null===c);b=b.parentNode){}return c},destroy:function(){var a=this;if(a.boundEvents){for(var c=a.boundEvents.length;c--;){var b=a.boundEvents[c];this.events.unbind(b[0],b[1],b[2])}a.boundEvents=null}J.setDocument&&J.setDocument(),a.win=a.doc=a.root=a.events=a.frag=null},isChildOf:function(b,a){for(;b;){if(a===b){return !0}b=b.parentNode}return !1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(d,b,f){var c=this,a=b;if(d){for("string"==typeof a&&(a=function(g){return c.is(g,b)}),d=d[f];d;d=d[f]){if(a(d)){return d}}}return null}},K.DOM=new K(document),K}),aF(aw,[aB,aU],function(d,b){function g(){function k(y,w){function A(){z.remove(x),l&&(l.onreadystatechange=l.onload=l=null),w()}function u(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+y)}var z=c,l,x;x=z.uniqueId(),l=document.createElement("script"),l.id=x,l.type="text/javascript",l.src=y,"onreadystatechange" in l?l.onreadystatechange=function(){/loaded|complete/.test(l.readyState)&&A()}:l.onload=A,l.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(l)}var r=0,h=1,p=2,v={},i=[],o={},m=[],q=0,j;this.isDone=function(l){return v[l]==p},this.markDone=function(l){v[l]=p},this.add=this.load=function(t,u,s){var l=v[t];l==j&&(i.push(t),v[t]=r),u&&(o[t]||(o[t]=[]),o[t].push({func:u,scope:s||this}))},this.loadQueue=function(n,l){this.loadScripts(i,n,l)},this.loadScripts=function(s,u,n){function w(l){a(o[l],function(t){t.func.call(t.scope)}),o[l]=j}var e;m.push({func:u,scope:n||this}),(e=function(){var l=f(s);s.length=0,a(l,function(x){return v[x]==p?void w(x):void (v[x]!=h&&(v[x]=h,q++,k(x,function(){v[x]=p,q--,w(x),e()})))}),q||(a(m,function(t){t.func.call(t.scope)}),m.length=0)})()}}var c=d.DOM,a=b.each,f=b.grep;return g.ScriptLoader=new g,g}),aF(aZ,[aw,aU],function(c,d){function b(){var f=this;f.items=[],f.urls={},f.lookup={}}var a=d.each;return b.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:aD},dependencies:function(g){var f;return this.lookup[g]&&(f=this.lookup[g].dependencies),f||[]},requireLangPack:function(f,g){var e=b.language;if(e&&b.languageLoad!==!1){if(g){if(g=","+g+",",-1!=g.indexOf(","+e.substr(0,2)+",")){e=e.substr(0,2)}else{if(-1==g.indexOf(","+e+",")){return}}}c.ScriptLoader.add(this.urls[f]+"/langs/"+e+".js")}},add:function(g,f,h){return this.items.push(f),this.lookup[g]={instance:f,dependencies:h},f},createUrl:function(g,f){return"object"==typeof f?f:{prefix:g.prefix,resource:f,suffix:g.suffix}},addComponents:function(e,g){var f=this.urls[e];a(g,function(h){c.ScriptLoader.add(f+"/"+h)})},load:function(k,i,f,g){function e(){var l=j.dependencies(k);a(l,function(m){var o=j.createUrl(i,m);j.load(o.resource,o,aD,aD)}),f&&f.call(g?g:c)}var j=this,h=i;j.urls[k]||("object"==typeof i&&(h=i.prefix+i.resource+i.suffix),0!==h.indexOf("/")&&-1==h.indexOf("://")&&(h=b.baseURL+"/"+h),j.urls[k]=h.substring(0,h.lastIndexOf("/")),j.lookup[k]?e():c.ScriptLoader.add(h,e,g))}},b.PluginManager=new b,b.ThemeManager=new b,b}),aF(bz,[],function(){function c(k,h,m){var j,g,l=m?"lastChild":"firstChild",f=m?"prev":"next";if(k[l]){return k[l]}if(k!==h){if(j=k[f]){return j}for(g=k.parent;g&&g!==h;g=g.parent){if(j=g[f]){return j}}}}function a(g,f){this.name=g,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(g){var f=this;return g.parent&&g.remove(),f.insert(g,f),f.remove(),f},attr:function(j,g){var l=this,h,f,k;if("string"!=typeof j){for(f in j){l.attr(f,j[f])}return l}if(h=l.attributes){if(g!==k){if(null===g){if(j in h.map){for(delete h.map[j],f=h.length;f--;){if(h[f].name===j){return h=h.splice(f,1),l}}}return l}if(j in h.map){for(f=h.length;f--;){if(h[f].name===j){h[f].value=g;break}}}else{h.push({name:j,value:g})}return h.map[j]=g,l}return h.map[j]}},clone:function(){var k=this,m=new a(k.name,k.type),j,g,l,f,h;if(l=k.attributes){for(h=[],h.map={},j=0,g=l.length;g>j;j++){f=l[j],"id"!==f.name&&(h[h.length]={name:f.name,value:f.value},h.map[f.name]=f.value)}m.attributes=h}return m.value=k.value,m.shortEnded=k.shortEnded,m},wrap:function(g){var f=this;return f.parent.insert(g,f),g.append(f),f},unwrap:function(){var g=this,f,h;for(f=g.firstChild;f;){h=f.next,g.insert(f,g,!0),f=h}g.remove()},remove:function(){var h=this,f=h.parent,i=h.next,g=h.prev;return f&&(f.firstChild===h?(f.firstChild=i,i&&(i.prev=null)):g.next=i,f.lastChild===h?(f.lastChild=g,g&&(g.next=null)):i.prev=g,h.parent=h.next=h.prev=null),h},append:function(g){var f=this,h;return g.parent&&g.remove(),h=f.lastChild,h?(h.next=g,g.prev=h,f.lastChild=g):f.lastChild=f.firstChild=g,g.parent=f,g},insert:function(h,f,i){var g;return h.parent&&h.remove(),g=f.parent||this,i?(f===g.firstChild?g.firstChild=h:f.prev.next=h,h.prev=f.prev,h.next=f,f.prev=h):(f===g.lastChild?g.lastChild=h:f.next.prev=h,h.next=f.next,h.prev=f,f.next=h),h.parent=g,h},getAll:function(f){var h=this,g,e=[];for(g=h.firstChild;g;g=c(g,h)){g.name===f&&e.push(g)}return e},empty:function(){var f=this,h,g,e;if(f.firstChild){for(h=[],e=f.firstChild;e;e=c(e,f)){h.push(e)}for(g=h.length;g--;){e=h[g],e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return f.firstChild=f.lastChild=null,f},isEmpty:function(g){var h=this,f=h.firstChild,j,e;if(f){do{if(1===f.type){if(f.attributes.map["data-mce-bogus"]){continue}if(g[f.name]){return !1}for(j=f.attributes.length;j--;){if(e=f.attributes[j].name,"name"===e||0===e.indexOf("data-mce-")){return !1}}}if(8===f.type){return !1}if(3===f.type&&!d.test(f.value)){return !1}}while(f=c(f,h))}return !0},walk:function(e){return c(this,null,e)}},a.create=function(g,j){var f,h;if(f=new a(g,b[g]||1),j){for(h in j){f.attr(h,j[h])}}return f},a}),aF(ax,[aU],function(h){function k(i,a){return i?i.split(a||" "):[]}function d(t){function o(A,E,u){function s(F){var i={},G,l;for(G=0,l=F.length;l>G;G++){i[F[G]]={}}return i}var C,a,D,B=arguments;for(u=u||[],E=E||"","string"==typeof u&&(u=k(u)),a=3;a<B.length;a++){"string"==typeof B[a]&&(B[a]=k(B[a])),u.push.apply(u,B[a])}for(A=k(A),C=A.length;C--;){D=[].concat(z,k(E)),x[A[C]]={attributes:s(D),attributesOrder:D,children:s(u)}}}function q(A,C){var u,a,B,l;for(A=k(A),u=A.length,C=k(C);u--;){for(a=x[A[u]],B=0,l=C.length;l>B;B++){a.attributes[C[B]]={},a.attributesOrder.push(C[B])}}}var x={},z,p,w,v,y,r;return b[t]?b[t]:(z=k("id accesskey class dir lang style tabindex title"),p=k("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),w=k("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=t&&(z.push.apply(z,k("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),p.push.apply(p,k("article aside details dialog figure header footer hgroup section nav")),w.push.apply(w,k("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=t&&(z.push("xml:lang"),r=k("acronym applet basefont big font strike tt"),w.push.apply(w,r),c(r,function(a){o(a,"",w)}),y=k("center dir isindex noframes"),p.push.apply(p,y),v=[].concat(p,w),c(y,function(a){o(a,"",v)})),v=v||[].concat(p,w),o("html","manifest","head body"),o("head","","base command link meta noscript script style title"),o("title hr noscript br"),o("base","href target"),o("link","href rel media hreflang type sizes hreflang"),o("meta","name http-equiv content charset"),o("style","media type scoped"),o("script","src async defer type charset"),o("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),o("address dt dd div caption","",v),o("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",w),o("blockquote","cite",v),o("ol","reversed start type","li"),o("ul","","li"),o("li","value",v),o("dl","","dt dd"),o("a","href target rel media hreflang type",w),o("q","cite",w),o("ins del","cite datetime",v),o("img","src alt usemap ismap width height"),o("iframe","src name width height",v),o("embed","src type width height"),o("object","data type typemustmatch name usemap form width height",v,"param"),o("param","name value"),o("map","name",v,"area"),o("area","alt coords shape href target rel media hreflang type"),o("table","border","caption colgroup thead tfoot tbody tr"+("html4"==t?" col":"")),o("colgroup","span","col"),o("col","span"),o("tbody thead tfoot","","tr"),o("tr","","td th"),o("td","colspan rowspan headers",v),o("th","colspan rowspan headers scope abbr",v),o("form","accept-charset action autocomplete enctype method name novalidate target",v),o("fieldset","disabled form name",v,"legend"),o("label","form for",w),o("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),o("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==t?v:w),o("select","disabled form multiple name required size","option optgroup"),o("optgroup","disabled label","option"),o("option","disabled label selected value"),o("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),o("menu","type label",v,"li"),o("noscript","",v),"html4"!=t&&(o("wbr"),o("ruby","",w,"rt rp"),o("figcaption","",v),o("mark rt rp summary bdi","",w),o("canvas","width height",v),o("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",v,"track source"),o("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",v,"track source"),o("source","src type media"),o("track","kind src srclang label default"),o("datalist","",w,"option"),o("article section nav aside header footer","",v),o("hgroup","","h1 h2 h3 h4 h5 h6"),o("figure","",v,"figcaption"),o("time","datetime",w),o("dialog","open",v),o("command","type label icon disabled checked radiogroup command"),o("output","for form name",w),o("progress","value max",w),o("meter","value min max low high optimum",w),o("details","open",v,"summary"),o("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=t&&(q("script","language xml:space"),q("style","xml:space"),q("object","declare classid codebase codetype archive standby align border hspace vspace"),q("param","valuetype type"),q("a","charset name rev shape coords"),q("br","clear"),q("applet","codebase archive code object alt name width height align hspace vspace"),q("img","name longdesc align border hspace vspace"),q("iframe","longdesc frameborder marginwidth marginheight scrolling align"),q("font basefont","size color face"),q("input","usemap align"),q("select","onchange"),q("textarea"),q("h1 h2 h3 h4 h5 h6 div p legend caption","align"),q("ul","type compact"),q("li","type"),q("ol dl menu dir","compact"),q("pre","width xml:space"),q("hr","align noshade size width"),q("isindex","prompt"),q("table","summary width frame rules cellspacing cellpadding align bgcolor"),q("col","width align char charoff valign"),q("colgroup","width align char charoff valign"),q("thead","align char charoff valign"),q("tr","align char charoff valign bgcolor"),q("th","axis align char charoff valign nowrap bgcolor width height"),q("form","accept"),q("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),q("tfoot","align char charoff valign"),q("tbody","align char charoff valign"),q("area","nohref"),q("body","background bgcolor text link vlink alink")),"html4"!=t&&(q("input button select textarea","autofocus"),q("input textarea","placeholder"),q("a","download"),q("link script img","crossorigin"),q("iframe","sandbox seamless allowfullscreen")),c(k("a form meter progress dfn"),function(a){x[a]&&delete x[a].children[a]}),delete x.caption.children.table,b[t]=x,x)}var b={},g=h.makeMap,c=h.each,j=h.extend,m=h.explode,f=h.inArray;return function(L){function O(e,v,u){var p=L[e];return p?p=g(p,/[, ]/,g(p.toUpperCase(),/[, ]/)):(p=b[e],p||(p=g(v," ",g(v.toUpperCase()," ")),p=j(p,u),b[e]=p)),p}function M(p){return new RegExp("^"+p.replace(/([?+*])/g,".$1")+"$")}function t(b6){var b0,bt,bZ,b8,Z,b7,X,b5,bY,b1,b3,b4,U,at,V,W,b9,Y,R,b2=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,A=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,v=/[*?+]/;if(b6){for(b6=k(b6,","),s["@"]&&(W=s["@"].attributes,b9=s["@"].attributesOrder),b0=0,bt=b6.length;bt>b0;b0++){if(Z=b2.exec(b6[b0])){if(at=Z[1],bY=Z[2],V=Z[3],b5=Z[5],b4={},U=[],b7={attributes:b4,attributesOrder:U},"#"===at&&(b7.paddEmpty=!0),"-"===at&&(b7.removeEmpty=!0),"!"===Z[4]&&(b7.removeEmptyAttrs=!0),W){for(Y in W){b4[Y]=W[Y]}U.push.apply(U,b9)}if(b5){for(b5=k(b5,"|"),bZ=0,b8=b5.length;b8>bZ;bZ++){if(Z=A.exec(b5[bZ])){if(X={},b3=Z[1],b1=Z[2].replace(/::/g,":"),at=Z[3],R=Z[4],"!"===b3&&(b7.attributesRequired=b7.attributesRequired||[],b7.attributesRequired.push(b1),X.required=!0),"-"===b3){delete b4[b1],U.splice(f(U,b1),1);continue}at&&("="===at&&(b7.attributesDefault=b7.attributesDefault||[],b7.attributesDefault.push({name:b1,value:R}),X.defaultValue=R),":"===at&&(b7.attributesForced=b7.attributesForced||[],b7.attributesForced.push({name:b1,value:R}),X.forcedValue=R),"<"===at&&(X.validValues=g(R,"?"))),v.test(b1)?(b7.attributePatterns=b7.attributePatterns||[],X.pattern=M(b1),b7.attributePatterns.push(X)):(b4[b1]||U.push(b1),b4[b1]=X)}}}W||"@"!=bY||(W=b4,b9=U),V&&(b7.outputName=bY,s[V]=b7),v.test(bY)?(b7.pattern=M(bY),P.push(b7)):s[bY]=b7}}}}function K(p){s={},P=[],t(p),c(q,function(v,u){o[u]=v.children})}function F(p){var u=/^(~)?(.+)$/;p&&(b.text_block_elements=b.block_elements=null,c(k(p,","),function(C){var x=u.exec(C),A="~"===x[1],w=A?"span":"div",y=x[2];if(o[y]=o[w],l[y]=w,A||(H[y.toUpperCase()]={},H[y]={}),!s[y]){var v=s[w];v=j({},v),delete v.removeEmptyAttrs,delete v.removeEmpty,s[y]=v}c(o,function(N,E){N[w]&&(o[E]=N=j({},o[E]),N[y]=N[w])})}))}function G(p){var u=/^([+\-]?)(\w+)\[([^\]]+)\]$/;p&&c(k(p,","),function(y){var x=u.exec(y),v,w;x&&(w=x[1],v=w?o[x[2]]:o[x[2]]={"#comment":{}},v=o[x[2]],c(k(x[3],"|"),function(A){"-"===w?(o[x[2]]=v=j({},o[x[2]]),delete v[A]):v[A]={}}))})}function I(u){var p=s[u],v;if(p){return p}for(v=P.length;v--;){if(p=P[v],p.pattern.test(u)){return p}}}var J=this,s={},o={},P=[],B,q,r,Q,z,n,H,i,a,l={},D={};L=L||{},q=d(L.schema),L.verify_html===!1&&(L.valid_elements="*[*]"),L.valid_styles&&(B={},c(L.valid_styles,function(u,p){B[p]=m(u)})),r=O("whitespace_elements","pre script noscript style textarea video audio iframe object"),Q=O("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),z=O("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),n=O("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),i=O("non_empty_elements","td th iframe video audio object script",z),a=O("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),H=O("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",a),c((L.special||"script noscript style textarea").split(" "),function(p){D[p]=new RegExp("</"+p+"[^>]*>","gi")}),L.valid_elements?K(L.valid_elements):(c(q,function(u,p){s[p]={attributes:u.attributes,attributesOrder:u.attributesOrder},o[p]=u.children}),"html5"!=L.schema&&c(k("strong/b em/i"),function(p){p=k(p,"/"),s[p[1]].outputName=p[0]}),s.img.attributesDefault=[{name:"alt",value:""}],c(k("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(p){s[p]&&(s[p].removeEmpty=!0)}),c(k("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(p){s[p].paddEmpty=!0}),c(k("span"),function(p){s[p].removeEmptyAttrs=!0})),F(L.custom_elements),G(L.valid_children),t(L.extended_valid_elements),G("+ol[ul|ol],+ul[ul|ol]"),L.invalid_elements&&c(m(L.invalid_elements),function(p){s[p]&&delete s[p]}),I("span")||t("span[!data-mce-type|*]"),J.children=o,J.styles=B,J.getBoolAttrs=function(){return n},J.getBlockElements=function(){return H},J.getTextBlockElements=function(){return a},J.getShortEndedElements=function(){return z},J.getSelfClosingElements=function(){return Q},J.getNonEmptyElements=function(){return i},J.getWhiteSpaceElements=function(){return r},J.getSpecialElements=function(){return D},J.isValidChild=function(u,p){var v=o[u];return !(!v||!v[p])},J.isValid=function(w,u){var x,v,p=I(w);if(p){if(!u){return !0}if(p.attributes[u]){return !0}if(x=p.attributePatterns){for(v=x.length;v--;){if(x[v].pattern.test(w)){return !0}}}}return !1},J.getElementRule=I,J.getCustomElements=function(){return l},J.addValidElements=t,J.setValidElements=K,J.addCustomElements=F,J.addValidChildren=G,J.elements=s}}),aF(ay,[ax,aM,aU],function(c,a,d){var b=d.each;return function(f,h){function e(){}var g=this;f=f||{},g.schema=h=h||new c,f.fix_self_closing!==!1&&(f.fix_self_closing=!0),b("comment cdata text start end pi doctype".split(" "),function(i){i&&(g[i]=f[i]||e)}),g.parse=function(ch){function b9(l){var k,m;for(k=cg.length;k--&&cg[k].name!==l;){}if(k>=0){for(m=cg.length-1;m>=k;m--){l=cg[m],l.valid&&b8.end(l.name)}cg.length=k}}function cl(v,z,p,k,m){var y,A,u=/[\s\u0000-\u001F]+/g;if(z=z.toLowerCase(),p=z in bZ?z:at(p||k||m||""),b5&&!b6&&0!==z.indexOf("data-")){if(y=q[z],!y&&o){for(A=o.length;A--&&(y=o[A],!y.pattern.test(z));){}-1===A&&(y=null)}if(!y){return}if(y.validValues&&!(p in y.validValues)){return}}if(i[z]&&!f.allow_script_urls){var x=p.replace(u,"");try{x=decodeURIComponent(x)}catch(w){x=unescape(x)}if(j.test(x)){return}if(!f.allow_html_data_urls&&n.test(x)&&!/^data:image\//i.test(x)){return}}ca.map[z]=p,ca.push({name:z,value:p})}var b8=this,cc,cj=0,ci,b7,cg=[],ca,cb,ce,cf,b6,b3,ck,bZ,b4,b5,cm,bt,K,cd,q,o,t,b1,b0,bY,X,Q,Z,G,J,Y=0,at=a.decode,b2,i=d.makeMap("src,href,data,background,formaction,poster"),j=/((java|vb)script|mhtml):/i,n=/^data:/i;for(Q=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),Z=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,ck=h.getShortEndedElements(),X=f.self_closing_elements||h.getSelfClosingElements(),bZ=h.getBoolAttrs(),b5=f.validate,b3=f.remove_internals,b2=f.fix_self_closing,G=h.getSpecialElements();cc=Q.exec(ch);){if(cj<cc.index&&b8.text(at(ch.substr(cj,cc.index-cj))),ci=cc[6]){ci=ci.toLowerCase(),":"===ci.charAt(0)&&(ci=ci.substr(1)),b9(ci)}else{if(ci=cc[7]){if(ci=ci.toLowerCase(),":"===ci.charAt(0)&&(ci=ci.substr(1)),b4=ci in ck,b2&&X[ci]&&cg.length>0&&cg[cg.length-1].name===ci&&b9(ci),!b5||(cm=h.getElementRule(ci))){if(bt=!0,b5&&(q=cm.attributes,o=cm.attributePatterns),(cd=cc[8])?(b6=-1!==cd.indexOf("data-mce-type"),b6&&b3&&(bt=!1),ca=[],ca.map={},cd.replace(Z,cl)):(ca=[],ca.map={}),b5&&!b6){if(t=cm.attributesRequired,b1=cm.attributesDefault,b0=cm.attributesForced,bY=cm.removeEmptyAttrs,bY&&!ca.length&&(bt=!1),b0){for(cb=b0.length;cb--;){K=b0[cb],cf=K.name,J=K.value,"{$uid}"===J&&(J="mce_"+Y++),ca.map[cf]=J,ca.push({name:cf,value:J})}}if(b1){for(cb=b1.length;cb--;){K=b1[cb],cf=K.name,cf in ca.map||(J=K.value,"{$uid}"===J&&(J="mce_"+Y++),ca.map[cf]=J,ca.push({name:cf,value:J}))}}if(t){for(cb=t.length;cb--&&!(t[cb] in ca.map);){}-1===cb&&(bt=!1)}ca.map["data-mce-bogus"]&&(bt=!1)}bt&&b8.start(ci,ca,b4)}else{bt=!1}if(b7=G[ci]){b7.lastIndex=cj=cc.index+cc[0].length,(cc=b7.exec(ch))?(bt&&(ce=ch.substr(cj,cc.index-cj)),cj=cc.index+cc[0].length):(ce=ch.substr(cj),cj=ch.length),bt&&(ce.length>0&&b8.text(ce,!0),b8.end(ci)),Q.lastIndex=cj;continue}b4||(cd&&cd.indexOf("/")==cd.length-1?bt&&b8.end(ci):cg.push({name:ci,valid:bt}))}else{(ci=cc[1])?(">"===ci.charAt(0)&&(ci=" "+ci),f.allow_conditional_comments||"[if"!==ci.substr(0,3)||(ci=" "+ci),b8.comment(ci)):(ci=cc[2])?b8.cdata(ci):(ci=cc[3])?b8.doctype(ci):(ci=cc[4])&&b8.pi(ci,cc[5])}}cj=cc.index+cc[0].length}for(cj<ch.length&&b8.text(at(ch.substr(cj))),cb=cg.length-1;cb>=0;cb--){ci=cg[cb],ci.valid&&b8.end(ci.name)}}}}),aF(a1,[bz,ax,ay,aU],function(h,d,k,g){var c=g.makeMap,j=g.each,b=g.explode,f=g.extend;return function(n,e){function t(J){var z,l,x,G,K,E,I,D,w,A,B,C,H,F;for(B=c("tr,td,th,tbody,thead,tfoot,table"),A=e.getNonEmptyElements(),C=e.getTextBlockElements(),z=0;z<J.length;z++){if(l=J[z],l.parent&&!l.fixed){if(C[l.name]&&"li"==l.parent.name){for(H=l.next;H&&C[H.name];){H.name="li",H.fixed=!0,l.parent.insert(H,l.parent),H=H.next}l.unwrap(l)}else{for(G=[l],x=l.parent;x&&!e.isValidChild(x.name,l.name)&&!B[x.name];x=x.parent){G.push(x)}if(x&&G.length>1){for(G.reverse(),K=E=s.filterNode(G[0].clone()),w=0;w<G.length-1;w++){for(e.isValidChild(E.name,G[w].name)?(I=s.filterNode(G[w].clone()),E.append(I)):I=E,D=G[w].firstChild;D&&D!=G[w+1];){F=D.next,I.append(D),D=F}E=I}K.isEmpty(A)?x.insert(l,G[0],!0):(x.insert(K,G[0],!0),x.insert(l,K)),x=G[0],(x.isEmpty(A)||x.firstChild===x.lastChild&&"br"===x.firstChild.name)&&x.empty().remove()}else{if(l.parent){if("li"===l.name){if(H=l.prev,H&&("ul"===H.name||"ul"===H.name)){H.append(l);continue}if(H=l.next,H&&("ul"===H.name||"ul"===H.name)){H.insert(l,H.firstChild,!0);continue}l.wrap(s.filterNode(new h("ul",1)));continue}e.isValidChild(l.parent.name,"div")&&e.isValidChild("div",l.name)?l.wrap(s.filterNode(new h("div",1))):"style"===l.name||"script"===l.name?l.empty().remove():l.unwrap()}}}}}}var s=this,i={},o=[],q={},a={};n=n||{},n.validate="validate" in n?n.validate:!0,n.root_name=n.root_name||"body",s.schema=e=e||new d,s.filterNode=function(p){var l,u,m;u in i&&(m=q[u],m?m.push(p):q[u]=[p]),l=o.length;for(;l--;){u=o[l].name,u in p.attributes.map&&(m=a[u],m?m.push(p):a[u]=[p])}return p},s.addNodeFilter=function(m,l){j(b(m),function(p){var r=i[p];r||(i[p]=r=[]),r.push(l)})},s.addAttributeFilter=function(m,l){j(b(m),function(p){var r;for(r=0;r<o.length;r++){if(o[r].name===p){return void o[r].callbacks.push(l)}}o.push({name:p,callbacks:[l]})})},s.parse=function(Y,bZ){function b5(){function x(A){A&&(w=A.firstChild,w&&3==w.type&&(w.value=w.value.replace(p,"")),w=A.lastChild,w&&3==w.type&&(w.value=w.value.replace(Z,"")))}var w=J.firstChild,y,v;if(e.isValidChild(J.name,K.toLowerCase())){for(;w;){y=w.next,3==w.type||1==w.type&&"p"!==w.name&&!l[w.name]&&!w.attr("data-mce-type")?v?v.append(w):(v=b3(K,1),v.attr(n.forced_root_block_attrs),J.insert(v,w),v.append(w)):(x(v),v=null),w=y}x(v)}}function b3(w,y){var x=new h(w,y),v;return w in i&&(v=q[w],v?v.push(x):q[w]=[x]),x}function b1(x){var v,y,w;for(v=x.prev;v&&3===v.type;){y=v.value.replace(Z,""),y.length>0?(v.value=y,v=v.prev):(w=v.prev,v.remove(),v=w)}}function b2(w){var v,x={};for(v in w){"li"!==v&&"p"!=v&&(x[v]=w[v])}return x}var W,J,b4,at,Q,V,b6,X,z,b0,m,l,p,bY=[],bt,Z,G,F,U,r,u,K;if(bZ=bZ||{},q={},a={},l=f(c("script,style,head,html,body,title,meta,param"),e.getBlockElements()),u=e.getNonEmptyElements(),r=e.children,m=n.validate,K="forced_root_block" in bZ?bZ.forced_root_block:n.forced_root_block,U=e.getWhiteSpaceElements(),p=/^[ \t\r\n]+/,Z=/[ \t\r\n]+$/,G=/[ \t\r\n]+/g,F=/^[ \t\r\n]+$/,W=new k({validate:m,allow_script_urls:n.allow_script_urls,allow_conditional_comments:n.allow_conditional_comments,self_closing_elements:b2(e.getSelfClosingElements()),cdata:function(v){b4.append(b3("#cdata",4)).value=v},text:function(w,v){var x;bt||(w=w.replace(G," "),b4.lastChild&&l[b4.lastChild.name]&&(w=w.replace(p,""))),0!==w.length&&(x=b3("#text",3),x.raw=!!v,b4.append(x).value=w)},comment:function(v){b4.append(b3("#comment",8)).value=v},pi:function(w,v){b4.append(b3(w,7)).value=v,b1(b4)},doctype:function(w){var v;v=b4.append(b3("#doctype",10)),v.value=w,b1(b4)},start:function(B,x,D){var A,w,C,v,y;if(C=m?e.getElementRule(B):{}){for(A=b3(C.outputName||B,1),A.attributes=x,A.shortEnded=D,b4.append(A),y=r[b4.name],y&&r[A.name]&&!y[A.name]&&bY.push(A),w=o.length;w--;){v=o[w].name,v in x.map&&(z=a[v],z?z.push(A):a[v]=[A])}l[B]&&b1(A),D||(b4=A),!bt&&U[B]&&(bt=!0)}},end:function(x){var B,y,w,A,v;if(y=m?e.getElementRule(x):{}){if(l[x]&&!bt){if(B=b4.firstChild,B&&3===B.type){if(w=B.value.replace(p,""),w.length>0){B.value=w,B=B.next}else{for(A=B.next,B.remove(),B=A;B&&3===B.type;){w=B.value,A=B.next,(0===w.length||F.test(w))&&(B.remove(),B=A),B=A}}}if(B=b4.lastChild,B&&3===B.type){if(w=B.value.replace(Z,""),w.length>0){B.value=w,B=B.prev}else{for(A=B.prev,B.remove(),B=A;B&&3===B.type;){w=B.value,A=B.prev,(0===w.length||F.test(w))&&(B.remove(),B=A),B=A}}}}if(bt&&U[x]&&(bt=!1),(y.removeEmpty||y.paddEmpty)&&b4.isEmpty(u)){if(y.paddEmpty){b4.empty().append(new h("#text","3")).value="\xa0"}else{if(!b4.attributes.map.name&&!b4.attributes.map.id){return v=b4.parent,b4.empty().remove(),void (b4=v)}}}b4=b4.parent}}},e),J=b4=new h(bZ.context||n.root_name,11),W.parse(Y),m&&bY.length&&(bZ.context?bZ.invalid=!0:t(bY)),K&&("body"==J.name||bZ.isRootContent)&&b5(),!bZ.invalid){for(b0 in q){for(z=i[b0],at=q[b0],b6=at.length;b6--;){at[b6].parent||at.splice(b6,1)}for(Q=0,V=z.length;V>Q;Q++){z[Q](at,b0,bZ)}}for(Q=0,V=o.length;V>Q;Q++){if(z=o[Q],z.name in a){for(at=a[z.name],b6=at.length;b6--;){at[b6].parent||at.splice(b6,1)}for(b6=0,X=z.callbacks.length;X>b6;b6++){z.callbacks[b6](at,z.name,bZ)}}}}return J},n.remove_trailing_brs&&s.addNodeFilter("br",function(F){var x,l=F.length,z,w=f({},e.getBlockElements()),D=e.getNonEmptyElements(),C,B,E,A,v,y;for(w.body=1,x=0;l>x;x++){if(z=F[x],C=z.parent,w[z.parent.name]&&z===C.lastChild){for(E=z.prev;E;){if(A=E.name,"span"!==A||"bookmark"!==E.attr("data-mce-type")){if("br"!==A){break}if("br"===A){z=null;break}}E=E.prev}z&&(z.remove(),C.isEmpty(D)&&(v=e.getElementRule(C.name),v&&(v.removeEmpty?C.remove():v.paddEmpty&&(C.empty().append(new h("#text",3)).value="\xa0"))))}else{for(B=z;C&&C.firstChild===B&&C.lastChild===B&&(B=C,!w[C.name]);){C=C.parent}B===C&&(y=new h("#text",3),y.value="\xa0",z.replace(y))}}}),n.allow_html_in_named_anchor||s.addAttributeFilter("id,name",function(u){for(var m=u.length,w,p,l,v;m--;){if(v=u[m],"a"===v.name&&v.firstChild&&!v.attr("href")){l=v.parent,w=v.lastChild;do{p=w.prev,l.insert(w,v),w=p}while(w)}}})}}),aF(bx,[aM,aU],function(b,a){var c=a.makeMap;return function(g){var j=[],f,k,e,h,d;return g=g||{},f=g.indent,k=c(g.indent_before||""),e=c(g.indent_after||""),h=b.getEncodeFunc(g.entity_encoding||"raw",g.entities),d="html"==g.element_format,{start:function(o,l,r){var q,p,i,m;if(f&&k[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n")),j.push("<",o),l){for(q=0,p=l.length;p>q;q++){i=l[q],j.push(" ",i.name,'="',h(i.value,!0),'"')}}j[j.length]=!r||d?">":" />",r&&f&&e[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n"))},end:function(l){var i;j.push("</",l,">"),f&&e[l]&&j.length>0&&(i=j[j.length-1],i.length>0&&"\n"!==i&&j.push("\n"))},text:function(l,i){l.length>0&&(j[j.length]=i?l:h(l))},cdata:function(i){j.push("<![CDATA[",i,"]]>")},comment:function(i){j.push("<!--",i,"-->")},pi:function(l,i){i?j.push("<?",l," ",i,"?>"):j.push("<?",l,"?>"),f&&j.push("\n")},doctype:function(i){j.push("<!DOCTYPE",i,">",f?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}}),aF(bm,[bx,ax],function(b,a){return function(f,d){var c=this,e=new b(f);f=f||{},f.validate="validate" in f?f.validate:!0,c.schema=d=d||new a,c.writer=e,c.serialize=function(k){function j(w){var o=h[w.type],A,r,y,x,z,v,i,q,t;if(o){o(w)}else{if(A=w.name,r=w.shortEnded,y=w.attributes,g&&y&&y.length>1){for(v=[],v.map={},t=d.getElementRule(w.name),i=0,q=t.attributesOrder.length;q>i;i++){x=t.attributesOrder[i],x in y.map&&(z=y.map[x],v.map[x]=z,v.push({name:x,value:z}))}for(i=0,q=y.length;q>i;i++){x=y[i].name,x in v.map||(z=y.map[x],v.map[x]=z,v.push({name:x,value:z}))}y=v}if(e.start(w.name,y,r),!r){if(w=w.firstChild){do{j(w)}while(w=w.next)}e.end(A)}}}var h,g;return g=f.validate,h={3:function(i){e.text(i.value,i.raw)},8:function(i){e.comment(i.value)},7:function(i){e.pi(i.name,i.value)},10:function(i){e.doctype(i.value)},4:function(i){e.cdata(i.value)},11:function(i){if(i=i.firstChild){do{j(i)}while(i=i.next)}}},e.reset(),1!=k.type||f.inner?h[11](k):j(k),e.getContent()}}}),aF(aP,[aB,a1,aM,bm,bz,ax,aS,aU],function(k,u,g,b,j,f,q,v){var h=v.each,p=v.trim,m=k.DOM;return function(n,c){var d,a,l;return c&&(d=c.dom,a=c.schema),d=d||m,a=a||new f(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs="remove_trailing_brs" in n?n.remove_trailing_brs:!0,l=new u(n,a),l.addAttributeFilter("data-mce-tabindex",function(s,i){for(var w=s.length,o;w--;){o=s[w],o.attr("tabindex",o.attributes.map["data-mce-tabindex"]),o.attr(i,null)}}),l.addAttributeFilter("src,href,style",function(C,w){for(var e=C.length,y,s,B="data-mce-"+w,x=n.url_converter,A=n.url_converter_scope,z;e--;){y=C[e],s=y.attributes.map[B],s!==z?(y.attr(w,s.length>0?s:null),y.attr(B,null)):(s=y.attributes.map[w],"style"===w?s=d.serializeStyle(d.parseStyle(s),y.name):x&&(s=x.call(A,s,w,y.name)),y.attr(w,s.length>0?s:null))}}),l.addAttributeFilter("class",function(s){for(var i=s.length,w,o;i--;){w=s[i],o=w.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),w.attr("class",o.length>0?o:null)}}),l.addAttributeFilter("data-mce-type",function(x,s,y){for(var w=x.length,o;w--;){o=x[w],"bookmark"!==o.attributes.map["data-mce-type"]||y.cleanup||o.remove()}}),l.addAttributeFilter("data-mce-expando",function(o,i){for(var r=o.length;r--;){o[r].attr(i,null)}}),l.addNodeFilter("noscript",function(s){for(var i=s.length,o;i--;){o=s[i].firstChild,o&&(o.value=g.decode(o.value))}}),l.addNodeFilter("script,style",function(z,x){function B(i){return i.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var y=z.length,w,A;y--;){if(w=z[y],A=w.firstChild?w.firstChild.value:"","script"===x){var s=(w.attr("type")||"text/javascript").replace(/^mce\-/,"");w.attr("type","text/javascript"===s?null:s),A.length>0&&(w.firstChild.value="// <![CDATA[\n"+B(A)+"\n// ]]>")}else{A.length>0&&(w.firstChild.value="<!--\n"+B(A)+"\n-->")}}}),l.addNodeFilter("#comment",function(o){for(var i=o.length,r;i--;){r=o[i],0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=r.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))}}),l.addNodeFilter("xml:namespace,input",function(s,i){for(var w=s.length,o;w--;){o=s[w],7===o.type?o.remove():1===o.type&&("input"!==i||"type" in o.attributes.map||o.attr("type","text"))}}),n.fix_list_elements&&l.addNodeFilter("ul,ol",function(s){for(var i=s.length,w,o;i--;){w=s[i],o=w.parent,("ul"===o.name||"ol"===o.name)&&w.prev&&"li"===w.prev.name&&w.prev.append(w)}}),l.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(o,i){for(var r=o.length;r--;){o[r].attr(i,null)}}),{schema:a,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(s,A){var r=this,z,y,x,e,w;return q.ie&&d.select("script,style,select,map").length>0?(w=s.innerHTML,s=s.cloneNode(!1),d.setHTML(s,w)):s=s.cloneNode(!0),z=s.ownerDocument.implementation,z.createHTMLDocument&&(y=z.createHTMLDocument(""),h("BODY"==s.nodeName?s.childNodes:[s],function(i){y.body.appendChild(y.importNode(i,!0))}),s="BODY"!=s.nodeName?y.body.firstChild:y.body,x=d.doc,d.doc=y),A=A||{},A.format=A.format||"html",A.selection&&(A.forced_root_block=""),A.no_events||(A.node=s,r.onPreProcess(A)),e=new b(n,a),A.content=e.serialize(l.parse(p(A.getInner?s.innerHTML:d.getOuterHTML(s)),A)),A.cleanup||(A.content=A.content.replace(/\uFEFF/g,"")),A.no_events||r.onPostProcess(A),x&&(d.doc=x),A.node=null,A.content},addRules:function(i){a.addValidElements(i)},setRules:function(i){a.setValidElements(i)},onPreProcess:function(i){c&&c.fire("PreProcess",i)},onPostProcess:function(i){c&&c.fire("PostProcess",i)}}}}),aF(bf,[],function(){function a(f){function c(z,k){var e,p=0,j,x,A,m,w,v,y=-1,q;if(e=z.duplicate(),e.collapse(k),q=e.parentElement(),q.ownerDocument===f.dom.doc){for(;"false"===q.contentEditable;){q=q.parentNode}if(!q.hasChildNodes()){return{node:q,inside:1}}for(A=q.children,j=A.length-1;j>=p;){if(v=Math.floor((p+j)/2),m=A[v],e.moveToElementText(m),y=e.compareEndPoints(k?"StartToStart":"EndToEnd",z),y>0){j=v-1}else{if(!(0>y)){return{node:m}}p=v+1}}if(0>y){for(m?e.collapse(!1):(e.moveToElementText(q),e.collapse(!0),m=q,x=!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",1)&&q==e.parentElement();){w++}}else{for(e.collapse(!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",-1)&&q==e.parentElement();){w++}}return{node:m,position:y,offset:w,inside:x}}}function h(){function i(x){var A=c(e,x),w,u,v=0,o,z,y;if(w=A.node,u=A.offset,A.inside&&!w.hasChildNodes()){return void q[x?"setStart":"setEnd"](w,0)}if(u===z){return void q[x?"setStartBefore":"setEndAfter"](w)}if(A.position<0){if(o=A.inside?w.firstChild:w.nextSibling,!o){return void q[x?"setStartAfter":"setEndAfter"](w)}if(!u){return void (3==o.nodeType?q[x?"setStart":"setEnd"](o,0):q[x?"setStartBefore":"setEndBefore"](o))}for(;o;){if(y=o.nodeValue,v+=y.length,v>=u){w=o,v-=u,v=y.length-v;break}o=o.nextSibling}}else{if(o=w.previousSibling,!o){return q[x?"setStartBefore":"setEndBefore"](w)}if(!u){return void (3==w.nodeType?q[x?"setStart":"setEnd"](o,w.nodeValue.length):q[x?"setStartAfter":"setEndAfter"](o))}for(;o;){if(v+=o.nodeValue.length,v>=u){w=o,v-=u;break}o=o.previousSibling}}q[x?"setStart":"setEnd"](w,v)}var e=f.getRng(),q=b.createRng(),t,j,p,m,r;if(t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=b.doc){return q}if(j=f.isCollapsed(),e.item){return q.setStart(t.parentNode,b.nodeIndex(t)),q.setEnd(q.startContainer,q.startOffset+1),q}try{i(!0),j||i()}catch(k){if(-2147024809!=k.number){throw k}r=d.getBookmark(2),p=e.duplicate(),p.collapse(!0),t=p.parentElement(),j||(p=e.duplicate(),p.collapse(!1),m=p.parentElement(),m.innerHTML=m.innerHTML),t.innerHTML=t.innerHTML,d.moveToBookmark(r),e=f.getRng(),i(!0),j||i()}return q}var d=this,b=f.dom,g=!1;this.getBookmark=function(l){function j(s){var p,v,q,u,m=[];for(p=s.parentNode,v=b.getRoot().parentNode;p!=v&&9!==p.nodeType;){for(q=p.children,u=q.length;u--;){if(s===q[u]){m.push(u);break}}s=p,p=p.parentNode}return m}function k(m){var o;return o=c(e,m),o?{position:o.position,offset:o.offset,indexes:j(o.node),inside:o.inside}:void 0}var e=f.getRng(),i={};return 2===l&&(e.item?i.start={ctrl:!0,indexes:j(e.item(0))}:(i.start=k(!0),f.isCollapsed()||(i.end=k()))),i},this.moveToBookmark=function(k){function i(s){var p,v,q,u;for(p=b.getRoot(),v=s.length-1;v>=0;v--){u=p.children,q=s[v],q<=u.length-1&&(p=u[q])}return p}function m(t){var p=k[t?"start":"end"],o,q,e,r;p&&(o=p.position>0,q=l.createTextRange(),q.moveToElementText(i(p.indexes)),r=p.offset,r!==e?(q.collapse(p.inside||o),q.moveStart("character",o?-r:r)):q.collapse(t),j.setEndPoint(t?"StartToStart":"EndToStart",q),t&&j.collapse(!0))}var j,l=b.doc.body;k.start&&(k.start.ctrl?(j=l.createControlRange(),j.addElement(i(k.start.indexes)),j.select()):(j=l.createTextRange(),m(!0),m(),j.select()))},this.addRange=function(B){function j(D){var s,E,p,r,l;p=b.create("a"),s=D?C:y,E=D?o:x,r=e.duplicate(),(s==w||s==w.documentElement)&&(s=i,E=0),3==s.nodeType?(s.parentNode.insertBefore(p,s),r.moveToElementText(p),r.moveStart("character",E),b.remove(p),e.setEndPoint(D?"StartToStart":"EndToEnd",r)):(l=s.childNodes,l.length?(E>=l.length?b.insertAfter(p,l[l.length-1]):s.insertBefore(p,l[E]),r.moveToElementText(p)):s.canHaveHTML&&(s.innerHTML="<span>&#xFEFF;</span>",p=s.firstChild,r.moveToElementText(p),r.collapse(g)),e.setEndPoint(D?"StartToStart":"EndToEnd",r),b.remove(p))}var e,z,C,o,y,x,A,w=f.dom.doc,i=w.body,k,q;if(C=B.startContainer,o=B.startOffset,y=B.endContainer,x=B.endOffset,e=i.createTextRange(),C==y&&1==C.nodeType){if(o==x&&!C.hasChildNodes()){if(C.canHaveHTML){return A=C.previousSibling,A&&!A.hasChildNodes()&&b.isBlock(A)?A.innerHTML="&#xFEFF;":A=null,C.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",e.moveToElementText(C.lastChild),e.select(),b.doc.selection.clear(),C.innerHTML="",void (A&&(A.innerHTML=""))}o=b.nodeIndex(C),C=C.parentNode}if(o==x-1){try{if(q=C.childNodes[o],z=i.createControlRange(),z.addElement(q),z.select(),k=f.getRng(),k.item&&q===k.item(0)){return}}catch(v){}}}j(!0),j(),e.select()},this.getRangeAt=h}return a}),aF(bd,[aS],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey},metaKeyPressed:function(b){return(a.mac?b.metaKey:b.ctrlKey)&&!b.altKey}}}),aF(bh,[bd,aU,aS],function(b,a,c){return function(b4,ca){function b6(f){var d=ca.settings.object_resizing;return d===!1||c.iOS?!1:("string"!=typeof d&&(d="table,img,div"),"false"===f.getAttribute("data-mce-resize")?!1:ca.dom.is(f,d))}function ch(d){var g,f;g=d.screenX-j,f=d.screenY-e,U=g*G[2]+Z,q=f*G[3]+X,U=5>U?5:U,q=5>q?5:q,(b.modifierPressed(d)||"IMG"==b0.nodeName&&G[2]*G[3]!==0)&&(U=Math.round(q/K),q=Math.round(U*K)),Y.setStyles(ci,{width:U,height:q}),G[2]<0&&ci.clientWidth<=U&&Y.setStyle(ci,"left",n+(Z-U)),G[3]<0&&ci.clientHeight<=q&&Y.setStyle(ci,"top",at+(X-q)),J||(ca.fire("ObjectResizeStart",{target:b0,width:Z,height:X}),J=!0)}function b3(){function d(g,f){f&&(b0.style[g]||!ca.schema.isValid(b0.nodeName.toLowerCase(),g)?Y.setStyle(b0,g,f):Y.setAttrib(b0,g,f))}J=!1,d("width",U),d("height",q),Y.unbind(t,"mousemove",ch),Y.unbind(t,"mouseup",b3),Q!=t&&(Y.unbind(Q,"mousemove",ch),Y.unbind(Q,"mouseup",b3)),Y.remove(ci),V&&"TABLE"!=b0.nodeName||b8(b0),ca.fire("ObjectResized",{target:b0,width:U,height:q}),ca.nodeChanged()}function b8(s,x,g){var k,v,w,o,h,i=ca.getBody();cc(),k=Y.getPos(s,i),n=k.x,at=k.y,h=s.getBoundingClientRect(),v=h.width||h.right-h.left,w=h.height||h.bottom-h.top,b0!=s&&(cb(),b0=s,U=q=0),o=ca.fire("ObjectSelected",{target:s}),b6(s)&&!o.isDefaultPrevented()?bZ(W,function(p,r){function d(f){j=f.screenX,e=f.screenY,Z=b0.clientWidth,X=b0.clientHeight,K=X/Z,G=p,ci=b0.cloneNode(!0),Y.addClass(ci,"mce-clonedresizable"),ci.contentEditable=!1,ci.unSelectabe=!0,Y.setStyles(ci,{left:n,top:at,margin:0}),ci.removeAttribute("data-mce-selected"),ca.getBody().appendChild(ci),Y.bind(t,"mousemove",ch),Y.bind(t,"mouseup",b3),Q!=t&&(Y.bind(Q,"mousemove",ch),Y.bind(Q,"mouseup",b3))}var u,m;return x?void (r==x&&d(g)):(u=Y.get("mceResizeHandle"+r),u?Y.show(u):(m=ca.getBody(),u=Y.add(m,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":!0,"class":"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),c.ie&&(u.contentEditable=!1)),p.elm||(Y.bind(u,"mousedown",function(f){f.stopImmediatePropagation(),f.preventDefault(),d(f)}),p.elm=u),void Y.setStyles(u,{left:v*p[0]+n-u.offsetWidth/2,top:w*p[1]+at-u.offsetHeight/2}))}):cf(),b0.setAttribute("data-mce-selected","1")}function cf(){var f,d;cc(),b0&&b0.removeAttribute("data-mce-selected");for(f in W){d=Y.get("mceResizeHandle"+f),d&&(Y.unbind(d),Y.remove(d))}}function ce(f){function d(i,h){if(i){do{if(i===h){return !0}}while(i=i.parentNode)}}var g;return bZ(Y.select("img[data-mce-selected],hr[data-mce-selected]"),function(h){h.removeAttribute("data-mce-selected")}),g="mousedown"==f.type?f.target:b4.getNode(),g=Y.getParent(g,V?"table":"table,img,hr"),d(g,ca.getBody())&&(b1(),d(b4.getStart(),g)&&d(b4.getEnd(),g)&&(!V||g!=b4.getStart()&&"IMG"!==b4.getStart().nodeName))?void b8(g):void cf()}function b2(f,d,g){f&&f.attachEvent&&f.attachEvent("on"+d,g)}function cd(f,d,g){f&&f.detachEvent&&f.detachEvent("on"+d,g)}function b5(i){var p=i.srcElement,h,f,g,m,u,l,k;h=p.getBoundingClientRect(),l=b9.clientX-h.left,k=b9.clientY-h.top;for(f in W){if(g=W[f],m=p.offsetWidth*g[0],u=p.offsetHeight*g[1],Math.abs(m-l)<8&&Math.abs(u-k)<8){G=g;break}}J=!0,ca.getDoc().selection.empty(),b8(p,f,b9)}function b7(f){var d=f.srcElement;if(d!=b0){if(cb(),0===d.id.indexOf("mceResizeHandle")){return void (f.returnValue=!1)}("IMG"==d.nodeName||"TABLE"==d.nodeName)&&(cf(),b0=d,b2(d,"resizestart",b5))}}function cb(){cd(b0,"resizestart",b5)}function cc(){for(var f in W){var d=W[f];d.elm&&(Y.unbind(d.elm),delete d.elm)}}function b1(){try{ca.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(d){}}function bY(f){var d;if(V){d=t.body.createControlRange();try{return d.addElement(f),d.select(),!0}catch(g){}}}function cg(){b0=ci=null,V&&(cb(),cd(ca.getBody(),"controlselect",b7))}var Y=ca.dom,bZ=a.each,b0,ci,W,G,b9,j,e,n,at,Z,X,K,J,U,q,t=ca.getDoc(),Q=document,V=c.ie&&c.ie<11;W={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var bt=".mce-content-body";return ca.contentStyles.push(bt+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+bt+" .mce-resizehandle:hover {background: #000}"+bt+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+bt+" .mce-clonedresizable {position: absolute;"+(c.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"),ca.on("init",function(){V?(ca.on("ObjectResized",function(d){"TABLE"!=d.target.nodeName&&(cf(),bY(d.target))}),b2(ca.getBody(),"controlselect",b7),ca.on("mousedown",function(d){b9=d})):(b1(),c.ie>=11&&(ca.on("mouseup",function(f){var d=f.target.nodeName;/^(TABLE|IMG|HR)$/.test(d)&&(ca.selection.select(f.target,"TABLE"==d),ca.nodeChanged())}),ca.dom.bind(ca.getBody(),"mscontrolselect",function(d){/^(TABLE|IMG|HR)$/.test(d.target.nodeName)&&(d.preventDefault(),"IMG"==d.target.tagName&&window.setTimeout(function(){ca.selection.select(d.target)},0))}))),ca.on("nodechange mousedown mouseup ResizeEditor",ce),ca.on("keydown keyup",function(d){b0&&"TABLE"==b0.nodeName&&ce(d)}),ca.on("hide",cf)}),ca.on("remove",cc),{isResizable:b6,showResizeRect:b8,hideResizeRect:cf,updateResizeRect:ce,controlSelect:bY,destroy:cg}}}),aF(bC,[aU,aC],function(c,a){function d(f){this.walk=function(H,k){function w(h){var g;return g=h[0],3===g.nodeType&&g===r&&C>=g.nodeValue.length&&h.splice(0,1),g=h[h.length-1],0===G&&h.length>0&&g===B&&3===g.nodeType&&h.splice(h.length-1,1),h}function j(i,g,l){for(var h=[];i&&i!=l;i=i[g]){h.push(i)}return h}function E(h,g){do{if(h.parentNode==g){return h}h=h.parentNode}while(h)}function I(l,h,i){var g=i?"nextSibling":"previousSibling";for(x=l,z=x.parentNode;x&&x!=h;x=z){z=x.parentNode,F=j(x==l?x:x[g],g),F.length&&(i||F.reverse(),k(w(F)))}}var r=H.startContainer,C=H.startOffset,B=H.endContainer,G=H.endOffset,A,e,q,x,z,F,D;if(D=f.select("td.mce-item-selected,th.mce-item-selected"),D.length>0){return void b(D,function(g){k([g])})}if(1==r.nodeType&&r.hasChildNodes()&&(r=r.childNodes[C]),1==B.nodeType&&B.hasChildNodes()&&(B=B.childNodes[Math.min(G-1,B.childNodes.length-1)]),r==B){return k(w([r]))}for(A=f.findCommonAncestor(r,B),x=r;x;x=x.parentNode){if(x===B){return I(r,A,!0)}if(x===A){break}}for(x=B;x;x=x.parentNode){if(x===r){return I(B,A)}if(x===A){break}}e=E(r,A)||r,q=E(B,A)||B,I(r,e,!0),F=j(e==r?e:e.nextSibling,"nextSibling",q==B?q.nextSibling:q),F.length&&k(w(F)),I(B,q)},this.split=function(k){function h(n,i){return n.splitText(i)}var m=k.startContainer,j=k.startOffset,g=k.endContainer,l=k.endOffset;return m==g&&3==m.nodeType?j>0&&j<m.nodeValue.length&&(g=h(m,j),m=g.previousSibling,l>j?(l-=j,m=g=h(g,l).previousSibling,l=g.nodeValue.length,j=0):l=0):(3==m.nodeType&&j>0&&j<m.nodeValue.length&&(m=h(m,j),j=0),3==g.nodeType&&l>0&&l<g.nodeValue.length&&(g=h(g,l).previousSibling,l=g.nodeValue.length)),{startContainer:m,startOffset:j,endContainer:g,endOffset:l}},this.normalize=function(j){function g(i){function y(p,m){for(var l=new a(p,f.getParent(p.parentNode,f.isBlock)||v);p=l[m?"prev":"next"]();){if("BR"===p.nodeName){return !0}}}function A(m,l){return m.previousSibling&&m.previousSibling.nodeName==l}function o(C,B){var p,u,m;if(B=B||x,m=f.getParent(B.parentNode,f.isBlock)||v,C&&"BR"==B.nodeName&&t&&f.isEmpty(m)){return x=B.parentNode,w=f.nodeIndex(B),void (e=!0)}for(p=new a(B,m);k=p[C?"prev":"next"]();){if("false"===f.getContentEditableParent(k)){return}if(3===k.nodeType&&k.nodeValue.length>0){return x=k,w=C?k.nodeValue.length:0,void (e=!0)}if(f.isBlock(k)||n[k.nodeName.toLowerCase()]){return}u=k}h&&u&&(x=u,e=!0,w=0)}var x,w,z,v=f.getRoot(),k,n,q,t;if(x=j[(i?"start":"end")+"Container"],w=j[(i?"start":"end")+"Offset"],t=1==x.nodeType&&w===x.childNodes.length,n=f.schema.getNonEmptyElements(),q=i,1==x.nodeType&&w>x.childNodes.length-1&&(q=!1),9===x.nodeType&&(x=f.getRoot(),w=0),x===v){if(q&&(k=x.childNodes[w>0?w-1:0],k&&(n[k.nodeName]||"TABLE"==k.nodeName))){return}if(x.hasChildNodes()&&(w=Math.min(!q&&w>0?w-1:w,x.childNodes.length-1),x=x.childNodes[w],w=0,x.hasChildNodes()&&!/TABLE/.test(x.nodeName))){k=x,z=new a(x,v);do{if(3===k.nodeType&&k.nodeValue.length>0){w=q?0:k.nodeValue.length,x=k,e=!0;break}if(n[k.nodeName.toLowerCase()]){w=f.nodeIndex(k),x=k.parentNode,"IMG"!=k.nodeName||q||w++,e=!0;break}}while(k=q?z.next():z.prev())}}h&&(3===x.nodeType&&0===w&&o(!0),1===x.nodeType&&(k=x.childNodes[w],k||(k=x.childNodes[w-1]),!k||"BR"!==k.nodeName||A(k,"A")||y(k)||y(k,!0)||o(!0,k))),q&&!h&&3===x.nodeType&&w===x.nodeValue.length&&o(!1),e&&j["set"+(i?"Start":"End")](x,w)}var e,h;return h=j.collapsed,g(!0),h||g(),e&&h&&j.collapse(!0),e}}var b=c.each;return d.compareRanges=function(g,f){if(g&&f){if(!g.item&&!g.duplicate){return g.startContainer==f.startContainer&&g.startOffset==f.startOffset}if(g.item&&f.item&&g.item(0)===f.item(0)){return !0}if(g.isEqual&&f.isEqual&&f.isEqual(g)){return !0}}return !1},d}),aF(bB,[aC,bf,bh,bC,aS,aU],function(p,h,b,k,g,v){function x(l,f,d,n){var c=this;c.dom=l,c.win=f,c.serializer=d,c.editor=n,c.controlSelection=new b(c,n),c.win.getSelection||(c.tridentSel=new h(c))}var j=v.each,t=v.grep,q=v.trim,w=g.ie,m=g.opera;return x.prototype={setCursorLocation:function(d,a){var f=this,c=f.dom.createRng();d?(c.setStart(d,a),c.setEnd(d,a),f.setRng(c),f.collapse(!1)):(f._moveEndPoint(c,f.editor.getBody(),!0),f.setRng(c))},getContent:function(z){var B=this,y=B.getRng(),f=B.dom.create("body"),A=B.getSel(),d,u,c;return z=z||{},d=u="",z.get=!0,z.format=z.format||"html",z.selection=!0,B.editor.fire("BeforeGetContent",z),"text"==z.format?B.isCollapsed()?"":y.text||(A.toString?A.toString():""):(y.cloneContents?(c=y.cloneContents(),c&&f.appendChild(c)):y.item!==aD||y.htmlText!==aD?(f.innerHTML="<br>"+(y.item?y.item(0).outerHTML:y.htmlText),f.removeChild(f.firstChild)):f.innerHTML=y.toString(),/^\s/.test(f.innerHTML)&&(d=" "),/\s+$/.test(f.innerHTML)&&(u=" "),z.getInner=!0,z.content=B.isCollapsed()?"":d+B.serializer.serialize(f,z)+u,B.editor.fire("GetContent",z),z.content)},setContent:function(z,B){var f=this,c=f.getRng(),y,d=f.win.document,A,C;if(B=B||{format:"html"},B.set=!0,B.selection=!0,z=B.content=z,B.no_events||f.editor.fire("BeforeSetContent",B),z=B.content,c.insertNode){z+='<span id="__caret">_</span>',c.startContainer==d&&c.endContainer==d?d.body.innerHTML=z:(c.deleteContents(),0===d.body.childNodes.length?d.body.innerHTML=z:c.createContextualFragment?c.insertNode(c.createContextualFragment(z)):(A=d.createDocumentFragment(),C=d.createElement("div"),A.appendChild(C),C.outerHTML=z,c.insertNode(A))),y=f.dom.get("__caret"),c=d.createRange(),c.setStartBefore(y),c.setEndBefore(y),f.setRng(c),f.dom.remove("__caret");try{f.setRng(c)}catch(u){}}else{c.item&&(d.execCommand("Delete",!1,null),c=f.getRng()),/^\s+/.test(z)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+z),f.dom.remove("__mce_tmp")):c.pasteHTML(z)}B.no_events||f.editor.fire("SetContent",B)},getStart:function(){var f=this,c=f.getRng(),s,d,a,l;if(c.duplicate||c.item){if(c.item){return c.item(0)}for(a=c.duplicate(),a.collapse(1),s=a.parentElement(),s.ownerDocument!==f.dom.doc&&(s=f.dom.getRoot()),d=l=c.parentElement();l=l.parentNode;){if(l==s){s=d;break}}return s}return s=c.startContainer,1==s.nodeType&&s.hasChildNodes()&&(s=s.childNodes[Math.min(s.childNodes.length-1,c.startOffset)]),s&&3==s.nodeType?s.parentNode:s},getEnd:function(){var d=this,a=d.getRng(),f,c;return a.duplicate||a.item?a.item?a.item(0):(a=a.duplicate(),a.collapse(0),f=a.parentElement(),f.ownerDocument!==d.dom.doc&&(f=d.dom.getRoot()),f&&"BODY"==f.nodeName?f.lastChild||f:f):(f=a.endContainer,c=a.endOffset,1==f.nodeType&&f.hasChildNodes()&&(f=f.childNodes[c>0?c-1:c]),f&&3==f.nodeType?f.parentNode:f)},getBookmark:function(G,L){function A(c,a){var d=0;return j(J.select(c),function(i,f){i==a&&(d=f)}),d}function l(c){function a(e){var u,f,d,s=e?"start":"end";u=c[s+"Container"],f=c[s+"Offset"],1==u.nodeType&&"TR"==u.nodeName&&(d=u.childNodes,u=d[Math.min(e?f:f-1,d.length-1)],u&&(f=e?0:u.childNodes.length,c["set"+(e?"Start":"End")](u,f)))}return a(!0),a(),c}function C(){function d(O,R){var u=O[R?"startContainer":"endContainer"],r=O[R?"startOffset":"endOffset"],N=[],o,Q,P=0;if(3==u.nodeType){if(L){for(o=u.previousSibling;o&&3==o.nodeType;o=o.previousSibling){r+=o.nodeValue.length}}N.push(r)}else{Q=u.childNodes,r>=Q.length&&Q.length&&(P=1,r=Math.max(0,Q.length-1)),N.push(z.dom.nodeIndex(Q[r],L)+P)}for(;u&&u!=c;u=u.parentNode){N.push(z.dom.nodeIndex(u,L))}return N}var f=z.getRng(!0),c=J.getRoot(),a={};return a.start=d(f,!0),z.isCollapsed()||(a.end=d(f)),a}var z=this,J=z.dom,M,I,H,K,F,y,B="&#xFEFF;",D;if(2==G){return y=z.getNode(),F=y?y.nodeName:null,"IMG"==F?{name:F,index:A(F,y)}:z.tridentSel?z.tridentSel.getBookmark(G):C()}if(G){return{rng:z.getRng()}}if(M=z.getRng(),H=J.uniqueId(),K=z.isCollapsed(),D="overflow:hidden;line-height:0px",M.duplicate||M.item){if(M.item){return y=M.item(0),F=y.nodeName,{name:F,index:A(F,y)}}I=M.duplicate();try{M.collapse(),M.pasteHTML('<span data-mce-type="bookmark" id="'+H+'_start" style="'+D+'">'+B+"</span>"),K||(I.collapse(!1),M.moveToElementText(I.parentElement()),0===M.compareEndPoints("StartToEnd",I)&&I.move("character",-1),I.pasteHTML('<span data-mce-type="bookmark" id="'+H+'_end" style="'+D+'">'+B+"</span>"))}catch(E){return null}}else{if(y=z.getNode(),F=y.nodeName,"IMG"==F){return{name:F,index:A(F,y)}}I=l(M.cloneRange()),K||(I.collapse(!1),I.insertNode(J.create("span",{"data-mce-type":"bookmark",id:H+"_end",style:D},B))),M=l(M),M.collapse(!0),M.insertNode(J.create("span",{"data-mce-type":"bookmark",id:H+"_start",style:D},B))}return z.moveToBookmark({id:H,keep:1}),{id:H}},moveToBookmark:function(B){function E(e){var H=B[e?"start":"end"],s,d,G,a;if(H){for(G=H[0],d=F,s=H.length-1;s>=1;s--){if(a=d.childNodes,H[s]>a.length-1){return}d=a[H[s]]}3===d.nodeType&&(G=Math.min(H[0],d.nodeValue.length)),1===d.nodeType&&(G=Math.min(H[0],d.childNodes.length)),e?D.setStart(d,G):D.setEnd(d,G)}return !0}function u(G){var J=l.get(B.id+"_"+G),I,o,d,H,e=B.keep;if(J&&(I=J.parentNode,"start"==G?(e?(I=J.firstChild,o=1):o=l.nodeIndex(J),C=f=I,y=A=o):(e?(I=J.firstChild,o=1):o=l.nodeIndex(J),f=I,A=o),!e)){for(H=J.previousSibling,d=J.nextSibling,j(t(J.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});J=l.get(B.id+"_"+G);){l.remove(J,1)}H&&d&&H.nodeType==d.nodeType&&3==H.nodeType&&!m&&(o=H.nodeValue.length,H.appendData(d.nodeValue),l.remove(d),"start"==G?(C=f=H,y=A=o):(f=H,A=o))}}function c(a){return !l.isBlock(a)||a.innerHTML||w||(a.innerHTML='<br data-mce-bogus="1" />'),a}var z=this,l=z.dom,D,F,C,f,y,A;if(B){if(B.start){if(D=l.createRng(),F=l.getRoot(),z.tridentSel){return z.tridentSel.moveToBookmark(B)}E(!0)&&E()&&z.setRng(D)}else{B.id?(u("start"),u("end"),C&&(D=l.createRng(),D.setStart(c(C),y),D.setEnd(c(f),A),z.setRng(D))):B.name?z.select(l.select(B.name)[B.index]):B.rng&&z.setRng(B.rng)}}},select:function(f,c){var s=this,d=s.dom,a=d.createRng(),l;if(s.lastFocusBookmark=null,f){if(!c&&s.controlSelection.controlSelect(f)){return}l=d.nodeIndex(f),a.setStart(f.parentNode,l),a.setEnd(f.parentNode,l+1),c&&(s._moveEndPoint(a,f,!0),s._moveEndPoint(a,f)),s.setRng(a)}return f},isCollapsed:function(){var c=this,a=c.getRng(),d=c.getSel();return !a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!d||a.collapsed},collapse:function(d){var a=this,f=a.getRng(),c;f.item&&(c=f.item(0),f=a.win.document.body.createTextRange(),f.moveToElementText(c)),f.collapse(!!d),a.setRng(f)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(A){function D(i,a,l){try{return a.compareBoundaryPoints(i,l)}catch(c){return -1}}var u=this,d,z,f,C=u.win.document,E;if(!A&&u.lastFocusBookmark){var y=u.lastFocusBookmark;return y.startContainer?(z=C.createRange(),z.setStart(y.startContainer,y.startOffset),z.setEnd(y.endContainer,y.endOffset)):z=y,z}if(A&&u.tridentSel){return u.tridentSel.getRangeAt(0)}try{(d=u.getSel())&&(z=d.rangeCount>0?d.getRangeAt(0):d.createRange?d.createRange():C.createRange())}catch(B){}if(w&&z&&z.setStart&&C.selection){try{E=C.selection.createRange()}catch(B){}E&&E.item&&(f=E.item(0),z=C.createRange(),z.setStartBefore(f),z.setEndAfter(f))}return z||(z=C.createRange?C.createRange():C.body.createTextRange()),z.setStart&&9===z.startContainer.nodeType&&z.collapsed&&(f=u.dom.getRoot(),z.setStart(f,0),z.setEnd(f,0)),u.selectedRange&&u.explicitRange&&(0===D(z.START_TO_START,z,u.selectedRange)&&0===D(z.END_TO_END,z,u.selectedRange)?z=u.explicitRange:(u.selectedRange=null,u.explicitRange=null)),z},setRng:function(f,c){var l=this,d;if(f.select){try{f.select()}catch(a){}}else{if(l.tridentSel){if(f.cloneRange){try{return void l.tridentSel.addRange(f)}catch(a){}}}else{if(d=l.getSel()){l.explicitRange=f;try{d.removeAllRanges(),d.addRange(f)}catch(a){}c===!1&&d.extend&&(d.collapse(f.endContainer,f.endOffset),d.extend(f.startContainer,f.startOffset)),l.selectedRange=d.rangeCount>0?d.getRangeAt(0):null}}}},setNode:function(c){var a=this;return a.setContent(a.dom.getOuterHTML(c)),c},getNode:function(){function z(i,a){for(var l=i;i&&3===i.nodeType&&0===i.length;){i=a?i.nextSibling:i.previousSibling}return i||l}var B=this,f=B.getRng(),c,y=f.startContainer,d=f.endContainer,A=f.startOffset,C=f.endOffset,u=B.dom.getRoot();return f?f.setStart?(c=f.commonAncestorContainer,!f.collapsed&&(y==d&&2>C-A&&y.hasChildNodes()&&(c=y.childNodes[A]),3===y.nodeType&&3===d.nodeType&&(y=y.length===A?z(y.nextSibling,!0):y.parentNode,d=0===C?z(d.previousSibling,!1):d.parentNode,y&&y===d))?y:c&&3==c.nodeType?c.parentNode:c):(c=f.item?f.item(0):f.parentElement(),c.ownerDocument!==B.win.document&&(c=u),c):u},getSelectedBlocks:function(f,A){var y=this,e=y.dom,z,d,u=[];if(d=e.getRoot(),f=e.getParent(f||y.getStart(),e.isBlock),A=e.getParent(A||y.getEnd(),e.isBlock),f&&f!=d&&u.push(f),f&&A&&f!=A){z=f;for(var c=new p(f,d);(z=c.next())&&z!=A;){e.isBlock(z)&&u.push(z)}}return A&&f!=A&&A!=d&&u.push(A),u},isForward:function(){var d=this.dom,a=this.getSel(),f,c;return a&&a.anchorNode&&a.focusNode?(f=d.createRng(),f.setStart(a.anchorNode,a.anchorOffset),f.collapse(!0),c=d.createRng(),c.setStart(a.focusNode,a.focusOffset),c.collapse(!0),f.compareBoundaryPoints(f.START_TO_START,c)<=0):!0},normalize:function(){var c=this,a=c.getRng();return !w&&new k(c.dom).normalize(a)&&c.setRng(a,c.isForward()),a},selectorChanged:function(d,a){var f=this,c;return f.selectorChangedData||(f.selectorChangedData={},c={},f.editor.on("NodeChange",function(s){var r=s.element,n=f.dom,u=n.getParents(r,null,n.getRoot()),l={};j(f.selectorChangedData,function(o,i){j(u,function(e){return n.is(e,i)?(c[i]||(j(o,function(y){y(!0,{node:e,selector:i,parents:u})}),c[i]=o),l[i]=o,!1):void 0})}),j(c,function(i,o){l[o]||(delete c[o],j(i,function(y){y(!1,{node:r,selector:o,parents:u})}))})})),f.selectorChangedData[d]||(f.selectorChangedData[d]=[]),f.selectorChangedData[d].push(a),f},getScrollContainer:function(){for(var c,a=this.dom.getRoot();a&&"BODY"!=a.nodeName;){if(a.scrollHeight>a.clientHeight){c=a;break}a=a.parentNode}return c},scrollIntoView:function(A){function D(i){for(var a=0,l=0,c=i;c&&c.nodeType;){a+=c.offsetLeft||0,l+=c.offsetTop||0,c=c.offsetParent}return{x:a,y:l}}var u,d,z=this,f=z.dom,C=f.getRoot(),E,y;if("BODY"!=C.nodeName){var B=z.getScrollContainer();if(B){return u=D(A).y-D(B).y,y=B.clientHeight,E=B.scrollTop,void ((E>u||u+25>E+y)&&(B.scrollTop=E>u?u:u-y+25))}}d=f.getViewPort(z.editor.getWin()),u=f.getPos(A).y,E=d.y,y=d.h,(u<d.y||u+25>E+y)&&z.editor.getWin().scrollTo(0,E>u?u:u-y+25)},_moveEndPoint:function(e,o,l){var d=o,c=new p(o,d),f=this.dom.schema.getNonEmptyElements();do{if(3==o.nodeType&&0!==q(o.nodeValue).length){return void (l?e.setStart(o,0):e.setEnd(o,o.nodeValue.length))}if(f[o.nodeName]){return void (l?e.setStartBefore(o):"BR"==o.nodeName?e.setEndBefore(o):e.setEndAfter(o))}if(g.ie&&g.ie<11&&this.dom.isBlock(o)&&this.dom.isEmpty(o)){return void (l?e.setStart(o,0):e.setEnd(o,0))}}while(o=l?c.next():c.prev());"BODY"==d.nodeName&&(l?e.setStart(d,0):e.setEnd(d,d.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},x}),aF(by,[aU],function(b){function a(j,n){function d(i){return i.replace(/%(\w+)/g,"")}var h,f,m=j.dom,p="",g,k;if(k=j.settings.preview_styles,k===!1){return""}if(k||(k="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof n){if(n=j.formatter.get(n),!n){return}n=n[0]}return h=n.block||n.inline||"span",f=m.create(h),c(n.styles,function(l,i){l=d(l),l&&m.setStyle(f,i,l)}),c(n.attributes,function(l,i){l=d(l),l&&m.setAttrib(f,i,l)}),c(n.classes,function(i){i=d(i),m.hasClass(f,i)||m.addClass(f,i)}),j.fire("PreviewFormats"),m.setStyles(f,{position:"absolute",left:-65535}),j.getBody().appendChild(f),g=m.getStyle(j.getBody(),"fontSize",!0),g=/px$/.test(g)?parseInt(g,10):0,c(k.split(" "),function(e){var i=m.getStyle(f,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(i)&&(i=m.getStyle(j.getBody(),e,!0),"#ffffff"==m.toHex(i).toLowerCase())||"color"==e&&"#000000"==m.toHex(i).toLowerCase())){if("font-size"==e&&/em|%$/.test(i)){if(0===g){return}i=parseFloat(i,10)/(/%$/.test(i)?100:1),i=i*g+"px"}"border"==e&&i&&(p+="padding:0 2px;"),p+=e+":"+i+";"}}),j.fire("AfterPreviewFormats"),m.remove(f),p}var c=b.each;return{getCssText:a}}),aF(bp,[aC,bC,aU,by],function(c,a,d,b){return function(cC){function cw(f){return f.nodeType&&(f=f.nodeName),!!cC.schema.getTextBlockElements()[f.toLowerCase()]}function cK(g,f){return cm.getParents(g,f,cm.getRoot())}function cs(f){return 1===f.nodeType&&"_mce_caret"===f.id}function cy(){cr({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(g,f,h){cA(h,function(i,j){cm.setAttrib(g,j,i)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),cA("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(f){cr(f,{block:f,remove:"all"})}),cr(cC.settings.formats)}function cI(){cC.addShortcut("ctrl+b","bold_desc","Bold"),cC.addShortcut("ctrl+i","italic_desc","Italic"),cC.addShortcut("ctrl+u","underline_desc","Underline");for(var f=1;6>=f;f++){cC.addShortcut("ctrl+"+f,"",["FormatBlock",!1,"h"+f])}cC.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),cC.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),cC.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function cH(f){return f?cc[f]:cc}function cr(g,f){g&&("string"!=typeof g?cA(g,function(i,h){cr(h,i)}):(f=f.length?f:[f],cA(f,function(h){h.deep===b1&&(h.deep=!h.selector),h.split===b1&&(h.split=!h.selector||h.inline),h.remove===b1&&h.selector&&!h.inline&&(h.remove="none"),h.selector&&h.inline&&(h.mixed=!0,h.block_expand=!0),"string"==typeof h.classes&&(h.classes=h.classes.split(/\s+/))}),cc[g]=f))}function cG(g){var f;return cC.dom.getParent(g,function(h){return f=cC.dom.getStyle(h,"text-decoration"),f&&"none"!==f}),f}function cv(g){var f;1===g.nodeType&&g.parentNode&&1===g.parentNode.nodeType&&(f=cG(g.parentNode),cC.dom.getStyle(g,"color")&&f?cC.dom.setStyle(g,"text-decoration",f):cC.dom.getStyle(g,"textdecoration")===f&&cC.dom.setStyle(g,"text-decoration",null))}function cx(A,k,i){function x(h,g){if(g=g||o,h){if(g.onformat&&g.onformat(h,g,k,i),cA(g.styles,function(l,u){cm.setStyle(h,u,bZ(l,k))}),g.styles){var f=cm.getAttrib(h,"style");f&&h.setAttribute("data-mce-style",f)}cA(g.attributes,function(l,u){cm.setAttrib(h,u,bZ(l,k))}),cA(g.classes,function(l){l=bZ(l,k),cm.hasClass(h,l)||cm.addClass(h,l)})}}function m(){function h(C,D){var l=new c(D);for(i=l.current();i;i=l.prev()){if(i.childNodes.length>1||i==C||"BR"==i.tagName){return i}}}var B=cC.selection.getRng(),y=B.startContainer,g=B.endContainer;if(y!=g&&0===B.endOffset){var u=h(y,g),f=3==u.nodeType?u.length:u.childNodes.length;B.setEnd(u,f)}return B}function s(B,F,h,f,y){var g=[],E=-1,G,u=-1,D=-1,C;return cA(B.childNodes,function(H,l){return"UL"===H.nodeName||"OL"===H.nodeName?(E=l,G=H,!1):void 0}),cA(B.childNodes,function(l,H){"SPAN"===l.nodeName&&"bookmark"==cm.getAttrib(l,"data-mce-type")&&(l.id==F.id+"_start"?u=H:l.id==F.id+"_end"&&(D=H))}),0>=E||E>u&&D>E?(cA(ck(B.childNodes),y),0):(C=cm.clone(h,cb),cA(ck(B.childNodes),function(H,l){(E>u&&E>l||u>E&&l>E)&&(g.push(H),H.parentNode.removeChild(H))}),E>u?B.insertBefore(C,G):u>E&&B.insertBefore(C,G.nextSibling),f.push(C),cA(g,function(l){C.appendChild(l)}),C)}function z(C,y,h){var f=[],D,g,B=!0;D=o.inline||o.block,g=cm.create(D),x(g),at.walk(C,function(E){function l(I){var K,J,F,G,H;return H=B,K=I.nodeName.toLowerCase(),J=I.parentNode.nodeName.toLowerCase(),1===I.nodeType&&e(I)&&(H=B,B="true"===e(I),G=!0),cd(K,"br")?(u=0,void (o.block&&cm.remove(I))):o.wrapper&&cq(I,A,k)?void (u=0):B&&!G&&o.block&&!o.wrapper&&cw(K)&&bt(J,D)?(I=cm.rename(I,D),x(I),f.push(I),void (u=0)):o.selector&&(cA(q,function(L){"collapsed" in L&&L.collapsed!==v||cm.is(I,L.selector)&&!cs(I)&&(x(I,L),F=!0)}),!o.inline||F)?void (u=0):void (!B||G||!bt(D,K)||!bt(J,D)||!h&&3===I.nodeType&&1===I.nodeValue.length&&65279===I.nodeValue.charCodeAt(0)||cs(I)||o.inline&&ct(I)?"li"==K&&y?u=s(I,y,g,f,l):(u=0,cA(ck(I.childNodes),l),G&&(B=H),u=0):(u||(u=cm.clone(g,cb),I.parentNode.insertBefore(u,I),f.push(u)),u.appendChild(I)))}var u;cA(E,l)}),o.wrap_links===!1&&cA(f,function(u){function l(G){var H,F,E;if("A"===G.nodeName){for(F=cm.clone(g,cb),f.push(F),E=ck(G.childNodes),H=0;H<E.length;H++){F.appendChild(E[H])}G.appendChild(F)}cA(ck(G.childNodes),l)}l(u)}),cA(f,function(E){function u(H){var G=0;return cA(H.childNodes,function(I){bY(I)||b5(I)||G++}),G}function l(H){var G,I;return cA(H.childNodes,function(J){return 1!=J.nodeType||b5(J)||cs(J)?void 0:(G=J,cb)}),G&&!b5(G)&&cL(G,o)&&(I=cm.clone(G,cb),x(I),cm.replace(I,H,r),cm.remove(G,1)),I||H}var F;if(F=u(E),(f.length>1||!ct(E))&&0===F){return void cm.remove(E,1)}if(o.inline||o.wrapper){if(o.exact||1!==F||(E=l(E)),cA(q,function(G){cA(cm.select(G.inline,E),function(I){var H;if(!b5(I)){if(G.wrap_links===!1){H=I.parentNode;do{if("A"===H.nodeName){return}}while(H=H.parentNode)}cg(G,k,I,G.exact?I:null)}})}),cq(E.parentNode,A,k)){return cm.remove(E,1),E=0,r}o.merge_with_parents&&cm.getParent(E.parentNode,function(G){return cq(G,A,k)?(cm.remove(E,1),E=0,r):void 0}),E&&o.merge_siblings!==!1&&(E=ca(b6(E),E),E=ca(E,b6(E,r)))}})}var q=cH(A),o=q[0],p,w,v=!i&&t.isCollapsed();if(o){if(i){i.nodeType?(w=cm.createRng(),w.setStartBefore(i),w.setEndAfter(i),z(ch(w,q),null,!0)):z(i,null,!0)}else{if(v&&o.inline&&!cm.select("td.mce-item-selected,th.mce-item-selected").length){b3("apply",A,k)}else{var j=cC.selection.getNode();cB||!q[0].defaultBlock||cm.getParent(j,cm.isBlock)||cx(q[0].defaultBlock),cC.selection.setRng(m()),p=t.getBookmark(),z(ch(t.getRng(r),q),p),o.styles&&(o.styles.color||o.styles.textDecoration)&&(ci(j,cv,"childNodes"),cv(j)),t.moveToBookmark(p),b9(t.getRng(r)),cC.nodeChanged()}}}}function cD(y,C,k){function f(m){var u,h,p,g,l;if(1===m.nodeType&&e(m)&&(g=A,A="true"===e(m),l=!0),u=ck(m.childNodes),A&&!l){for(h=0,p=i.length;p>h&&!cg(i[h],C,m,m);h++){}}if(q.deep&&u.length){for(h=0,p=u.length;p>h;h++){f(u[h])}l&&(A=g)}}function j(h){var g;return cA(cK(h.parentNode).reverse(),function(m){var l;g||"_start"==m.id||"_end"==m.id||(l=cq(m,y,C),l&&l.split!==!1&&(g=m))}),g}function D(E,m,g,u){var h,H,I,p,G,F;if(E){for(F=E.parentNode,h=m.parentNode;h&&h!=F;h=h.parentNode){for(H=cm.clone(h,cb),G=0;G<i.length;G++){if(cg(i[G],C,H,H)){H=0;break}}H&&(I&&H.appendChild(I),p||(p=H),I=H)}!u||q.mixed&&ct(E)||(m=cm.split(E,m)),I&&(g.parentNode.insertBefore(I,g),p.appendChild(g))}return m}function v(g){return D(j(g),g,g,!0)}function z(h){var g=cm.get(h?"_start":"_end"),l=g[h?"firstChild":"lastChild"];return b5(l)&&(l=l[h?"firstChild":"lastChild"]),cm.remove(g,!0),l}function B(h){var g,m,l=h.commonAncestorContainer;h=ch(h,i,r),q.split&&(g=b2(h,r),m=b2(h),g!=m?(/^(TR|TH|TD)$/.test(g.nodeName)&&g.firstChild&&(g="TR"==g.nodeName?g.firstChild.firstChild||g:g.firstChild||g),l&&/^T(HEAD|BODY|FOOT|R)$/.test(l.nodeName)&&/^(TH|TD)$/.test(m.nodeName)&&m.firstChild&&(m=m.firstChild||m),g=b0(g,"span",{id:"_start","data-mce-type":"bookmark"}),m=b0(m,"span",{id:"_end","data-mce-type":"bookmark"}),v(g),v(m),g=z(r),m=z()):g=m=v(g),h.startContainer=g.parentNode,h.startOffset=cl(g),h.endContainer=m.parentNode,h.endOffset=cl(m)+1),at.walk(h,function(o){cA(o,function(p){f(p),1===p.nodeType&&"underline"===cC.dom.getStyle(p,"text-decoration")&&p.parentNode&&"underline"===cG(p.parentNode)&&cg({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,p)})})}var i=cH(y),q=i[0],w,x,A=!0;return k?void (k.nodeType?(x=cm.createRng(),x.setStartBefore(k),x.setEndAfter(k),B(x)):B(k)):void (t.isCollapsed()&&q.inline&&!cm.select("td.mce-item-selected,th.mce-item-selected").length?b3("remove",y,C):(w=t.getBookmark(),B(t.getRng(r)),t.moveToBookmark(w),q.inline&&cn(y,C,t.getStart())&&b9(t.getRng(!0)),cC.nodeChanged()))}function cE(h,f,i){var g=cH(h);!cn(h,f,i)||"toggle" in g[0]&&!g[0].toggle?cx(h,f,i):cD(h,f,i)}function cq(m,q,h,f){function k(A,y,x){var B,w,z=y[x],v;if(y.onmatch){return y.onmatch(A,y,x)}if(z){if(z.length===b1){for(B in z){if(z.hasOwnProperty(B)){if(w="attributes"===x?cm.getAttrib(A,B):b4(A,B),f&&!w&&!y.exact){return}if((!f||y.exact)&&!cd(w,cz(bZ(z[B],h),B))){return}}}}else{for(v=0;v<z.length;v++){if("attributes"===x?cm.getAttrib(A,z[v]):b4(A,z[v])){return y}}}}return y}var g=cH(q),p,u,j;if(g&&m){for(u=0;u<g.length;u++){if(p=g[u],cL(m,p)&&k(m,p,"attributes")&&k(m,p,"styles")){if(j=p.classes){for(u=0;u<j.length;u++){if(!cm.hasClass(m,j[u])){return}}}return p}}}}function cn(j,g,k){function h(l){var i=cm.getRoot();return l===i?!1:(l=cm.getParent(l,function(m){return m.parentNode===i||!!cq(m,j,g,!0)}),cq(l,j,g))}var f;return k?h(k):(k=t.getNode(),h(k)?r:(f=t.getStart(),f!=k&&h(f)?r:cb))}function cJ(j,g){var k,h=[],f={};return k=t.getStart(),cm.getParent(k,function(m){var l,i;for(l=0;l<j.length;l++){i=j[l],!f[i]&&cq(m,i,g)&&(f[i]=!0,h.push(i))}},cm.getRoot()),h}function cf(k){var g=cH(k),m,j,f,l,h;if(g){for(m=t.getStart(),j=cK(m),l=g.length-1;l>=0;l--){if(h=g[l].selector,!h||g[l].defaultBlock){return r}for(f=j.length-1;f>=0;f--){if(cm.is(j[f],h)){return r}}}}return cb}function co(h,f,i){var g;return b8||(b8={},g={},cC.on("NodeChange",function(k){var j=cK(k.element),l={};cA(b8,function(o,m){cA(j,function(p){return cq(p,m,{},o.similar)?(g[m]||(cA(o,function(q){q(!0,{node:p,format:m,parents:j})}),g[m]=o),l[m]=o,!1):void 0})}),cA(g,function(m,p){l[p]||(delete g[p],cA(m,function(o){o(!1,{node:k.element,format:p,parents:j})}))})})),cA(h.split(","),function(j){b8[j]||(b8[j]=[],b8[j].similar=i),b8[j].push(f)}),this}function cp(f){return b.getCssText(cC,f)}function cL(g,f){return cd(g,f.inline)?r:cd(g,f.block)?r:f.selector?1==g.nodeType&&cm.is(g,f.selector):void 0}function cd(g,f){return g=g||"",f=f||"",g=""+(g.nodeName||g),f=""+(f.nodeName||f),g.toLowerCase()==f.toLowerCase()}function b4(g,f){return cz(cm.getStyle(g,f),f)}function cz(g,f){return("color"==f||"backgroundColor"==f)&&(g=cm.toHex(g)),"fontWeight"==f&&700==g&&(g="bold"),"fontFamily"==f&&(g=g.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+g}function bZ(g,f){return"string"!=typeof g?g=g(f):f&&(g=g.replace(/%(\w+)/g,function(h,i){return f[i]||h})),g}function bY(f){return f&&3===f.nodeType&&/^([\t \r\n]+|)$/.test(f.nodeValue)}function b0(h,f,i){var g=cm.create(f,i);return h.parentNode.insertBefore(g,h),g.appendChild(h),g}function ch(G,k,i){function H(p){function h(s){return"BR"==s.nodeName&&s.getAttribute("data-mce-bogus")&&!s.nextSibling}var m,g,u,f,l;if(m=g=p?x:D,f=p?"previousSibling":"nextSibling",l=cm.getRoot(),3==m.nodeType&&!bY(m)&&(p?E>0:C<m.nodeValue.length)){return m}for(;;){if(!k[0].block_expand&&ct(g)){return g}for(u=g[f];u;u=u[f]){if(!b5(u)&&!bY(u)&&!h(u)){return g}}if(g.parentNode==l){m=g;break}g=g.parentNode}return m}function q(g,f){for(f===b1&&(f=3===g.nodeType?g.length:g.childNodes.length);g&&g.hasChildNodes();){g=g.childNodes[f],g&&(f=3===g.nodeType?g.length:g.childNodes.length)}return{node:g,offset:f}}function B(g){for(var f=g;f;){if(1===f.nodeType&&e(f)){return"false"===e(f)?f:g}f=f.parentNode}return g}function A(h,y,u){function g(J,I){var K,s,l=J.nodeValue;return"undefined"==typeof I&&(I=u?l.length:0),u?(K=l.lastIndexOf(" ",I),s=l.lastIndexOf("\xa0",I),K=K>s?K:s,-1===K||i||K++):(K=l.indexOf(" ",I),s=l.indexOf("\xa0",I),K=-1!==K&&(-1===s||s>K)?K:s),K}var m,f,v,p;if(3===h.nodeType){if(v=g(h,y),-1!==v){return{container:h,offset:v}}p=h}for(m=new c(h,cm.getParent(h,ct)||cC.getBody());f=m[u?"prev":"next"]();){if(3===f.nodeType){if(p=f,v=g(f),-1!==v){return{container:f,offset:v}}}else{if(ct(f)){break}}}return p?(y=u?0:p.length,{container:p,offset:y}):void 0}function F(p,m){var g,u,h,f;for(3==p.nodeType&&0===p.nodeValue.length&&p[m]&&(p=p[m]),g=cK(p),u=0;u<g.length;u++){for(h=0;h<k.length;h++){if(f=k[h],!("collapsed" in f&&f.collapsed!==G.collapsed)&&cm.is(g[u],f.selector)){return g[u]}}}return p}function z(l,g){var h,f=cm.getRoot();if(k[0].wrapper||(h=cm.getParent(l,k[0].block,f)),h||(h=cm.getParent(3==l.nodeType?l.parentNode:l,function(m){return m!=f&&cw(m)})),h&&k[0].wrapper&&(h=cK(h,"ul,ol").reverse()[0]||h),!h){for(h=l;h[g]&&!ct(h[g])&&(h=h[g],!cd(h,"br"));){}}return h||l}var j,o,w,x=G.startContainer,E=G.startOffset,D=G.endContainer,C=G.endOffset;if(1==x.nodeType&&x.hasChildNodes()&&(j=x.childNodes.length-1,x=x.childNodes[E>j?j:E],3==x.nodeType&&(E=0)),1==D.nodeType&&D.hasChildNodes()&&(j=D.childNodes.length-1,D=D.childNodes[C>j?j:C-1],3==D.nodeType&&(C=D.nodeValue.length)),x=B(x),D=B(D),(b5(x.parentNode)||b5(x))&&(x=b5(x)?x:x.parentNode,x=x.nextSibling||x,3==x.nodeType&&(E=0)),(b5(D.parentNode)||b5(D))&&(D=b5(D)?D:D.parentNode,D=D.previousSibling||D,3==D.nodeType&&(C=D.length)),k[0].inline&&(G.collapsed&&(w=A(x,E,!0),w&&(x=w.container,E=w.offset),w=A(D,C),w&&(D=w.container,C=w.offset)),o=q(D,C),o.node)){for(;o.node&&0===o.offset&&o.node.previousSibling;){o=q(o.node.previousSibling)}o.node&&o.offset>0&&3===o.node.nodeType&&" "===o.node.nodeValue.charAt(o.offset-1)&&o.offset>1&&(D=o.node,D.splitText(o.offset-1))}return(k[0].inline||k[0].block_expand)&&(k[0].inline&&3==x.nodeType&&0!==E||(x=H(!0)),k[0].inline&&3==D.nodeType&&C!==D.nodeValue.length||(D=H())),k[0].selector&&k[0].expand!==cb&&!k[0].inline&&(x=F(x,"previousSibling"),D=F(D,"nextSibling")),(k[0].block||k[0].selector)&&(x=z(x,"previousSibling"),D=z(D,"nextSibling"),k[0].block&&(ct(x)||(x=H(!0)),ct(D)||(D=H()))),1==x.nodeType&&(E=cl(x),x=x.parentNode),1==D.nodeType&&(C=cl(D)+1,D=D.parentNode),{startContainer:x,startOffset:E,endContainer:D,endOffset:C}}function cg(k,h,m,j){var g,l,f;if(!cL(m,k)){return cb}if("all"!=k.remove){for(cA(k.styles,function(p,o){p=cz(bZ(p,h),o),"number"==typeof o&&(o=p,j=0),(!j||cd(b4(j,o),p))&&cm.setStyle(m,o,""),f=1}),f&&""===cm.getAttrib(m,"style")&&(m.removeAttribute("style"),m.removeAttribute("data-mce-style")),cA(k.attributes,function(q,p){var s;if(q=bZ(q,h),"number"==typeof p&&(p=q,j=0),!j||cd(cm.getAttrib(j,p),q)){if("class"==p&&(q=cm.getAttrib(m,p),q&&(s="",cA(q.split(/\s+/),function(i){/mce\w+/.test(i)&&(s+=(s?" ":"")+i)}),s))){return void cm.setAttrib(m,p,s)}"class"==p&&m.removeAttribute("className"),n.test(p)&&m.removeAttribute("data-mce-"+p),m.removeAttribute(p)}}),cA(k.classes,function(i){i=bZ(i,h),(!j||cm.hasClass(j,i))&&cm.removeClass(m,i)}),l=cm.getAttribs(m),g=0;g<l.length;g++){if(0!==l[g].nodeName.indexOf("_")){return cb}}}return"none"!=k.remove?(ce(m,k),r):void 0}function ce(h,f){function j(l,k,m){return l=b6(l,k,m),!l||"BR"==l.nodeName||ct(l)}var g=h.parentNode,i;f.block&&(cB?g==cm.getRoot()&&(f.list_block&&cd(h,f.list_block)||cA(ck(h.childNodes),function(k){bt(cB,k.nodeName.toLowerCase())?i?i.appendChild(k):(i=b0(k,cB),cm.setAttribs(i,cC.settings.forced_root_block_attrs)):i=0})):ct(h)&&!ct(g)&&(j(h,cb)||j(h.firstChild,r,1)||h.insertBefore(cm.create("br"),h.firstChild),j(h,r)||j(h.lastChild,cb,1)||h.appendChild(cm.create("br")))),f.selector&&f.inline&&!cd(f.inline,h)||cm.remove(h,1)}function b6(g,f,h){if(g){for(f=f?"nextSibling":"previousSibling",g=h?g:g[f];g;g=g[f]){if(1==g.nodeType||!bY(g)){return g}}}}function b5(f){return f&&1==f.nodeType&&"bookmark"==f.getAttribute("data-mce-type")}function ca(j,g){function l(o,i){function p(s){var q={};return cA(cm.getAttribs(s),function(v){var u=v.nodeName.toLowerCase();0!==u.indexOf("_")&&"style"!==u&&"data-mce-style"!==u&&(q[u]=cm.getAttrib(s,u))}),q}function m(u,q){var v,s;for(s in u){if(u.hasOwnProperty(s)){if(v=q[s],v===b1){return cb}if(u[s]!=v){return cb}delete q[s]}}for(s in q){if(q.hasOwnProperty(s)){return cb}}return r}return o.nodeName!=i.nodeName?cb:m(p(o),p(i))&&m(cm.parseStyle(cm.getAttrib(o,"style")),cm.parseStyle(cm.getAttrib(i,"style")))?!b5(o)&&!b5(i):cb}function h(m,i){for(f=m;f;f=f[i]){if(3==f.nodeType&&0!==f.nodeValue.length){return m}if(1==f.nodeType&&!b5(f)){return f}}return m}var f,k;if(j&&g&&(j=h(j,"previousSibling"),g=h(g,"nextSibling"),l(j,g))){for(f=j.nextSibling;f&&f!=g;){k=f,f=f.nextSibling,j.appendChild(k)}return cm.remove(g),cA(ck(g.childNodes),function(i){j.appendChild(i)}),j}return g}function b2(g,j){var h,i,f;return h=g[j?"startContainer":"endContainer"],i=g[j?"startOffset":"endOffset"],1==h.nodeType&&(f=h.childNodes.length-1,!j&&i&&i--,h=h.childNodes[i>f?f:i]),3===h.nodeType&&j&&i>=h.nodeValue.length&&(h=new c(h,cC.getBody()).next()||h),3!==h.nodeType||j||0!==i||(h=new c(h,cC.getBody()).prev()||h),h}function b3(A,j,h){function x(g){var f=cm.create("span",{id:w,"data-mce-bogus":!0,style:v?"color:red":""});return g&&f.appendChild(cC.getDoc().createTextNode(b7)),f}function B(g,f){for(;g;){if(3===g.nodeType&&g.nodeValue!==b7||g.childNodes.length>1){return !1}f&&1===g.nodeType&&f.push(g),g=g.firstChild}return !0}function k(f){for(;f;){if(f.id===w){return f}f=f.parentNode}}function q(f){var g;if(f){for(g=new c(f,f),f=g.current();f;f=g.next()){if(3===f.nodeType){return f}}}}function z(l,f){var p,g;if(l){g=t.getRng(!0),B(l)?(f!==!1&&(g.setStartBefore(l),g.setEndBefore(l)),cm.remove(l)):(p=q(l),p.nodeValue.charAt(0)===b7&&(p=p.deleteData(0,1)),cm.remove(l,1)),t.setRng(g)}else{if(l=k(t.getStart()),!l){for(;l=cm.get(w);){z(l,!1)}}}}function o(){var D,p,l,E,y,g,C;D=t.getRng(!0),E=D.startOffset,g=D.startContainer,C=g.nodeValue,p=k(t.getStart()),p&&(l=q(p)),C&&E>0&&E<C.length&&/\w/.test(C.charAt(E))&&/\w/.test(C.charAt(E-1))?(y=t.getBookmark(),D.collapse(!0),D=ch(D,cH(j)),D=at.split(D),cx(j,h,D),t.moveToBookmark(y)):(p&&l.nodeValue===b7?cx(j,h,p):(p=x(!0),l=p.firstChild,D.insertNode(p),E=1,cx(j,h,p)),t.setCursorLocation(l,E))}function i(){var H=t.getRng(!0),K,E,L,D,I,J,G=[],y,C;for(K=H.startContainer,E=H.startOffset,I=K,3==K.nodeType&&((E!=K.nodeValue.length||K.nodeValue===b7)&&(D=!0),I=I.parentNode);I;){if(cq(I,j,h)){J=I;break}I.nextSibling&&(D=!0),G.push(I),I=I.parentNode}if(J){if(D){L=t.getBookmark(),H.collapse(!0),H=ch(H,cH(j),!0),H=at.split(H),cD(j,h,H),t.moveToBookmark(L)}else{for(C=x(),I=C,y=G.length-1;y>=0;y--){I.appendChild(cm.clone(G[y],!1)),I=I.firstChild}I.appendChild(cm.doc.createTextNode(b7)),I=I.firstChild;var F=cm.getParent(J,cw);F&&cm.isEmpty(F)?J.parentNode.replaceChild(C,J):cm.insertAfter(C,J),t.setCursorLocation(I,1),cm.isEmpty(J)&&cm.remove(J)}}}function m(){var f;f=k(t.getStart()),f&&!cm.isEmpty(f)&&ci(f,function(g){1!=g.nodeType||g.id===w||cm.isEmpty(g)||cm.setAttrib(g,"data-mce-bogus",null)},"childNodes")}var w="_mce_caret",v=cC.settings.caret_debug;cC._hasCaretEvents||(cF=function(){var g=[],f;if(B(k(t.getStart()),g)){for(f=g.length;f--;){cm.setAttrib(g[f],"data-mce-bogus","1")}}},cu=function(g){var f=g.keyCode;z(),(8==f||37==f||39==f)&&z(k(t.getStart())),m()},cC.on("SetContent",function(f){f.selection&&m()}),cC._hasCaretEvents=!0),"apply"==A?o():i()}function b9(j){var q=j.startContainer,m=j.startOffset,h,p,g,k,f;if(3==q.nodeType&&m>=q.nodeValue.length&&(m=cl(q),q=q.parentNode,h=!0),1==q.nodeType){for(k=q.childNodes,q=k[Math.min(m,k.length-1)],p=new c(q,cm.getParent(q,cm.isBlock)),(m>k.length-1||h)&&p.next(),g=p.current();g;g=p.next()){if(3==g.nodeType&&!bY(g)){return f=cm.create("a",null,b7),g.parentNode.insertBefore(f,g),j.setStart(g,0),t.setRng(j),void cm.remove(f)}}}}var cc={},cm=cC.dom,t=cC.selection,at=new a(cm),bt=cC.schema.isValidChild,ct=cm.isBlock,cB=cC.settings.forced_root_block,cl=cm.nodeIndex,b7="\ufeff",n=/^(src|href|style)$/,cb=!1,r=!0,b8,b1,e=cm.getContentEditable,cu,cF,cA=d.each,ck=d.grep,ci=d.walk,cj=d.extend;cj(this,{get:cH,register:cr,apply:cx,remove:cD,toggle:cE,match:cn,matchAll:cJ,matchNode:cq,canApply:cf,formatChanged:co,getCssText:cp}),cy(),cI(),cC.on("BeforeGetContent",function(){cF&&cF()}),cC.on("mouseup keydown",function(f){cu&&cu(f)})}}),aF(bo,[aS,aU],function(c,a){var d=a.trim,b;return b=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(n){function g(){return d(n.getContent({format:"raw",no_events:1}).replace(b,""))}function e(i){k.typing=!1,k.add({},i)}var k=this,p=0,f=[],j,h,m=0;return n.on("init",function(){k.add()}),n.on("BeforeExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&k.beforeChange()}),n.on("ExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&e(l)}),n.on("ObjectResizeStart",function(){k.beforeChange()}),n.on("SaveContent ObjectResized blur",e),n.on("DragEnd",e),n.on("KeyUp",function(l){var i=l.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||l.ctrlKey)&&(e(),n.nodeChanged()),(46==i||8==i||c.mac&&(91==i||93==i))&&n.nodeChanged(),h&&k.typing&&(n.isDirty()||(n.isNotDirty=!f[0]||g()==f[0].content,n.isNotDirty||n.fire("change",{level:f[0],lastLevel:null})),n.fire("TypingUndo"),h=!1,n.nodeChanged())}),n.on("KeyDown",function(l){var i=l.keyCode;return i>=33&&36>=i||i>=37&&40>=i||45==i?void (k.typing&&e(l)):void ((16>i||i>20)&&224!=i&&91!=i&&!k.typing&&(k.beforeChange(),k.typing=!0,k.add({},l),h=!0))}),n.on("MouseDown",function(i){k.typing&&e(i)}),n.addShortcut("ctrl+z","","Undo"),n.addShortcut("ctrl+y,ctrl+shift+z","","Redo"),n.on("AddUndo Undo Redo ClearUndos MouseUp",function(i){i.isDefaultPrevented()||n.nodeChanged()}),k={data:f,typing:!1,beforeChange:function(){m||(j=n.selection.getBookmark(2,!0))},add:function(q,u){var l,t=n.settings,i;if(q=q||{},q.content=g(),m||n.removed){return null}if(i=f[p],n.fire("BeforeAddUndo",{level:q,lastLevel:i,originalEvent:u}).isDefaultPrevented()){return null}if(i&&i.content==q.content){return null}if(f[p]&&(f[p].beforeBookmark=j),t.custom_undo_redo_levels&&f.length>t.custom_undo_redo_levels){for(l=0;l<f.length-1;l++){f[l]=f[l+1]}f.length--,p=f.length}q.bookmark=n.selection.getBookmark(2,!0),p<f.length-1&&(f.length=p+1),f.push(q),p=f.length-1;var s={level:q,lastLevel:i,originalEvent:u};return n.fire("AddUndo",s),p>0&&(n.isNotDirty=!1,n.fire("change",s)),q},undo:function(){var i;return k.typing&&(k.add(),k.typing=!1),p>0&&(i=f[--p],0===p&&(n.isNotDirty=!0),n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.beforeBookmark),n.fire("undo",{level:i})),i},redo:function(){var i;return p<f.length-1&&(i=f[++p],n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.bookmark),n.fire("redo",{level:i})),i},clear:function(){f=[],p=0,k.typing=!1,n.fire("ClearUndos")},hasUndo:function(){return p>0||k.typing&&f[0]&&g()!=f[0].content},hasRedo:function(){return p<f.length-1&&!this.typing},transact:function(i){k.beforeChange();try{m++,i()}finally{m--}k.add()}}}}),aF(bu,[aC,bC,aS],function(c,a,d){var b=d.ie&&d.ie<11;return function(h){function m(b1){function b6(o){return o&&f.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&"true"!==f.getContentEditable(o)}function b0(p){var o;f.isBlock(p)&&(o=j.getRng(),p.appendChild(f.create("span",null,"\xa0")),j.select(p),p.lastChild.outerHTML="",j.setRng(o))}function b2(v){for(var o=v,w=[],p;o=o.firstChild;){if(f.isBlock(o)){return}1!=o.nodeType||g[o.nodeName.toLowerCase()]||w.push(o)}for(p=w.length;p--;){o=w[p],!o.hasChildNodes()||o.firstChild==o.lastChild&&""===o.firstChild.nodeValue?f.remove(o):"A"==o.nodeName&&" "===(o.innerText||o.textContent)&&f.remove(o)}}function b4(w){function x(o){for(;o;){if(1==o.nodeType||3==o.nodeType&&o.data&&/[\r\n\s]/.test(o.data)){return o}o=o.nextSibling}}var v,A,p,B=w,z;if(d.ie&&d.ie<9&&bY&&bY.firstChild&&bY.firstChild==bY.lastChild&&"BR"==bY.firstChild.tagName&&f.remove(bY.firstChild),"LI"==w.nodeName){var y=x(w.firstChild);y&&/^(UL|OL)$/.test(y.nodeName)&&w.insertBefore(f.doc.createTextNode("\xa0"),w.firstChild)}if(p=f.createRng(),w.hasChildNodes()){for(v=new c(w,w);A=v.current();){if(3==A.nodeType){p.setStart(A,0),p.setEnd(A,0);break}if(g[A.nodeName.toLowerCase()]){p.setStartBefore(A),p.setEndBefore(A);break}B=A,A=v.next()}A||(p.setStart(B,0),p.setEnd(B,0))}else{"BR"==w.nodeName?w.nextSibling&&f.isBlock(w.nextSibling)?((!at||9>at)&&(z=f.create("br"),w.parentNode.insertBefore(z,w)),p.setStartBefore(w),p.setEndBefore(w)):(p.setStartAfter(w),p.setEndAfter(w)):(p.setStart(w,0),p.setEnd(w,0))}j.setRng(p),f.remove(z),j.scrollIntoView(w)}function b5(p){var o=e.forced_root_block;o&&o.toLowerCase()===p.tagName.toLowerCase()&&f.setAttribs(p,e.forced_root_block_attrs)}function X(w){var v=q,y,p,x;if(w||"TABLE"==s?(y=f.create(w||Y),b5(y)):y=bY.cloneNode(!1),x=y,e.keep_styles!==!1){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U|VAR|CITE|DFN|CODE|MARK|Q|SUP|SUB|SAMP)$/.test(v.nodeName)){if("_mce_caret"==v.id){continue}p=v.cloneNode(!1),f.setAttrib(p,"id",""),y.hasChildNodes()?(p.appendChild(y.firstChild),y.appendChild(p)):(x=p,y.appendChild(p))}}while(v=v.parentNode)}return b||(x.innerHTML='<br data-mce-bogus="1">'),y}function K(p){var w,v,o;if(3==q.nodeType&&(p?bZ>0:bZ<q.nodeValue.length)){return !1}if(q.parentNode==bY&&J&&!p){return !0}if(p&&1==q.nodeType&&q==bY.firstChild){return !0}if("TABLE"===q.nodeName||q.previousSibling&&"TABLE"==q.previousSibling.nodeName){return J&&!p||!J&&p}for(w=new c(q,bY),3==q.nodeType&&(p&&0===bZ?w.prev():p||bZ!=q.nodeValue.length||w.next());v=w.current();){if(1===v.nodeType){if(!v.getAttribute("data-mce-bogus")&&(o=v.nodeName.toLowerCase(),g[o]&&"br"!==o)){return !1}}else{if(3===v.nodeType&&!/^[ \t\r\n]*$/.test(v.nodeValue)){return !1}}p?w.prev():w.next()}return !0}function b7(y,B){var w,p,v,C,x,z,A=Y||"P";if(p=f.getParent(y,f.isBlock),z=h.getBody().nodeName.toLowerCase(),!p||!b6(p)){if(p=p||i,!p.hasChildNodes()){return w=f.create(A),b5(w),p.appendChild(w),b3.setStart(w,0),b3.setEnd(w,0),w}for(C=y;C.parentNode!=p;){C=C.parentNode}for(;C&&!f.isBlock(C);){v=C,C=C.previousSibling}if(v&&k.isValidChild(z,A.toLowerCase())){for(w=f.create(A),b5(w),v.parentNode.insertBefore(w,v),C=v;C&&!f.isBlock(C);){x=C.nextSibling,w.appendChild(C),C=x}b3.setStart(y,B),b3.setEnd(y,B)}}return y}function bt(){function p(x){for(var w=r[x?"firstChild":"lastChild"];w&&1!=w.nodeType;){w=w[x?"nextSibling":"previousSibling"]}return w===bY}function o(){var w=r.parentNode;return"LI"==w.nodeName?w:r}var v=r.parentNode.nodeName;/^(OL|UL|LI)$/.test(v)&&(Y="LI"),u=Y?X(Y):f.create("BR"),p(!0)&&p()?"LI"==v?f.insertAfter(u,o()):f.replace(u,r):p(!0)?"LI"==v?(f.insertAfter(u,o()),u.appendChild(f.doc.createTextNode(" ")),u.appendChild(r)):r.parentNode.insertBefore(u,r):p()?(f.insertAfter(u,o()),b0(u)):(r=o(),l=b3.cloneRange(),l.setStartAfter(bY),l.setEndAfter(r),V=l.extractContents(),"LI"==Y&&"LI"==V.firstChild.nodeName?(u=V.firstChild,f.insertAfter(V,r)):(f.insertAfter(V,r),f.insertAfter(u,r))),f.remove(bY),b4(u),n.add()}function U(){for(var o=new c(q,bY),p;p=o.next();){if(g[p.nodeName.toLowerCase()]||p.length>0){return !0}}}function W(){var p,o,v;q&&3==q.nodeType&&bZ>=q.nodeValue.length&&(b||U()||(p=f.create("br"),b3.insertNode(p),b3.setStartAfter(p),b3.setEndAfter(p),o=!0)),p=f.create("br"),b3.insertNode(p),b&&"PRE"==s&&(!at||8>at)&&p.parentNode.insertBefore(f.doc.createTextNode("\r"),p),v=f.create("span",{},"&nbsp;"),p.parentNode.insertBefore(v,p),j.scrollIntoView(v),f.remove(v),o?(b3.setStartBefore(p),b3.setEndBefore(p)):(b3.setStartAfter(p),b3.setEndAfter(p)),j.setRng(b3),n.add()}function b8(o){do{3===o.nodeType&&(o.nodeValue=o.nodeValue.replace(/^[\r\n]+/,"")),o=o.firstChild}while(o)}function Z(v){var o=f.getRoot(),w,p;for(w=v;w!==o&&"false"!==f.getContentEditable(w);){"true"===f.getContentEditable(w)&&(p=w),w=w.parentNode}return w!==o?p:o}function t(p){var o;b||(p.normalize(),o=p.lastChild,(!o||/^(left|right)$/gi.test(f.getStyle(o,"float",!0)))&&f.add(p,"br"))}var b3,l,i,q,bZ,bY,at,G,u,V,r,s,Q,Y,J;if(b3=j.getRng(!0),!b1.isDefaultPrevented()){if(!b3.collapsed){return void h.execCommand("Delete")}if(new a(f).normalize(b3),q=b3.startContainer,bZ=b3.startOffset,Y=(e.force_p_newlines?"p":"")||e.forced_root_block,Y=Y?Y.toUpperCase():"",at=f.doc.documentMode,G=b1.shiftKey,1==q.nodeType&&q.hasChildNodes()&&(J=bZ>q.childNodes.length-1,q=q.childNodes[Math.min(bZ,q.childNodes.length-1)]||q,bZ=J&&3==q.nodeType?q.nodeValue.length:0),i=Z(q)){if(n.beforeChange(),!f.isBlock(i)&&i!=f.getRoot()){return void ((!Y||G)&&W())}if((Y&&!G||!Y&&G)&&(q=b7(q,bZ)),bY=f.getParent(q,f.isBlock),r=bY?f.getParent(bY.parentNode,f.isBlock):null,s=bY?bY.nodeName.toUpperCase():"",Q=r?r.nodeName.toUpperCase():"","LI"!=Q||b1.ctrlKey||(bY=r,s=Q),"LI"==s){if(!Y&&G){return void W()}if(f.isEmpty(bY)){return void bt()}}if("PRE"==s&&e.br_in_pre!==!1){if(!G){return void W()}}else{if(!Y&&!G&&"LI"!=s||Y&&G){return void W()}}Y&&bY===h.getBody()||(Y=Y||"P",K()?(u=/^(H[1-6]|PRE|FIGURE)$/.test(s)&&"HGROUP"!=Q?X(Y):X(),e.end_container_on_empty_block&&b6(r)&&f.isEmpty(bY)?u=f.split(r,bY):f.insertAfter(u,bY),b4(u)):K(!0)?(u=bY.parentNode.insertBefore(X(),bY),b0(u),b4(bY)):(l=b3.cloneRange(),l.setEndAfter(bY),V=l.extractContents(),b8(V),u=V.firstChild,f.insertAfter(V,bY),b2(u),t(bY),b4(u)),f.setAttrib(u,"id",""),h.fire("NewBlock",{newBlock:u}),n.add())}}}var f=h.dom,j=h.selection,e=h.settings,n=h.undoManager,k=h.schema,g=k.getNonEmptyElements();h.on("keydown",function(i){13==i.keyCode&&m(i)!==!1&&i.preventDefault()})}}),aF(bj,[],function(){return function(g){function d(){var F=c.getStart(),G=g.getBody(),k,w,r,E,q,e,i,n=-16777215,o,D,A,z,a;if(a=j.forced_root_block,F&&1===F.nodeType&&a){for(;F&&F!=G;){if(b[F.nodeName]){return}F=F.parentNode}if(k=c.getRng(),k.setStart){w=k.startContainer,r=k.startOffset,E=k.endContainer,q=k.endOffset;try{D=g.getDoc().activeElement===G}catch(B){}}else{k.item&&(F=k.item(0),k=g.getDoc().body.createTextRange(),k.moveToElementText(F)),D=k.parentElement().ownerDocument===g.getDoc(),A=k.duplicate(),A.collapse(!0),r=-1*A.move("character",n),A.collapsed||(A=k.duplicate(),A.collapse(!1),q=-1*A.move("character",n)-r)}for(F=G.firstChild,z=G.nodeName.toLowerCase();F;){if((3===F.nodeType||1==F.nodeType&&!b[F.nodeName])&&h.isValidChild(z,a.toLowerCase())){if(3===F.nodeType&&0===F.nodeValue.length){i=F,F=F.nextSibling,f.remove(i);continue}e||(e=f.create(a,g.settings.forced_root_block_attrs),F.parentNode.insertBefore(e,F),o=!0),i=F,F=F.nextSibling,e.appendChild(i)}else{e=null,F=F.nextSibling}}if(o&&D){if(k.setStart){k.setStart(w,r),k.setEnd(E,q),c.setRng(k)}else{try{k=g.getDoc().body.createTextRange(),k.moveToElementText(G),k.collapse(!0),k.moveStart("character",r),q>0&&k.moveEnd("character",q),k.select()}catch(B){}}g.nodeChanged()}}}var j=g.settings,f=g.dom,c=g.selection,h=g.schema,b=h.getBlockElements();j.forced_root_block&&g.on("NodeChange",d)}}),aF(bk,[bm,aS,aU],function(p,h,b){var k=b.each,g=b.extend,v=b.map,x=b.inArray,j=b.explode,t=h.gecko,q=h.ie,w=!0,m=!1;return function(a){function d(E,y,G){var C;return E=E.toLowerCase(),(C=F.exec[E])?(C(E,y,G),w):m}function e(y){var r;return y=y.toLowerCase(),(r=F.state[y])?r(y):-1}function l(y){var r;return y=y.toLowerCase(),(r=F.value[y])?r(y):m}function n(y,r){r=r||"exec",k(y,function(C,E){k(E.toLowerCase().split(","),function(G){F[r][G]=C})})}function D(y,C,r){return C===aD&&(C=m),r===aD&&(r=null),a.getDoc().execCommand(y,C,r)}function s(r){return f.match(r)}function u(r,y){f.toggle(r,y?{value:y}:aD),a.nodeChanged()}function c(r){i=B.getBookmark(r)}function z(){B.moveToBookmark(i)}var A=a.dom,B=a.selection,F={state:{},exec:{},value:{}},o=a.settings,f=a.formatter,i;g(this,{execCommand:d,queryCommandState:e,queryCommandValue:l,addCommands:n}),n({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},"Cut,Copy,Paste":function(E){var C=a.getDoc(),y;try{D(E)}catch(G){y=w}if(y||!C.queryCommandSupported(E)){var r=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");h.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),a.windowManager.alert(r)}},unlink:function(){if(B.isCollapsed()){var r=B.getNode();return void ("A"==r.tagName&&a.dom.remove(r,!0))}f.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(y){var r=y.substring(7);"full"==r&&(r="justify"),k("left,center,right,justify".split(","),function(C){r!=C&&f.remove("align"+C)}),u("align"+r),d("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(y){var r,C;D(y),r=A.getParent(B.getNode(),"ol,ul"),r&&(C=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(C.nodeName)&&(c(),A.split(C,r),z()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){u(r)},"ForeColor,HiliteColor,FontName":function(y,r,C){u(y,C)},FontSize:function(G,C,H){var E,y;H>=1&&7>=H&&(y=j(o.font_size_style_values),E=j(o.font_size_classes),H=E?E[H-1]||H:y[H-1]||H),u(G,H)},RemoveFormat:function(r){f.remove(r)},mceBlockQuote:function(){u("blockquote")},FormatBlock:function(y,r,C){return u(C||"p")},mceCleanup:function(){var r=B.getBookmark();a.setContent(a.getContent({cleanup:w}),{cleanup:w}),B.moveToBookmark(r)},mceRemoveNode:function(C,y,E){var r=E||B.getNode();r!=a.getBody()&&(c(),a.dom.remove(r,w),z())},mceSelectNodeDepth:function(C,y,E){var r=0;A.getParent(B.getNode(),function(G){return 1==G.nodeType&&r++==E?(B.select(G),m):void 0},a.getBody())},mceSelectNode:function(y,r,C){B.select(C)},mceInsertContent:function(H,M,P){function L(X){function C(Z){return W[Z]&&3==W[Z].nodeType}var Y,W,y;return Y=B.getRng(!0),W=Y.startContainer,y=Y.startOffset,3==W.nodeType&&(y>0?X=X.replace(/^&nbsp;/," "):C("previousSibling")||(X=X.replace(/^ /,"&nbsp;")),y<W.length?X=X.replace(/&nbsp;(<br>|)$/," "):C("nextSibling")||(X=X.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),X}var V,I,O,T,G,S,K,N,Q,R,E;/^ | $/.test(P)&&(P=L(P)),V=a.parser,I=new p({},a.schema),E='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#200B;</span>',S={content:P,format:"html",selection:!0},a.fire("BeforeSetContent",S),P=S.content,-1==P.indexOf("{$caret}")&&(P+="{$caret}"),P=P.replace(/\{\$caret\}/,E),N=B.getRng();var r=N.startContainer||(N.parentElement?N.parentElement():null),U=a.getBody();r===U&&B.isCollapsed()&&A.isBlock(U.firstChild)&&A.isEmpty(U.firstChild)&&(N=A.createRng(),N.setStart(U.firstChild,0),N.setEnd(U.firstChild,0),B.setRng(N)),B.isCollapsed()||a.getDoc().execCommand("Delete",!1,null),O=B.getNode();var J={context:O.nodeName.toLowerCase()};if(G=V.parse(P,J),Q=G.lastChild,"mce_marker"==Q.attr("id")){for(K=Q,Q=Q.prev;Q;Q=Q.walk(!0)){if(3==Q.type||!A.isBlock(Q.name)){Q.parent.insert(K,Q,"br"===Q.name);break}}}if(J.invalid){for(B.setContent(E),O=B.getNode(),T=a.getBody(),9==O.nodeType?O=Q=T:Q=O;Q!==T;){O=Q,Q=Q.parentNode}P=O==T?T.innerHTML:A.getOuterHTML(O),P=I.serialize(V.parse(P.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return I.serialize(G)}))),O==T?A.setHTML(T,P):A.setOuterHTML(O,P)}else{P=I.serialize(G),Q=O.firstChild,R=O.lastChild,!Q||Q===R&&"BR"===Q.nodeName?A.setHTML(O,P):B.setContent(P)}K=A.get("mce_marker"),B.scrollIntoView(K),N=A.createRng(),Q=K.previousSibling,Q&&3==Q.nodeType?(N.setStart(Q,Q.nodeValue.length),q||(R=K.nextSibling,R&&3==R.nodeType&&(Q.appendData(R.data),R.parentNode.removeChild(R)))):(N.setStartBefore(K),N.setEndBefore(K)),A.remove(K),B.setRng(N),a.fire("SetContent",S),a.addVisual()},mceInsertRawHTML:function(y,r,C){B.setContent("tiny_mce_marker"),a.setContent(a.getContent().replace(/tiny_mce_marker/g,function(){return C}))},mceToggleFormat:function(y,r,C){u(C)},mceSetContent:function(y,r,C){a.setContent(C)},"Indent,Outdent":function(y){var r,E,C;r=o.indentation,E=/[a-z%]+$/i.exec(r),r=parseInt(r,10),e("InsertUnorderedList")||e("InsertOrderedList")?D(y):(o.forced_root_block||A.getParent(B.getNode(),A.isBlock)||f.apply("div"),k(B.getSelectedBlocks(),function(H){if("LI"!=H.nodeName){var G=a.getParam("indent_use_margin",!1)?"margin":"padding";G+="rtl"==A.getStyle(H,"direction",!0)?"Right":"Left","outdent"==y?(C=Math.max(0,parseInt(H.style[G]||0,10)-r),A.setStyle(H,G,C?C+E:"")):(C=parseInt(H.style[G]||0,10)+r+E,A.setStyle(H,G,C))}}))},mceRepaint:function(){if(t){try{c(w),B.getSel()&&B.getSel().selectAllChildren(a.getBody()),B.collapse(w),z()}catch(r){}}},InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual,a.addVisual()},mceReplaceContent:function(y,r,C){a.execCommand("mceInsertContent",!1,C.replace(/\{\$selection\}/g,B.getContent({format:"text"})))},mceInsertLink:function(E,y,G){var C;"string"==typeof G&&(G={href:G}),C=A.getParent(B.getNode(),"a"),G.href=G.href.replace(" ","%20"),C&&G.href||f.remove("link"),G.href&&f.apply("link",G,C)},selectAll:function(){var y=A.getRoot(),r;B.getRng().setStart?(r=A.createRng(),r.setStart(y,0),r.setEnd(y,y.childNodes.length),B.setRng(r)):(r=B.getRng(),r.item||(r.moveToElementText(y),r.select()))},"delete":function(){D("Delete");var r=a.getBody();A.isEmpty(r)&&(a.setContent(""),r.firstChild&&A.isBlock(r.firstChild)?a.selection.setCursorLocation(r.firstChild,0):a.selection.setCursorLocation(r,0))},mceNewDocument:function(){a.setContent("")}}),n({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(E){var y="align"+E.substring(7),G=B.isCollapsed()?[A.getParent(B.getNode(),A.isBlock)]:B.getSelectedBlocks(),C=v(G,function(r){return !!f.matchNode(r,y)});return -1!==x(C,w)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){return s(r)},mceBlockQuote:function(){return s("blockquote")},Outdent:function(){var r;if(o.inline_styles){if((r=A.getParent(B.getStart(),A.isBlock))&&parseInt(r.style.paddingLeft,10)>0){return w}if((r=A.getParent(B.getEnd(),A.isBlock))&&parseInt(r.style.paddingLeft,10)>0){return w}}return e("InsertUnorderedList")||e("InsertOrderedList")||!o.inline_styles&&!!A.getParent(B.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(y){var r=A.getParent(B.getNode(),"ul,ol");return r&&("insertunorderedlist"===y&&"UL"===r.tagName||"insertorderedlist"===y&&"OL"===r.tagName)}},"state"),n({"FontSize,FontName":function(y){var r=0,C;return(C=A.getParent(B.getNode(),"span"))&&(r="fontsize"==y?C.style.fontSize:C.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),r}},"value"),n({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}})}}),aF(bs,[aU],function(d){function b(m,j){var n=this,h,k;if(m=c(m),j=n.settings=j||{},/^([\w\-]+):([^\/]{2})/i.test(m)||/^\s*#/.test(m)){return void (n.source=m)}var g=0===m.indexOf("//");0!==m.indexOf("/")||g||(m=(j.base_uri?j.base_uri.protocol||"http":"http")+"://mce_host"+m),/^[\w\-]*:?\/\//.test(m)||(k=j.base_uri?j.base_uri.path:new b(location.href).directory,m=""===j.base_uri.protocol?"//mce_host"+n.toAbsPath(k,m):(j.base_uri&&j.base_uri.protocol||"http")+"://mce_host"+n.toAbsPath(k,m)),m=m.replace(/@@/g,"(mce_at)"),m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(m),f(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,l){var i=m[l];i&&(i=i.replace(/\(mce_at\)/g,"@@")),n[e]=i}),h=j.base_uri,h&&(n.protocol||(n.protocol=h.protocol),n.userInfo||(n.userInfo=h.userInfo),n.port||"mce_host"!==n.host||(n.port=h.port),n.host&&"mce_host"!==n.host||(n.host=h.host),n.source=""),g&&(n.protocol="")}var f=d.each,c=d.trim,a={ftp:21,http:80,https:443,mailto:25};return b.prototype={setPath:function(h){var g=this;h=/^(.*?)\/?(\w+)?$/.exec(h),g.path=h[0],g.directory=h[1],g.file=h[2],g.source="",g.getURI()},toRelative:function(j){var l=this,h;if("./"===j){return j}if(j=new b(j,{base_uri:l}),"mce_host"!=j.host&&l.host!=j.host&&j.host||l.port!=j.port||l.protocol!=j.protocol&&""!==j.protocol){return j.getURI()}var g=l.getURI(),k=j.getURI();return g==k||"/"==g.charAt(g.length-1)&&g.substr(0,g.length-1)==k?g:(h=l.toRelPath(l.path,j.path),j.query&&(h+="?"+j.query),j.anchor&&(h+="#"+j.anchor),h)},toAbsolute:function(g,h){return g=new b(g,{base_uri:this}),g.getURI(h&&this.isSameOrigin(g))},isSameOrigin:function(h){if(this.host==h.host&&this.protocol==h.protocol){if(this.port==h.port){return !0}var g=a[this.protocol];if(g&&(this.port||g)==(h.port||g)){return !0}}return !1},toRelPath:function(l,j){var p,k=0,h="",m,g;if(l=l.substring(0,l.lastIndexOf("/")),l=l.split("/"),p=j.split("/"),l.length>=p.length){for(m=0,g=l.length;g>m;m++){if(m>=p.length||l[m]!=p[m]){k=m+1;break}}}if(l.length<p.length){for(m=0,g=p.length;g>m;m++){if(m>=l.length||l[m]!=p[m]){k=m+1;break}}}if(1===k){return j}for(m=0,g=l.length-(k-1);g>m;m++){h+="../"}for(m=k-1,g=p.length;g>m;m++){h+=m!=k-1?"/"+p[m]:p[m]}return h},toAbsPath:function(m,j){var l,h=0,n=[],g,k;for(g=/\/$/.test(j)?"/":"",m=m.split("/"),j=j.split("/"),f(m,function(i){i&&n.push(i)}),m=n,l=j.length-1,n=[];l>=0;l--){0!==j[l].length&&"."!==j[l]&&(".."!==j[l]?h>0?h--:n.push(j[l]):h++)}return l=m.length-h,k=0>=l?n.reverse().join("/"):m.slice(0,l).join("/")+"/"+n.reverse().join("/"),0!==k.indexOf("/")&&(k="/"+k),g&&k.lastIndexOf("/")!==k.length-1&&(k+=g),k},getURI:function(h){var g,i=this;return(!i.source||h)&&(g="",h||(g+=i.protocol?i.protocol+"://":"//",i.userInfo&&(g+=i.userInfo+"@"),i.host&&(g+=i.host),i.port&&(g+=":"+i.port)),i.path&&(g+=i.path),i.query&&(g+="?"+i.query),i.anchor&&(g+="#"+i.anchor),i.source=g),i.source}},b}),aF(bw,[aU],function(d){function b(){}var g=d.each,c=d.extend,a,f;return b.extend=a=function(j){function p(){var u,l,v,s=this;if(!f&&(s.init&&s.init.apply(s,arguments),l=s.Mixins)){for(u=l.length;u--;){v=l[u],v.init&&v.init.apply(s,arguments)}}}function n(){return this}function q(r,l){return function(){var t=this,s=t._super,e;return t._super=m[r],e=l.apply(t,arguments),t._super=s,e}}var h=this,m=h.prototype,k,o,i;f=!0,k=new h,f=!1,j.Mixins&&(g(j.Mixins,function(e){e=e;for(var l in e){"init"!==l&&(j[l]=e[l])}}),m.Mixins&&(j.Mixins=m.Mixins.concat(j.Mixins))),j.Methods&&g(j.Methods.split(","),function(e){j[e]=n}),j.Properties&&g(j.Properties.split(","),function(e){var l="_"+e;j[e]=function(v){var s=this,u;return v!==u?(s[l]=v,s):s[l]}}),j.Statics&&g(j.Statics,function(l,r){p[r]=l}),j.Defaults&&m.Defaults&&(j.Defaults=c({},m.Defaults,j.Defaults));for(o in j){i=j[o],k[o]="function"==typeof i&&m[o]?q(o,i):i}return p.prototype=k,p.constructor=p,p.extend=a,p},b}),aF(av,[aU],function(b){function a(m){function v(){return !1}function h(){return !0}function f(t,l){var y,e,n,x;if(t=t.toLowerCase(),l=l||{},l.type=t,l.target||(l.target=j),l.preventDefault||(l.preventDefault=function(){l.isDefaultPrevented=h},l.stopPropagation=function(){l.isPropagationStopped=h},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=h},l.isDefaultPrevented=v,l.isPropagationStopped=v,l.isImmediatePropagationStopped=v),m.beforeFire&&m.beforeFire(l),y=q[t]){for(e=0,n=y.length;n>e;e++){if(y[e]=x=y[e],l.isImmediatePropagationStopped()){return l.stopPropagation(),l}if(x.call(j,l)===!1){return l.preventDefault(),l}}}return l}function k(t,y,s){var l,x,d;if(y===!1&&(y=v),y){for(x=t.toLowerCase().split(" "),d=x.length;d--;){t=x[d],l=q[t],l||(l=q[t]=[],p(t,!0)),s?l.unshift(y):l.push(y)}}return w}function g(y,s){var A,x,l,z,d;if(y){for(z=y.toLowerCase().split(" "),A=z.length;A--;){if(y=z[A],x=q[y],!y){for(l in q){p(l,!1),delete q[l]}return w}if(x){if(s){for(d=x.length;d--;){x[d]===s&&x.splice(d,1)}}else{x.length=0}x.length||(p(y,!1),delete q[y])}}}else{for(y in q){p(y,!1)}q={}}return w}function u(d){return d=d.toLowerCase(),!(!q[d]||0===q[d].length)}var w=this,j,q={},p;m=m||{},j=m.scope||w,p=m.toggleEvent||v,w.fire=f,w.on=k,w.off=g,w.has=u}var c=b.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit"," ");return a.isNative=function(d){return !!c[d.toLowerCase()]},a}),aF(a9,[bw],function(g){function d(k){for(var a=[],l=k.length,i;l--;){i=k[l],i.__checked||(a.push(i),i.__checked=1)}for(l=a.length;l--;){delete a[l].__checked}return a}var j=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=/^\s*|\s*$/g,h,b=g.extend({init:function(m){function v(a){return a?(a=a.toLowerCase(),function(e){return"*"===a||e.type===a}):void 0}function i(a){return a?function(e){return e._name===a}:void 0}function q(a){return a?(a=a.split("."),function(e){for(var l=a.length;l--;){if(!e.hasClass(a[l])){return !1}}return !0}):void 0}function w(l,a,o){return l?function(s){var e=s[l]?s[l]():"";return a?"="===a?e===o:"*="===a?e.indexOf(o)>=0:"~="===a?(" "+e+" ").indexOf(" "+o+" ")>=0:"!="===a?e!=o:"^="===a?0===e.indexOf(o):"$="===a?e.substr(e.length-o.length)===o:!1:!!o}:void 0}function k(l){var a;return l?(l=/(?:not\((.+)\))|(.+)/i.exec(l),l[1]?(a=n(l[1],[]),function(o){return !r(o,a)}):(l=l[2],function(e,s,o){return"first"===l?0===s:"last"===l?s===o-1:"even"===l?s%2===0:"odd"===l?s%2===1:e[l]?e[l]():!1})):void 0}function p(o,l,t){function s(u){u&&l.push(u)}var a;return a=j.exec(o.replace(c,"")),s(v(a[1])),s(i(a[2])),s(q(a[3])),s(w(a[4],a[5],a[6])),s(k(a[7])),l.psuedo=!!a[7],l.direct=t,l}function n(x,u){var z=[],s,y,l;do{if(f.exec(""),y=f.exec(x),y&&(x=y[3],z.push(y[1]),y[2])){s=y[3];break}}while(y);for(s&&n(s,u),x=[],l=0;l<z.length;l++){">"!=z[l]&&x.push(p(z[l],[],">"===z[l-1]))}return u.push(x),u}var r=this.match;this._selectors=n(m,[])},match:function(B,G){var w,k,z,v,E,H,y,D,C,F,A,q,x;for(G=G||this._selectors,w=0,k=G.length;k>w;w++){for(E=G[w],v=E.length,x=B,q=0,z=v-1;z>=0;z--){for(D=E[z];x;){if(D.psuedo){for(A=x.parent().items(),C=F=A.length;C--&&A[C]!==x;){}}for(H=0,y=D.length;y>H;H++){if(!D[H](x,C,F)){H=y+1;break}}if(H===y){q++;break}if(z===v-1){break}x=x.parent()}}if(q===v){return !0}}return !1},find:function(p){function q(v,z,u){var n,y,A,r,x,w=z[u];for(n=0,y=v.length;y>n;n++){for(x=v[n],A=0,r=w.length;r>A;A++){if(!w[A](x,n,y)){A=r+1;break}}if(A===r){u==z.length-1?o.push(x):x.items&&q(x.items(),z,u+1)}else{if(w.direct){return}}x.items&&q(x.items(),z,u)}}var o=[],k,m,a=this._selectors;if(p.items){for(k=0,m=a.length;m>k;k++){q(p.items(),a[k],0)}m>1&&(o=d(o))}return h||(h=b.Collection),new h(o)}});return b}),aF(bb,[aU,a9,bw],function(g,d,j){var f,c,h=Array.prototype.push,b=Array.prototype.slice;return c={length:0,init:function(a){a&&this.add(a)},add:function(a){var e=this;return g.isArray(a)?h.apply(e,a):a instanceof f?e.add(a.toArray()):h.call(e,a),e},set:function(k){var a=this,l=a.length,i;for(a.length=0,a.add(k),i=a.length;l>i;i++){delete a[i]}return a},filter:function(r){var u=this,p,t,m=[],q,k;for("string"==typeof r?(r=new d(r),k=function(a){return r.match(a)}):k=r,p=0,t=u.length;t>p;p++){q=u[p],k(q)&&m.push(q)}return new f(m)},slice:function(){return new f(b.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return g.each(this,a),this},toArray:function(){return g.toArray(this)},indexOf:function(i){for(var a=this,k=a.length;k--&&a[k]!==i;){}return k},reverse:function(){return new f(g.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].hasClass(a):!1},prop:function(m,k){var o=this,l,a;return k!==l?(o.each(function(e){e[m]&&e[m](k)}),o):(a=o[0],a&&a[m]?a[m]():void 0)},exec:function(a){var i=this,e=g.toArray(arguments).slice(1);return i.each(function(k){k[a]&&k[a].apply(k,e)}),i},remove:function(){for(var a=this.length;a--;){this[a].remove()}return this}},g.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(a){c[a]=function(){var e=g.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),g.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(e){return this.prop(a,e)}}),f=j.extend(c),d.Collection=f,f}),aF(bc,[aU,aB],function(b,a){return{id:function(){return a.DOM.uniqueId()},createFragment:function(c){return a.DOM.createFragment(c)},getWindowSize:function(){return a.DOM.getViewPort()},getSize:function(f){var c,g;if(f.getBoundingClientRect){var d=f.getBoundingClientRect();c=Math.max(d.width||d.right-d.left,f.offsetWidth),g=Math.max(d.height||d.bottom-d.bottom,f.offsetHeight)}else{c=f.offsetWidth,g=f.offsetHeight}return{width:c,height:g}},getPos:function(c,d){return a.DOM.getPos(c,d)},getViewPort:function(c){return a.DOM.getViewPort(c)},get:function(c){return document.getElementById(c)},addClass:function(c,d){return a.DOM.addClass(c,d)},removeClass:function(c,d){return a.DOM.removeClass(c,d)},hasClass:function(c,d){return a.DOM.hasClass(c,d)},toggleClass:function(d,f,c){return a.DOM.toggleClass(d,f,c)},css:function(d,f,c){return a.DOM.setStyle(d,f,c)},on:function(f,g,d,c){return a.DOM.bind(f,g,d,c)},off:function(d,f,c){return a.DOM.unbind(d,f,c)},fire:function(d,f,c){return a.DOM.fire(d,f,c)},innerHtml:function(c,d){a.DOM.setHTML(c,d)}}}),aF(aI,[bw,aU,av,bb,bc],function(k,u,g,b,j){function f(a){return a._eventDispatcher||(a._eventDispatcher=new g({scope:a,toggleEvent:function(c,d){d&&g.isNative(c)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[c]=!0,a._rendered&&a.bindPendingEvents())}})),a._eventDispatcher}var q={},v="onmousewheel" in document,h=!1,p="mce-",m=k.extend({Statics:{elementIdCache:q,classPrefix:p},isRtl:function(){return m.rtl},classPrefix:p,init:function(c){var i=this,a,d;if(i.settings=c=u.extend({},i.Defaults,c),i._id=c.id||j.id(),i._text=i._name="",i._width=i._height=0,i._aria={role:c.role},a=c.classes){for(a=a.split(" "),a.map={},d=a.length;d--;){a.map[a[d]]=!0}}i._classes=a||[],i.visible(!0),u.each("title text width height name classes visible disabled active value".split(" "),function(l){var n=c[l],e;n!==e?i[l](n):i["_"+l]===e&&(i["_"+l]=!1)}),i.on("click",function(){return i.disabled()?!1:void 0}),c.classes&&u.each(c.classes.split(" "),function(l){i.addClass(l)}),i.settings=c,i._borderBox=i.parseBox(c.border),i._paddingBox=i.parseBox(c.padding),i._marginBox=i.parseBox(c.margin),c.hidden&&i.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(c){for(var a,d=this.getRoot().controlIdLookup;c&&d&&!(a=d[c.id]);){c=c.parentNode}return a},parseBox:function(c){var a,d=10;if(c){return"number"==typeof c?(c=c||0,{top:c,left:c,bottom:c,right:c}):(c=c.split(" "),a=c.length,1===a?c[1]=c[2]=c[3]=c[0]:2===a?(c[2]=c[0],c[3]=c[1]):3===a&&(c[3]=c[1]),{top:parseInt(c[0],d)||0,right:parseInt(c[1],d)||0,bottom:parseInt(c[2],d)||0,left:parseInt(c[3],d)||0})}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(d,a){function i(e){var l=document.defaultView;return l?(e=e.replace(/[A-Z]/g,function(n){return"-"+n}),l.getComputedStyle(d,null).getPropertyValue(e)):d.currentStyle[e]}function c(n){var l=parseFloat(i(n),10);return isNaN(l)?0:l}return{top:c(a+"TopWidth"),right:c(a+"RightWidth"),bottom:c(a+"BottomWidth"),left:c(a+"LeftWidth")}},initLayoutRect:function(){var E=this,K=E.settings,y,i,x=E.getEl(),H,L,A,G,F,J,D,w;y=E._borderBox=E._borderBox||E.measureBox(x,"border"),E._paddingBox=E._paddingBox||E.measureBox(x,"padding"),E._marginBox=E._marginBox||E.measureBox(x,"margin"),w=j.getSize(x),J=K.minWidth,D=K.minHeight,A=J||w.width,G=D||w.height,H=K.width,L=K.height,F=K.autoResize,F="undefined"!=typeof F?F:!H&&!L,H=H||A,L=L||G;var z=y.left+y.right,B=y.top+y.bottom,C=K.maxWidth||65535,I=K.maxHeight||65535;return E._layoutRect=i={x:K.x||0,y:K.y||0,w:H,h:L,deltaW:z,deltaH:B,contentW:H-z,contentH:L-B,innerW:H-z,innerH:L-B,startMinWidth:J||0,startMinHeight:D||0,minW:Math.min(A,C),minH:Math.min(G,I),maxW:C,maxH:I,autoResize:F,scrollW:0},E._lastLayoutRect={},i},layoutRect:function(z){var B=this,w=B._layoutRect,c,y,d,A,C,x;return w||(w=B.initLayoutRect()),z?(d=w.deltaW,A=w.deltaH,z.x!==C&&(w.x=z.x),z.y!==C&&(w.y=z.y),z.minW!==C&&(w.minW=z.minW),z.minH!==C&&(w.minH=z.minH),y=z.w,y!==C&&(y=y<w.minW?w.minW:y,y=y>w.maxW?w.maxW:y,w.w=y,w.innerW=y-d),y=z.h,y!==C&&(y=y<w.minH?w.minH:y,y=y>w.maxH?w.maxH:y,w.h=y,w.innerH=y-A),y=z.innerW,y!==C&&(y=y<w.minW-d?w.minW-d:y,y=y>w.maxW-d?w.maxW-d:y,w.innerW=y,w.w=y+d),y=z.innerH,y!==C&&(y=y<w.minH-A?w.minH-A:y,y=y>w.maxH-A?w.maxH-A:y,w.innerH=y,w.h=y+A),z.contentW!==C&&(w.contentW=z.contentW),z.contentH!==C&&(w.contentH=z.contentH),c=B._lastLayoutRect,(c.x!==w.x||c.y!==w.y||c.w!==w.w||c.h!==w.h)&&(x=m.repaintControls,x&&x.map&&!x.map[B._id]&&(x.push(B),x.map[B._id]=!0),c.x=w.x,c.y=w.y,c.w=w.w,c.h=w.h),B):w},repaint:function(){var z=this,B,w,c,y,d=0,A=0,C,x;x=document.createRange?function(a){return a}:Math.round,B=z.getEl().style,c=z._layoutRect,C=z._lastRepaintRect||{},y=z._borderBox,d=y.left+y.right,A=y.top+y.bottom,c.x!==C.x&&(B.left=x(c.x)+"px",C.x=c.x),c.y!==C.y&&(B.top=x(c.y)+"px",C.y=c.y),c.w!==C.w&&(B.width=x(c.w-d)+"px",C.w=c.w),c.h!==C.h&&(B.height=x(c.h-A)+"px",C.h=c.h),z._hasBody&&c.innerW!==C.innerW&&(w=z.getEl("body").style,w.width=x(c.innerW)+"px",C.innerW=c.innerW),z._hasBody&&c.innerH!==C.innerH&&(w=w||z.getEl("body").style,w.height=x(c.innerH)+"px",C.innerH=c.innerH),z._lastRepaintRect=C,z.fire("repaint",{},!1)},on:function(d,a){function i(o){var l,r;return"string"!=typeof o?o:function(e){return l||c.parentsAndSelf().each(function(s){var n=s.settings.callbacks;return n&&(l=n[o])?(r=s,!1):void 0}),l.call(r,e)}}var c=this;return f(c).on(d,i(a)),c},off:function(c,a){return f(this).off(c,a),this},fire:function(l,c,o){var d=this;if(c=c||{},c.control||(c.control=d),c=f(d).fire(l,c),o!==!1&&d.parent){for(var a=d.parent();a&&!c.isPropagationStopped();){a.fire(l,c,!1),a=a.parent()}}return c},hasEventListeners:function(a){return f(this).has(a)},parents:function(d){var c=this,l,a=new b;for(l=c.parent();l;l=l.parent()){a.add(l)}return d&&(a=a.filter(d)),a},parentsAndSelf:function(a){return new b(this).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(c,a){for(var d;c;){for(d=a;d&&c!=d;){d=d.parent()}if(c==d){break}c=c.parent()}return c},hasClass:function(c,a){var d=this._classes[a||"control"];return c=this.classPrefix+c,d&&!!d.map[c]},addClass:function(l,c){var o=this,d,a;return l=this.classPrefix+l,d=o._classes[c||"control"],d||(d=[],d.map={},o._classes[c||"control"]=d),d.map[l]||(d.map[l]=l,d.push(l),o._rendered&&(a=o.getEl(c),a&&(a.className=d.join(" ")))),o},removeClass:function(l,c){var w=this,d,a,s;if(l=this.classPrefix+l,d=w._classes[c||"control"],d&&d.map[l]){for(delete d.map[l],a=d.length;a--;){d[a]===l&&d.splice(a,1)}}return w._rendered&&(s=w.getEl(c),s&&(s.className=d.join(" "))),w},toggleClass:function(d,a,i){var c=this;return a?c.addClass(d,i):c.removeClass(d,i),c},classes:function(c){var a=this._classes[c||"control"];return a?a.join(" "):""},innerHtml:function(a){return j.innerHtml(this.getEl(),a),this},getEl:function(d,a){var i,c=d?this._id+"-"+d:this._id;return i=q[c]=(a===!0?null:q[c])||j.get(c)},visible:function(c){var a=this,d;return"undefined"!=typeof c?(a._visible!==c&&(a._rendered&&(a.getEl().style.display=c?"":"none"),a._visible=c,d=a.parent(),d&&(d._lastRect=null),a.fire(c?"show":"hide")),a):a._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(d,a){var i=this,c=i.getEl(i.ariaTarget);return"undefined"==typeof a?i._aria[d]:(i._aria[d]=a,i._rendered&&c.setAttribute("role"==d?d:"aria-"+d,a),i)},encode:function(c,a){return a!==!1&&(c=this.translate(c)),(c||"").replace(/[&<>"]/g,function(d){return"&#"+d.charCodeAt(0)+";"})},translate:function(a){return m.translate?m.translate(a):a},before:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a),!0),a},after:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a)),a},remove:function(){var x=this,d=x.getEl(),A=x.parent(),w,y;if(x.items){var i=x.items().toArray();for(y=i.length;y--;){i[y].remove()}}A&&A.items&&(w=[],A.items().each(function(c){c!==x&&w.push(c)}),A.items().set(w),A._lastRect=null),x._eventsRoot&&x._eventsRoot==x&&j.off(d);var a=x.getRoot().controlIdLookup;if(a&&delete a[x._id],delete q[x._id],d&&d.parentNode){var z=d.getElementsByTagName("*");for(y=z.length;y--;){delete q[z[y].id]}d.parentNode.removeChild(d)}return x._rendered=!1,x},renderBefore:function(c){var a=this;return c.parentNode.insertBefore(j.createFragment(a.renderHtml()),c),a.postRender(),a},renderTo:function(c){var a=this;return c=c||a.getContainerElm(),c.appendChild(j.createFragment(a.renderHtml())),a.postRender(),a},postRender:function(){var y=this,B=y.settings,w,d,i,A,C;for(A in B){0===A.indexOf("on")&&y.on(A.substr(2),B[A])}if(y._eventsRoot){for(i=y.parent();!C&&i;i=i.parent()){C=i._eventsRoot}if(C){for(A in C._nativeEvents){y._nativeEvents[A]=!0}}}y.bindPendingEvents(),B.style&&(w=y.getEl(),w&&(w.setAttribute("style",B.style),w.style.cssText=B.style)),y._visible||j.css(y.getEl(),"display","none"),y.settings.border&&(d=y.borderBox(),j.css(y.getEl(),{"border-top-width":d.top,"border-right-width":d.right,"border-bottom-width":d.bottom,"border-left-width":d.left}));var x=y.getRoot();x.controlIdLookup||(x.controlIdLookup={}),x.controlIdLookup[y._id]=y;for(var z in y._aria){y.aria(z,y._aria[z])}y.fire("postrender",{},!1)},scrollIntoView:function(B){function F(l,c){var o,d,a=l;for(o=d=0;a&&a!=c&&a.nodeType;){o+=a.offsetLeft||0,d+=a.offsetTop||0,a=a.offsetParent}return{x:o,y:d}}var y=this.getEl(),w=y.parentNode,A,x,E,G,z,D,C=F(y,w);return A=C.x,x=C.y,E=y.offsetWidth,G=y.offsetHeight,z=w.clientWidth,D=w.clientHeight,"end"==B?(A-=z-E,x-=D-G):"center"==B&&(A-=z/2-E/2,x-=D/2-G/2),w.scrollLeft=A,w.scrollTop=x,this},bindPendingEvents:function(){function z(c){var a=s.getParentCtrl(c.target);a&&a.fire(c.type,c)}function E(){var a=D._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(c){c.fire("mouseleave",{target:c.getEl()})}),D._lastHoverCtrl=null)}function w(H){var o=s.getParentCtrl(H.target),I=D._lastHoverCtrl,G=0,d,c,F;if(o!==I){if(D._lastHoverCtrl=o,c=o.parents().toArray().reverse(),c.push(o),I){for(F=I.parents().toArray().reverse(),F.push(I),G=0;G<F.length&&c[G]===F[G];G++){}for(d=F.length-1;d>=G;d--){I=F[d],I.fire("mouseleave",{target:I.getEl()})}}for(d=G;d<c.length;d++){o=c[d],o.fire("mouseenter",{target:o.getEl()})}}}function i(a){a.preventDefault(),"mousewheel"==a.type?(a.deltaY=-1/40*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-1/40*a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail),a=s.fire("wheel",a)}var s=this,C,B,A,D,y,l;if(s._rendered=!0,y=s._nativeEvents){for(A=s.parents().toArray(),A.unshift(s),C=0,B=A.length;!D&&B>C;C++){D=A[C]._eventsRoot}for(D||(D=A[A.length-1]||s),s._eventsRoot=D,B=C,C=0;B>C;C++){A[C]._eventsRoot=D}var x=D._delegates;x||(x=D._delegates={});for(l in y){if(!y){return !1}"wheel"!==l||h?("mouseenter"===l||"mouseleave"===l?D._hasMouseEnter||(j.on(D.getEl(),"mouseleave",E),j.on(D.getEl(),"mouseover",w),D._hasMouseEnter=1):x[l]||(j.on(D.getEl(),l,z),x[l]=!0),y[l]=!1):v?j.on(s.getEl(),"mousewheel",i):j.on(s.getEl(),"DOMMouseScroll",i)}}},getRoot:function(){for(var d=this,a,i=[];d;){if(d.rootControl){a=d.rootControl;break}i.push(d),a=d,d=d.parent()}a||(a=this);for(var c=i.length;c--;){i[c].rootControl=a}return a},reflow:function(){return this.repaint(),this}});return m}),aF(aQ,[],function(){var b={},a;return{add:function(c,d){b[c.toLowerCase()]=d},has:function(c){return !!b[c.toLowerCase()]},create:function(g,e){var d,f,c;if(!a){c=tinymce.ui;for(f in c){b[f.toLowerCase()]=c[f]}a=!0}if("string"==typeof g?(e=e||{},e.type=g):(e=g,g=e.type),g=g.toLowerCase(),d=b[g],!d){throw new Error("Could not find control by type: "+g)}return d=new d(e),d.type=g,d}}}),aF(bM,[],function(){return function(L){function w(a){return a=a||O,a&&a.getAttribute("role")}function E(b){for(var c,a=b||O;a=a.parentNode;){if(c=w(a)){return c}}}function A(b){var a=O;return a?a.getAttribute("aria-"+b):void 0}function H(b){var a=b.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a}function D(a){return H(a)&&!a.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(w(a))?!0:!1}function P(b){function a(f){if(1==f.nodeType&&"none"!=f.style.display){D(f)&&c.push(f);for(var d=0;d<f.childNodes.length;d++){a(f.childNodes[d])}}}var c=[];return a(b||j.getEl()),c}function x(c){var a,d;c=c||z,d=c.parents().toArray(),d.unshift(c);for(var b=0;b<d.length&&(a=d[b],!a.settings.ariaRoot);b++){}return a}function G(b){var a=x(b),c=P(a.getEl());a.settings.ariaRemember&&"lastAriaIndex" in a?N(a.lastAriaIndex,c):N(0,c)}function N(b,a){return 0>b?b=a.length-1:b>=a.length&&(b=0),a[b]&&a[b].focus(),b}function M(d,b){var f=-1,c=x();b=b||P(c.getEl());for(var a=0;a<b.length;a++){b[a]===O&&(f=a)}f+=d,c.lastAriaIndex=N(f,b)}function q(){var a=E();"tablist"==a?M(-1,P(O.parentNode)):z.parent().submenu?J():M(-1)}function K(){var b=w(),a=E();"tablist"==a?M(1,P(O.parentNode)):"menuitem"==b&&"menu"==a&&A("haspopup")?k():M(1)}function B(){M(-1)}function F(){var b=w(),a=E();"menuitem"==b&&"menubar"==a?k():"button"==b&&A("haspopup")?k({key:"down"}):M(1)}function I(c){var a=E();if("tablist"==a){var b=P(z.getEl("body"))[0];b&&b.focus()}else{M(c.shiftKey?-1:1)}}function J(){z.fire("cancel")}function k(a){a=a||{},z.fire("click",{target:O,aria:a})}var j=L.root,O,z;return O=document.activeElement,z=j.getParentCtrl(O),j.on("keydown",function(b){function a(d,c){H(O)||c(d)!==!1&&d.preventDefault()}if(!b.isDefaultPrevented()){switch(b.keyCode){case 37:a(b,q);break;case 39:a(b,K);break;case 38:a(b,B);break;case 40:a(b,F);break;case 27:J();break;case 14:case 13:case 32:a(b,k);break;case 9:I(b)!==!1&&b.preventDefault()}}}),j.on("focusin",function(a){O=a.target,z=a.control}),{focusFirst:G}}}),aF(bq,[aI,bb,a9,aQ,bM,aU,bc],function(h,d,k,g,c,j,b){var f={};return h.extend({layout:"",innerClass:"container-inner",init:function(a){var i=this;i._super(a),a=i.settings,i._fixed=a.fixed,i._items=new d,i.isRtl()&&i.addClass("rtl"),i.addClass("container"),i.addClass("container-body","body"),a.containerCls&&i.addClass(a.containerCls),i._layout=g.create((a.layout||i.layout)+"layout"),i.settings.items&&i.add(i.settings.items),i._hasBody=!0},items:function(){return this._items},find:function(a){return a=f[a]=f[a]||new k(a),a.find(this)},add:function(i){var a=this;return a.items().add(a.create(i)).parent(a),a},focus:function(o){var l=this,p,m,a;return o&&(m=l.keyboardNav||l.parents().eq(-1)[0].keyboardNav)?void m.focusFirst(l):(a=l.find("*"),l.statusbar&&a.add(l.statusbar.items()),a.each(function(i){return i.settings.autofocus?(p=null,!1):void (i.canFocus&&(p=p||i))}),p&&p.focus(),l)},replace:function(o,l){for(var p,m=this.items(),a=m.length;a--;){if(m[a]===o){m[a]=l;break}}a>=0&&(p=l.getEl(),p&&p.parentNode.removeChild(p),p=o.getEl(),p&&p.parentNode.removeChild(p)),l.parent(this)},create:function(m){var o=this,l,e=[];return j.isArray(m)||(m=[m]),j.each(m,function(a){a&&(a instanceof h||("string"==typeof a&&(a={type:a}),l=j.extend({},o.settings.defaults,a),a.type=l.type=l.type||a.type||o.settings.defaultType||(l.defaults?l.defaults.type:null),a=g.create(l)),e.push(a))}),e},renderNew:function(){var a=this;return a.items().each(function(l,o){var m,e;l.parent(a),l._rendered||(m=a.getEl("body"),e=b.createFragment(l.renderHtml()),m.hasChildNodes()&&o<=m.childNodes.length-1?m.insertBefore(e,m.childNodes[o]):m.appendChild(e),l.postRender())}),a._layout.applyClasses(a),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(i){var a=this;return a.items().set(a.create(i).concat(a.items().toArray())),a.renderNew()},insert:function(s,p,v){var q=this,m,u,l;return s=q.create(s),m=q.items(),!v&&p<m.length-1&&(p+=1),p>=0&&p<m.length&&(u=m.slice(0,p).toArray(),l=m.slice(p).toArray(),m.set(u.concat(s,l))),q.renderNew()},fromJSON:function(i){var a=this;for(var l in i){a.find("#"+l).value(i[l])}return a},toJSON:function(){var i=this,a={};return i.find("*").each(function(m){var o=m.name(),l=m.value();o&&"undefined"!=typeof l&&(a[o]=l)}),a},preRender:function(){},renderHtml:function(){var i=this,a=i._layout,l=this.settings.role;return i.preRender(),a.preRender(i),'<div id="'+i._id+'" class="'+i.classes()+'"'+(l?' role="'+this.settings.role+'"':"")+'><div id="'+i._id+'-body" class="'+i.classes("body")+'">'+(i.settings.html||"")+a.renderHtml(i)+"</div></div>"},postRender:function(){var i=this,a;return i.items().exec("postRender"),i._super(),i._layout.postRender(i),i._rendered=!0,i.settings.style&&b.css(i.getEl(),i.settings.style),i.settings.border&&(a=i.borderBox(),b.css(i.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),i.parent()||(i.keyboardNav=new c({root:i})),i},initLayoutRect:function(){var i=this,a=i._super();return i._layout.recalc(i),a},recalc:function(){var i=this,a=i._layoutRect,l=i._lastRect;return l&&l.w==a.w&&l.h==a.h?void 0:(i._layout.recalc(i),a=i.layoutRect(),i._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a;if(this.visible()){for(h.repaintControls=[],h.repaintControls.map={},this.recalc(),a=h.repaintControls.length;a--;){h.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),h.repaintControls=[]}return this}})}),aF(a5,[bc],function(b){function a(){var k=document,q,g,d,j,f,p,u,h,m=Math.max;return q=k.documentElement,g=k.body,d=m(q.scrollWidth,g.scrollWidth),j=m(q.clientWidth,g.clientWidth),f=m(q.offsetWidth,g.offsetWidth),p=m(q.scrollHeight,g.scrollHeight),u=m(q.clientHeight,g.clientHeight),h=m(q.offsetHeight,g.offsetHeight),{width:f>d?j:d,height:h>p?u:p}}return function(h,e){function k(){return t.getElementById(e.handle||h)}var g,t=document,w,j,q,p,v,m;e=e||{},j=function(i){var d=a(),f,c;i.preventDefault(),w=i.button,f=k(),v=i.screenX,m=i.screenY,c=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("cursor"):f.runtimeStyle.cursor,g=t.createElement("div"),b.css(g,{position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:0.0001,background:"red",cursor:c}),t.body.appendChild(g),b.on(t,"mousemove",p),b.on(t,"mouseup",q),e.start(i)},p=function(c){return c.button!==w?q(c):(c.deltaX=c.screenX-v,c.deltaY=c.screenY-m,c.preventDefault(),void e.drag(c))},q=function(c){b.off(t,"mousemove",p),b.off(t,"mouseup",q),g.parentNode.removeChild(g),e.stop&&e.stop(c)},this.destroy=function(){b.off(k())},b.on(k(),"mousedown",j)}}),aF(bv,[bc,a5],function(b,a){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function f(){function h(F,C,G,o,z,x){var E,w,k,n,q,r,D,B,A;if(w=c.getEl("scroll"+F)){if(B=C.toLowerCase(),A=G.toLowerCase(),c.getEl("absend")&&b.css(c.getEl("absend"),B,c.layoutRect()[o]-1),!z){return void b.css(w,"display","none")}b.css(w,"display","block"),E=c.getEl("body"),k=c.getEl("scroll"+F+"t"),n=E["client"+G]-2*e,n-=j&&i?w["client"+x]:0,q=E["scroll"+G],r=n/q,D={},D[B]=E["offset"+C]+e,D[A]=n,b.css(w,D),D={},D[B]=E["scroll"+C]*r,D[A]=n*r,b.css(k,D)}}var j,i,g;g=c.getEl("body"),j=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight,h("h","Left","Width","contentW",j,"Height"),h("v","Top","Height","contentH",i,"Width")}function d(){function g(q,m,i,k,h){var p,o=c._id+"-scroll"+q,j=c.classPrefix;c.getEl().appendChild(b.createFragment('<div id="'+o+'" class="'+j+"scrollbar "+j+"scrollbar-"+q+'"><div id="'+o+'t" class="'+j+'scrollbar-thumb"></div></div>')),c.draghelper=new a(o+"t",{start:function(){p=c.getEl("body")["scroll"+m],b.addClass(b.get(o),j+"active")},drag:function(v){var n,w,l,r,s=c.layoutRect();w=s.contentW>s.innerW,l=s.contentH>s.innerH,r=c.getEl("body")["client"+i]-2*e,r-=w&&l?c.getEl("scroll"+q)["client"+h]:0,n=r/c.getEl("body")["scroll"+i],c.getEl("body")["scroll"+m]=p+v["delta"+k]/n},stop:function(){b.removeClass(b.get(o),j+"active")}})}c.addClass("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var c=this,e=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",function(h){var g=c.getEl("body");g.scrollLeft+=10*(h.deltaX||0),g.scrollTop+=10*h.deltaY,f()}),b.on(c.getEl("body"),"scroll",f)),f())}}}),aF(a7,[bq,bv],function(b,a){return b.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[a],renderHtml:function(){var d=this,c=d._layout,f=d.settings.html;return d.preRender(),c.preRender(d),"undefined"==typeof f?f='<div id="'+d._id+'-body" class="'+d.classes("body")+'">'+c.renderHtml(d)+"</div>":("function"==typeof f&&(f=f.call(d)),d._hasBody=!1),'<div id="'+d._id+'" class="'+d.classes()+'" hidefocus="1" tabindex="-1" role="group">'+(d._preBodyHtml||"")+f+"</div>"}})}),aF(br,[bc],function(b){function a(z,j,e){var m,h,x,A,k,w,v,y,q,g;return q=b.getViewPort(),h=b.getPos(j),x=h.x,A=h.y,z._fixed&&(x-=q.x,A-=q.y),m=z.getEl(),g=b.getSize(m),k=g.width,w=g.height,g=b.getSize(j),v=g.width,y=g.height,e=(e||"").split(""),"b"===e[0]&&(A+=y),"r"===e[1]&&(x+=v),"c"===e[0]&&(A+=Math.round(y/2)),"c"===e[1]&&(x+=Math.round(v/2)),"b"===e[3]&&(A-=w),"r"===e[4]&&(x-=k),"c"===e[3]&&(A-=Math.round(w/2)),"c"===e[4]&&(x-=Math.round(k/2)),{x:x,y:A,w:k,h:w}}return{testMoveRel:function(g,e){for(var d=b.getViewPort(),f=0;f<e.length;f++){var c=a(this,g,e[f]);if(this._fixed){if(c.x>0&&c.x+c.w<d.w&&c.y>0&&c.y+c.h<d.h){return e[f]}}else{if(c.x>d.x&&c.x+c.w<d.w+d.x&&c.y>d.y&&c.y+c.h<d.h+d.y){return e[f]}}}return e[0]},moveRel:function(d,f){"string"!=typeof f&&(f=this.testMoveRel(d,f));var c=a(this,d,f);return this.moveTo(c.x,c.y)},moveBy:function(f,c){var g=this,d=g.layoutRect();return g.moveTo(d.x+f,d.y+c),g},moveTo:function(e,h){function f(j,i,k){return 0>j?0:j+k>i?(j=i-k,0>j?0:j):j}var d=this;if(d.settings.constrainToViewport){var g=b.getViewPort(window),c=d.layoutRect();e=f(e,g.w+g.x,c.w),h=f(h,g.h+g.y,c.h)}return d._rendered?d.layoutRect({x:e,y:h}).repaint():(d.settings.x=e,d.settings.y=h),d.fire("move",{x:e,y:h}),d}}}),aF(bi,[bc],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,d){if(1>=b||1>=d){var c=a.getWindowSize();b=1>=b?b*c.w:b,d=1>=d?d*c.h:d}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:d,w:b,h:d}).reflow()},resizeBy:function(d,b){var f=this,c=f.layoutRect();return f.resizeTo(c.w+d,c.h+b)}}}),aF(a4,[a7,br,bi,bc],function(k,u,g,b){function j(c){var a;for(a=v.length;a--;){v[a]===c&&v.splice(a,1)}for(a=h.length;a--;){h[a]===c&&h.splice(a,1)}}var f,q,v=[],h=[],p,m=k.extend({Mixins:[u,g],init:function(l){function d(){var w,s=m.zIndex||65535,x;if(h.length){for(w=0;w<h.length;w++){h[w].modal&&(s++,x=h[w]),h[w].getEl().style.zIndex=s,h[w].zIndex=s,s++}}var r=document.getElementById(a.classPrefix+"modal-block");x?b.css(r,"z-index",x.zIndex-1):r&&(r.parentNode.removeChild(r),p=!1),m.currentZIndex=s}function o(n,i){for(;n;){if(n==i){return !0}n=n.parent()}}function c(r){function i(w,y){for(var x,e=0;e<v.length;e++){if(v[e]!=r){for(x=v[e].parent();x&&(x=x.parent());){x==r&&v[e].fixed(w).moveBy(0,y).repaint()}}}}var s=b.getViewPort().y;r.settings.autofix&&(r._fixed?r._autoFixY>s&&(r.fixed(!1).layoutRect({y:r._autoFixY}).repaint(),i(!1,r._autoFixY-s)):(r._autoFixY=r.layoutRect().y,r._autoFixY<s&&(r.fixed(!0).layoutRect({y:0}).repaint(),i(!0,s-r._autoFixY))))}var a=this;a._super(l),a._eventsRoot=a,a.addClass("floatpanel"),l.autohide&&(f||(f=function(x){for(var s=v.length;s--;){var w=v[s],n=w.getParentCtrl(x.target);if(w.settings.autohide){if(n&&(o(n,w)||w.parent()===n)){continue}x=w.fire("autohide",{target:x.target}),x.isDefaultPrevented()||w.hide()}}},b.on(document,"click",f)),v.push(a)),l.autofix&&(q||(q=function(){var i;for(i=v.length;i--;){c(v[i])}},b.on(window,"scroll",q)),a.on("move",function(){c(this)})),a.on("postrender show",function(s){if(s.control==a){var t,r=a.classPrefix;a.modal&&!p&&(t=b.createFragment('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>'),t=t.firstChild,a.getContainerElm().appendChild(t),setTimeout(function(){b.addClass(t,r+"in"),b.addClass(a.getEl(),r+"in")},0),p=!0),h.push(a),d()}}),a.on("close hide",function(i){if(i.control==a){for(var r=h.length;r--;){h[r]===a&&h.splice(r,1)}d()}}),a.on("show",function(){a.parents().each(function(i){return i._fixed?(a.fixed(!0),!1):void 0})}),l.popover&&(a._preBodyHtml='<div class="'+a.classPrefix+'arrow"></div>',a.addClass("popover").addClass("bottom").addClass(a.isRtl()?"end":"start"))},fixed:function(c){var a=this;if(a._fixed!=c){if(a._rendered){var d=b.getViewPort();c?a.layoutRect().y-=d.y:a.layoutRect().y+=d.y}a.toggleClass("fixed",c),a._fixed=c}return a},show:function(){var c=this,a,d=c._super();for(a=v.length;a--&&v[a]!==c;){}return -1===a&&v.push(c),d},hide:function(){return j(this),this._super()},hideAll:function(){m.hideAll()},close:function(){var a=this;return a.fire("close"),a.remove()},remove:function(){j(this),this._super()},postRender:function(){var a=this;return a.settings.bodyRole&&this.getEl("body").setAttribute("role",a.settings.bodyRole),a._super()}});return m.hideAll=function(){for(var c=v.length;c--;){var a=v[c];a&&a.settings.autohide&&(a.hide(),v.splice(c,1))}},m}),aF(bX,[a4,a7,bc,a5],function(d,b,f,c){var a=d.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(g){var h=this;h._super(g),h.isRtl()&&h.addClass("rtl"),h.addClass("window"),h._fixed=!0,g.buttons&&(h.statusbar=new b({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:h.isRtl()?"start":"end",defaults:{type:"button"},items:g.buttons}),h.statusbar.addClass("foot"),h.statusbar.parent(h)),h.on("click",function(i){-1!=i.target.className.indexOf(h.classPrefix+"close")&&h.close()}),h.on("cancel",function(){h.close()}),h.aria("describedby",h.describedBy||h._id+"-none"),h.aria("label",g.title),h._fullscreen=!1},recalc:function(){var l=this,j=l.statusbar,k,h,m,g;l._fullscreen&&(l.layoutRect(f.getWindowSize()),l.layoutRect().contentH=l.layoutRect().innerH),l._super(),k=l.layoutRect(),l.settings.title&&!l._fullscreen&&(h=k.headerW,h>k.w&&(m=k.x-Math.max(0,h/2),l.layoutRect({w:h,x:m}),g=!0)),j&&(j.layoutRect({w:l.layoutRect().innerW}).recalc(),h=j.layoutRect().minW+k.deltaW,h>k.w&&(m=k.x-Math.max(0,h-k.w),l.layoutRect({w:h,x:m}),g=!0)),g&&l.recalc()},initLayoutRect:function(){var l=this,j=l._super(),k=0,h;if(l.settings.title&&!l._fullscreen){h=l.getEl("head");var m=f.getSize(h);j.headerW=m.width,j.headerH=m.height,k+=j.headerH}l.statusbar&&(k+=l.statusbar.layoutRect().h),j.deltaH+=k,j.minH+=k,j.h+=k;var g=f.getWindowSize();return j.x=Math.max(0,g.w/2-j.w/2),j.y=Math.max(0,g.h/2-j.h/2),j},renderHtml:function(){var m=this,j=m._layout,q=m._id,l=m.classPrefix,h=m.settings,p="",g="",k=h.html;return m.preRender(),j.preRender(m),h.title&&(p='<div id="'+q+'-head" class="'+l+'window-head"><div id="'+q+'-title" class="'+l+'title">'+m.encode(h.title)+'</div><button type="button" class="'+l+'close" aria-hidden="true">\xd7</button><div id="'+q+'-dragh" class="'+l+'dragh"></div></div>'),h.url&&(k='<iframe src="'+h.url+'" tabindex="-1"></iframe>'),"undefined"==typeof k&&(k=j.renderHtml(m)),m.statusbar&&(g=m.statusbar.renderHtml()),'<div id="'+q+'" class="'+m.classes()+'" hidefocus="1"><div class="'+m.classPrefix+'reset" role="application">'+p+'<div id="'+q+'-body" class="'+m.classes("body")+'">'+k+"</div>"+g+"</div></div>"},fullscreen:function(m){var j=this,l=document.documentElement,h,n=j.classPrefix,g;if(m!=j._fullscreen){if(f.on(window,"resize",function(){var o;if(j._fullscreen){if(h){j._timer||(j._timer=setTimeout(function(){var p=f.getWindowSize();j.moveTo(0,0).resizeTo(p.w,p.h),j._timer=0},50))}else{o=(new Date).getTime();var i=f.getWindowSize();j.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-o>50&&(h=!0)}}}),g=j.layoutRect(),j._fullscreen=m,m){j._initial={x:g.x,y:g.y,w:g.w,h:g.h},j._borderBox=j.parseBox("0"),j.getEl("head").style.display="none",g.deltaH-=g.headerH+2,f.addClass(l,n+"fullscreen"),f.addClass(document.body,n+"fullscreen"),j.addClass("fullscreen");var k=f.getWindowSize();j.moveTo(0,0).resizeTo(k.w,k.h)}else{j._borderBox=j.parseBox(j.settings.border),j.getEl("head").style.display="",g.deltaH+=g.headerH,f.removeClass(l,n+"fullscreen"),f.removeClass(document.body,n+"fullscreen"),j.removeClass("fullscreen"),j.moveTo(j._initial.x,j._initial.y).resizeTo(j._initial.w,j._initial.h)}}return j.reflow()},postRender:function(){var h=this,g;setTimeout(function(){h.addClass("in")},0),h._super(),h.statusbar&&h.statusbar.postRender(),h.focus(),this.dragHelper=new c(h._id+"-dragh",{start:function(){g={x:h.layoutRect().x,y:h.layoutRect().y}},drag:function(e){h.moveTo(g.x+e.deltaX,g.y+e.deltaY)}}),h.on("submit",function(e){e.isDefaultPrevented()||h.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var h=this,g=h.classPrefix;h.dragHelper.destroy(),h._super(),h.statusbar&&this.statusbar.remove(),h._fullscreen&&(f.removeClass(document.documentElement,g+"fullscreen"),f.removeClass(document.body,g+"fullscreen"))},getContentWindow:function(){var g=this.getEl().getElementsByTagName("iframe")[0];return g?g.contentWindow:null}});return a}),aF(be,[bX],function(b){var a=b.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var d,c=e.callback||function(){};switch(e.buttons){case a.OK_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}},{type:"button",text:"Cancel",onClick:function(f){f.control.parents()[1].close(),c(!1)}}];break;case a.YES_NO:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}}];break;case a.YES_NO_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}];break;default:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}}]}return new b({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:d,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){c(!1)}}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,a.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=a.OK_CANCEL,a.msgBox(c)}}});return a}),aF(a6,[bX,be],function(b,a){return function(f){function d(){return e.length?e[e.length-1]:void 0}var c=this,e=[];c.windows=e,c.open=function(h,j){var g;return f.editorManager.activeEditor=f,h.title=h.title||" ",h.url=h.url||h.file,h.url&&(h.width=parseInt(h.width||320,10),h.height=parseInt(h.height||240,10)),h.body&&(h.items={defaults:h.defaults,type:h.bodyType||"form",items:h.body}),h.url||h.buttons||(h.buttons=[{text:"Ok",subtype:"primary",onclick:function(){g.find("form")[0].submit()}},{text:"Cancel",onclick:function(){g.close()}}]),g=new b(h),e.push(g),g.on("close",function(){for(var i=e.length;i--;){e[i]===g&&e.splice(i,1)}f.focus()}),h.data&&g.on("postRender",function(){this.find("*").each(function(i){var k=i.name();k in h.data&&i.value(h.data[k])})}),g.features=h||{},g.params=j||{},f.nodeChanged(),g.renderTo().reflow()},c.alert=function(j,h,g){a.alert(j,function(){h?h.call(g||this):f.focus()})},c.confirm=function(h,i,g){a.confirm(h,function(j){i.call(g||this,j)})},c.close=function(){d()&&d().close()},c.getParams=function(){return d()?d().params:null},c.setParams=function(g){d()&&(d().params=g)},c.getWindows=function(){return e}}}),aF(bR,[bd,bC,bz,aM,aS,aU],function(d,b,g,c,a,f){return function(cw){function cj(j,h){try{cw.getDoc().execCommand(j,!1,h)}catch(k){}}function cn(){var h=cw.getDoc().documentMode;return h?h:6}function cu(h){return h.isDefaultPrevented()}function ct(){function k(u){var l=new j(function(){});f.each(cw.getBody().getElementsByTagName("*"),function(w){"SPAN"==w.tagName&&w.setAttribute("mce-data-marked",1),!w.hasAttribute("data-mce-style")&&w.hasAttribute("style")&&cw.dom.setAttrib(w,"style",w.getAttribute("style"))}),l.observe(cw.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),cw.getDoc().execCommand(u?"ForwardDelete":"Delete",!1,null);var v=cw.selection.getRng(),s=v.startContainer.parentNode;f.each(l.takeRecords(),function(x){if(ck.isChildOf(x.target,cw.getBody())){if("style"==x.attributeName){var w=x.target.getAttribute("data-mce-style");w?x.target.setAttribute("style",w):x.target.removeAttribute("style")}f.each(x.addedNodes,function(A){if("SPAN"==A.nodeName&&!A.getAttribute("mce-data-marked")){var z,y;A==s&&(z=v.startOffset,y=A.firstChild),ck.remove(A,!0),y&&(v.setStart(y,z),v.setEnd(y,z),cw.selection.setRng(v))}})}}),l.disconnect(),f.each(cw.dom.select("span[mce-data-marked]"),function(w){w.removeAttribute("mce-data-marked")})}var q=cw.getDoc(),p="data:text/mce-internal,",j=window.MutationObserver,m,h;j||(m=!0,j=function(){function u(x){var w=x.relatedNode||x.target;v.push({target:w,addedNodes:[w]})}function l(x){var w=x.relatedNode||x.target;v.push({target:w,attributeName:x.attrName})}var v=[],s;this.observe=function(w){s=w,s.addEventListener("DOMSubtreeModified",u,!1),s.addEventListener("DOMNodeInsertedIntoDocument",u,!1),s.addEventListener("DOMNodeInserted",u,!1),s.addEventListener("DOMAttrModified",l,!1)},this.disconnect=function(){s.removeEventListener("DOMSubtreeModified",u,!1),s.removeEventListener("DOMNodeInsertedIntoDocument",u,!1),s.removeEventListener("DOMNodeInserted",u,!1),s.removeEventListener("DOMAttrModified",l,!1)},this.takeRecords=function(){return v}}),cw.on("keydown",function(z){var x=z.keyCode==r,v=d.metaKeyPressed(z);if(!cu(z)&&(x||z.keyCode==o)){var y=cw.selection.getRng(),w=y.startContainer,u=y.startOffset;if(!v&&y.collapsed&&3==w.nodeType&&(x?u<w.data.length:u>0)){return}z.preventDefault(),v&&cw.selection.getSel().modify("extend",x?"forward":"backward","word"),k(x)}}),cw.on("keypress",function(l){cu(l)||cp.isCollapsed()||!l.charCode||d.metaKeyPressed(l)||(l.preventDefault(),k(!0),cw.selection.setContent(String.fromCharCode(l.charCode)))}),cw.addCommand("Delete",function(){k()}),cw.addCommand("ForwardDelete",function(){k(!0)}),m||(cw.on("dragstart",function(s){var l;cw.selection.isCollapsed()&&"IMG"==s.target.tagName&&cp.select(s.target),h=cp.getRng(),l=cw.selection.getContent(),l.length>0&&s.dataTransfer.setData("URL","data:text/mce-internal,"+escape(l))}),cw.on("drop",function(s){if(!cu(s)){var l=s.dataTransfer.getData("URL");if(!l||-1==l.indexOf(p)||!q.caretRangeFromPoint){return}l=unescape(l.substr(p.length)),q.caretRangeFromPoint&&(s.preventDefault(),window.setTimeout(function(){var u=q.caretRangeFromPoint(s.x,s.y);h&&(cp.setRng(h),h=null),k(),cp.setRng(u),cw.insertContent(l)},0))}}),cw.on("cut",function(l){!cu(l)&&l.clipboardData&&(l.preventDefault(),l.clipboardData.clearData(),l.clipboardData.setData("text/html",cw.selection.getContent()),l.clipboardData.setData("text/plain",cw.selection.getContent({format:"text"})),k(!0))}))}function ci(){function h(l){var k=ck.create("body"),m=l.cloneContents();return k.appendChild(m),cp.serializer.serialize(k,{format:"html"})}function j(q){if(!q.setStart){if(q.item){return !1}var m=q.duplicate();return m.moveToElementText(cw.getBody()),b.compareRanges(q,m)}var k=h(q),p=ck.createRng();p.selectNode(cw.getBody());var l=h(p);return k===l}cw.on("keydown",function(p){var l=p.keyCode,m,k;if(!cu(p)&&(l==r||l==o)){if(m=cw.selection.isCollapsed(),k=cw.getBody(),m&&!ck.isEmpty(k)){return}if(!m&&!j(cw.selection.getRng())){return}p.preventDefault(),cw.setContent(""),k.firstChild&&ck.isBlock(k.firstChild)?cw.selection.setCursorLocation(k.firstChild,0):cw.selection.setCursorLocation(k,0),cw.nodeChanged()}})}function cs(){cw.on("keydown",function(h){!cu(h)&&65==h.keyCode&&d.metaKeyPressed(h)&&(h.preventDefault(),cw.execCommand("SelectAll"))})}function cl(){cw.settings.content_editable||(ck.bind(cw.getDoc(),"focusin",function(){cp.setRng(cp.getRng())}),ck.bind(cw.getDoc(),"mousedown",function(h){h.target==cw.getDoc().documentElement&&(cw.getBody().focus(),cp.setRng(cp.getRng()))}))}function cm(){cw.on("keydown",function(j){if(!cu(j)&&j.keyCode===o&&cp.isCollapsed()&&0===cp.getRng(!0).startOffset){var h=cp.getNode(),k=h.previousSibling;if("HR"==h.nodeName){return ck.remove(h),void j.preventDefault()}k&&k.nodeName&&"hr"===k.nodeName.toLowerCase()&&(ck.remove(k),j.preventDefault())}})}function cq(){window.Range.prototype.getClientRects||cw.on("mousedown",function(j){if(!cu(j)&&"HTML"===j.target.nodeName){var h=cw.getBody();h.blur(),setTimeout(function(){h.focus()},0)}})}function cr(){cw.on("click",function(h){h=h.target,/^(IMG|HR)$/.test(h.nodeName)&&cp.getSel().setBaseAndExtent(h,0,h,1),"A"==h.nodeName&&ck.hasClass(h,"mce-item-anchor")&&cp.select(h),cw.nodeChanged()})}function ch(){function j(){var k=ck.getAttribs(cp.getStart().cloneNode(!1));return function(){var l=cp.getStart();l!==cw.getBody()&&(ck.setAttrib(l,"style",null),n(k,function(m){l.setAttributeNode(m.cloneNode(!0))}))}}function h(){return !cp.isCollapsed()&&ck.getParent(cp.getStart(),ck.isBlock)!=ck.getParent(cp.getEnd(),ck.isBlock)}cw.on("keypress",function(l){var k;return cu(l)||8!=l.keyCode&&46!=l.keyCode||!h()?void 0:(k=j(),cw.getDoc().execCommand("delete",!1,null),k(),l.preventDefault(),!1)}),ck.bind(cw.getDoc(),"cut",function(l){var k;!cu(l)&&h()&&(k=j(),setTimeout(function(){k()},0))})}function ce(){var h,j;cw.on("selectionchange",function(){j&&(clearTimeout(j),j=0),j=window.setTimeout(function(){if(!cw.removed){var k=cp.getRng();h&&b.compareRanges(k,h)||(cw.nodeChanged(),h=k)}},50)})}function cv(){document.body.setAttribute("role","application")}function b9(){cw.on("keydown",function(j){if(!cu(j)&&j.keyCode===o&&cp.isCollapsed()&&0===cp.getRng(!0).startOffset){var h=cp.getNode().previousSibling;if(h&&h.nodeName&&"table"===h.nodeName.toLowerCase()){return j.preventDefault(),!1}}})}function cf(){cn()>7||(cj("RespectVisibilityInDesign",!0),cw.contentStyles.push(".mceHideBrInPre pre br {display: none}"),ck.addClass(cw.getBody(),"mceHideBrInPre"),b1.addNodeFilter("pre",function(m){for(var k=m.length,l,j,p,h;k--;){for(l=m[k].getAll("br"),j=l.length;j--;){p=l[j],h=p.prev,h&&3===h.type&&"\n"!=h.value.charAt(h.value-1)?h.value+="\n":p.parent.insert(new g("#text",3),p,!0).value="\n"}}}),e.addNodeFilter("pre",function(l){for(var j=l.length,p,k,h,m;j--;){for(p=l[j].getAll("br"),k=p.length;k--;){h=p[k],m=h.prev,m&&3==m.type&&(m.value=m.value.replace(/\r?\n$/,""))}}}))}function cg(){ck.bind(cw.getBody(),"mouseup",function(){var j,h=cp.getNode();"IMG"==h.nodeName&&((j=ck.getStyle(h,"width"))&&(ck.setAttrib(h,"width",j.replace(/[^0-9%]+/g,"")),ck.setStyle(h,"width","")),(j=ck.getStyle(h,"height"))&&(ck.setAttrib(h,"height",j.replace(/[^0-9%]+/g,"")),ck.setStyle(h,"height","")))})}function cx(){cw.on("keydown",function(j){var p,l,h,m,k;if(!cu(j)&&j.keyCode==d.BACKSPACE&&(p=cp.getRng(),l=p.startContainer,h=p.startOffset,m=ck.getRoot(),k=l,p.collapsed&&0===h)){for(;k&&k.parentNode&&k.parentNode.firstChild==k&&k.parentNode!=m;){k=k.parentNode}"BLOCKQUOTE"===k.tagName&&(cw.formatter.toggle("blockquote",null,k),p=ck.createRng(),p.setStart(l,0),p.setEnd(l,0),cp.setRng(p))}})}function b7(){function h(){cw._refreshContentEditable(),cj("StyleWithCSS",!1),cj("enableInlineTableEditing",!1),cc.object_resizing||cj("enableObjectResizing",!1)}cc.readonly||cw.on("BeforeExecCommand MouseDown",h)}function bY(){function h(){n(ck.select("a"),function(k){var j=k.parentNode,l=ck.getRoot();if(j.lastChild===k){for(;j&&!ck.isBlock(j);){if(j.parentNode.lastChild!==j||j===l){return}j=j.parentNode}ck.add(j,"br",{"data-mce-bogus":1})}})}cw.on("SetContent ExecCommand",function(j){("setcontent"==j.type||"mceInsertLink"===j.command)&&h()})}function co(){cc.forced_root_block&&cw.on("init",function(){cj("DefaultParagraphSeparator",cc.forced_root_block)})}function Q(){cw.on("Undo Redo SetContent",function(h){h.initial||cw.execCommand("mceRepaint")})}function t(){cw.on("keydown",function(j){var h;cu(j)||j.keyCode!=o||(h=cw.getDoc().selection.createRange(),h&&h.item&&(j.preventDefault(),cw.undoManager.beforeChange(),ck.remove(h.item(0)),cw.undoManager.add()))})}function Z(){var h;cn()>=10&&(h="",n("p div h1 h2 h3 h4 h5 h6".split(" "),function(j,k){h+=(k>0?",":"")+j+":empty"}),cw.contentStyles.push(h+"{padding-right: 1px !important}"))}function cb(){cn()<9&&(b1.addNodeFilter("noscript",function(k){for(var h=k.length,l,j;h--;){l=k[h],j=l.firstChild,j&&l.attr("data-mce-innertext",j.value)}}),e.addNodeFilter("noscript",function(l){for(var k=l.length,j,m,h;k--;){j=l[k],m=l[k].firstChild,m?m.value=c.decode(m.value):(h=j.attributes.map["data-mce-innertext"],h&&(j.attr("data-mce-innertext",null),m=new g("#text",3),m.value=h,m.raw=!0,j.append(m)))}}))}function ca(){function p(w,s){var x=j.createTextRange();try{x.moveToPoint(w,s)}catch(v){x=null}return x}function k(s){var v;s.button?(v=p(s.x,s.y),v&&(v.compareEndPoints("StartToStart",h)>0?v.setEndPoint("StartToStart",h):v.setEndPoint("EndToEnd",h),v.select())):u()}function u(){var s=m.selection.createRange();h&&!s.item&&0===s.compareEndPoints("StartToEnd",s)&&h.select(),ck.unbind(m,"mouseup",u),ck.unbind(m,"mousemove",k),h=q=0}var m=ck.doc,j=m.body,q,h,l;m.documentElement.unselectable=!0,ck.bind(m,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(q&&u(),l=m.documentElement,l.scrollHeight>l.clientHeight){return}q=1,h=p(s.x,s.y),h&&(ck.bind(m,"mouseup",u),ck.bind(m,"mousemove",k),ck.getRoot().focus(),h.select())}})}function b8(){cw.on("keyup focusin mouseup",function(h){65==h.keyCode&&d.metaKeyPressed(h)||cp.normalize()},!0)}function b0(){cw.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function bZ(){cw.inline||cw.on("keydown",function(){document.activeElement==document.body&&cw.getWin().focus()})}function b4(){cw.inline||(cw.contentStyles.push("body {min-height: 150px}"),cw.on("click",function(h){"HTML"==h.target.nodeName&&(cw.getBody().focus(),cw.selection.normalize(),cw.nodeChanged())}))}function at(){a.mac&&cw.on("keydown",function(h){!d.metaKeyPressed(h)||37!=h.keyCode&&39!=h.keyCode||(h.preventDefault(),cw.selection.getSel().modify("move",37==h.keyCode?"backward":"forward","word"))})}function bt(){cj("AutoUrlDetect",!1)}function b3(){cw.inline||cw.on("focus blur beforegetcontent",function(){var h=cw.dom.create("br");cw.getBody().appendChild(h),h.parentNode.removeChild(h)},!0)}function b6(){cw.on("click",function(j){var h=j.target;do{if("A"===h.tagName){return void j.preventDefault()}}while(h=h.parentNode)}),cw.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function cd(){cw.on("init",function(){cw.dom.bind(cw.getBody(),"submit",function(h){h.preventDefault()})})}var n=f.each,o=d.BACKSPACE,r=d.DELETE,ck=cw.dom,cp=cw.selection,cc=cw.settings,b1=cw.parser,e=cw.serializer,b5=a.gecko,i=a.ie,b2=a.webkit;b9(),cx(),ci(),b8(),b2&&(ct(),cl(),cr(),co(),cd(),a.iOS?(ce(),bZ(),b4(),b6()):cs()),i&&a.ie<11&&(cm(),cv(),cf(),cg(),t(),Z(),cb(),ca()),a.ie>=11&&(b4(),b3()),a.ie&&(cs(),bt()),b5&&(cm(),cq(),ch(),b7(),bY(),Q(),b0(),at())}}),aF(ar,[av],function(b){function a(c){return c._eventDispatcher||(c._eventDispatcher=new b({scope:c,toggleEvent:function(e,d){b.isNative(e)&&c.toggleNativeEvent&&c.toggleNativeEvent(e,d)}})),c._eventDispatcher}return{fire:function(f,h,d){var c=this;if(c.removed&&"remove"!==f){return h}if(h=a(c).fire(f,h,d),d!==!1&&c.parent){for(var g=c.parent();g&&!h.isPropagationStopped();){g.fire(f,h,!1),g=g.parent()}}return h},on:function(d,f,c){return a(this).on(d,f,c)},off:function(c,d){return a(this).off(c,d)},hasEventListeners:function(c){return a(this).has(c)}}}),aF(az,[ar,aB,aU],function(g,d,j){function f(i,a){return"selectionchange"==a?i.getDoc():!i.inline&&/^mouse|click|contextmenu|drop/.test(a)?i.getDoc():i.getBody()}function c(o,m){var p=o.settings.event_root,l=o.editorManager,k=l.eventRootElm||f(o,m);if(p){if(l.rootEvents||(l.rootEvents={},l.on("RemoveEditor",function(){l.activeEditor||(h.unbind(k),delete l.rootEvents)})),l.rootEvents[m]){return}k==o.getBody()&&(k=h.select(p)[0],l.eventRootElm=k),l.rootEvents[m]=!0,h.bind(k,m,function(u){for(var v=u.target,t=l.editors,i=t.length;i--;){var q=t[i].getBody();(q===v||h.isChildOf(v,q))&&(t[i].hidden||t[i].fire(m,u))}})}else{o.dom.bind(k,m,function(a){o.hidden||o.fire(m,a)})}}var h=d.DOM,b={bindPendingEventDelegates:function(){var a=this;j.each(a._pendingNativeEvents,function(e){c(a,e)})},toggleNativeEvent:function(i,a){var k=this;k.settings.readonly||"focus"!=i&&"blur"!=i&&(a?k.initialized?c(k,i):k._pendingNativeEvents?k._pendingNativeEvents.push(i):k._pendingNativeEvents=[i]:k.initialized&&k.dom.unbind(f(k,i),i))}};return b=j.extend({},g,b)}),aF(bA,[aU,aS],function(d,b){var f=d.each,c=d.explode,a={f9:120,f10:121,f11:122};return function(h){var e=this,g={};h.on("keyup keypress keydown",function(i){(i.altKey||i.ctrlKey||i.metaKey)&&f(g,function(k){var j=b.mac?i.metaKey:i.ctrlKey;if(k.ctrl==j&&k.alt==i.altKey&&k.shift==i.shiftKey){return i.keyCode==k.keyCode||i.charCode&&i.charCode==k.charCode?(i.preventDefault(),"keydown"==i.type&&k.func.call(k.scope),!0):void 0}})}),e.add=function(k,j,i,n){var m;return m=i,"string"==typeof i?i=function(){h.execCommand(m,!1,null)}:d.isArray(m)&&(i=function(){h.execCommand(m[0],m[1],m[2])}),f(c(k.toLowerCase()),function(o){var l={func:i,scope:n||h,desc:h.translate(j),alt:!1,ctrl:!1,shift:!1};f(c(o,"+"),function(p){switch(p){case"alt":case"ctrl":case"shift":l[p]=!0;break;default:l.charCode=p.charCodeAt(0),l.keyCode=a[p]||p.toUpperCase().charCodeAt(0)}}),g[(l.ctrl?"ctrl":"")+","+(l.alt?"alt":"")+","+(l.shift?"shift":"")+","+l.keyCode]=l}),!0}}}),aF(bH,[aB,aZ,bz,aP,bm,bB,bp,bo,bu,bj,bk,bs,aw,aW,a6,ax,a1,bR,aS,aU,az,bA],function(b7,bZ,Y,b3,bY,cb,W,b1,b9,b8,Q,b6,bt,b0,b4,b5,P,I,ca,X,J,O){function cc(g,d,f){var c=this,h,b;h=c.documentBaseUrl=f.documentBaseURL,b=f.baseURI,c.settings=d=q({id:g,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:h,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c,ie7_compat:!0},d),bZ.language=d.language||"en",bZ.languageLoad=d.language_load,bZ.baseURL=f.baseURL,c.id=d.id=g,c.isNotDirty=!0,c.plugins={},c.documentBaseURI=new b6(d.document_base_url||h,{base_uri:b}),c.baseURI=b,c.contentCSS=[],c.contentStyles=[],c.shortcuts=new O(c),c.execCommands={},c.queryStateCommands={},c.queryValueCommands={},c.loadedCSS={},c.suffix=f.suffix,c.editorManager=f,c.inline=d.inline,f.fire("SetupEditor",c),c.execCallback("setup",c)}var U=b7.DOM,z=bZ.ThemeManager,b2=bZ.PluginManager,q=X.extend,j=X.each,t=X.explode,at=X.inArray,Z=X.trim,V=X.resolve,G=b0.Event,F=ca.gecko,K=ca.ie;return cc.prototype={render:function(){function g(){U.unbind(window,"ready",g),k.render()}function d(){var i=bt.ScriptLoader;if(f.language&&"en"!=f.language&&!f.language_url&&(f.language_url=k.editorManager.baseURL+"/langs/"+f.language+".js"),f.language_url&&i.add(f.language_url),f.theme&&"function"!=typeof f.theme&&"-"!=f.theme.charAt(0)&&!z.urls[f.theme]){var a=f.theme_url;a=a?k.documentBaseURI.toAbsolute(a):"themes/"+f.theme+"/theme"+h+".js",z.load(f.theme,a)}X.isArray(f.plugins)&&(f.plugins=f.plugins.join(" ")),j(f.external_plugins,function(m,l){b2.load(l,m),f.plugins+=" "+l}),j(f.plugins.split(/[ ,]/),function(m){if(m=Z(m),m&&!b2.urls[m]){if("-"==m.charAt(0)){m=m.substr(1,m.length);var l=b2.dependencies(m);j(l,function(o){var n={prefix:"plugins/",resource:o,suffix:"/plugin"+h+".js"};o=b2.createUrl(n,o),b2.load(o.resource,o)})}else{b2.load(m,{prefix:"plugins/",resource:m,suffix:"/plugin"+h+".js"})}}}),i.loadQueue(function(){k.removed||k.init()})}var k=this,f=k.settings,c=k.id,h=k.suffix;if(!G.domLoaded){return void U.bind(window,"ready",g)}if(k.getElement()&&ca.contentEditable){f.inline?k.inline=!0:(k.orgVisibility=k.getElement().style.visibility,k.getElement().style.visibility="hidden");var b=k.getElement().form||U.getParent(c,"form");b&&(k.formElement=b,f.hidden_input&&!/TEXTAREA|INPUT/i.test(k.getElement().nodeName)&&(U.insertAfter(U.create("input",{type:"hidden",name:c}),c),k.hasHiddenInput=!0),k.formEventDelegate=function(a){k.fire(a.type,a)},U.bind(b,"submit reset",k.formEventDelegate),k.on("reset",function(){k.setContent(k.startContent,{format:"raw"})}),!f.submit_patch||b.submit.nodeType||b.submit.length||b._mceOldSubmit||(b._mceOldSubmit=b.submit,b.submit=function(){return k.editorManager.triggerSave(),k.isNotDirty=!0,b._mceOldSubmit(b)})),k.windowManager=new b4(k),"xml"==f.encoding&&k.on("GetContent",function(a){a.save&&(a.content=U.encode(a.content))}),f.add_form_submit_trigger&&k.on("submit",function(){k.initialized&&k.save()}),f.add_unload_trigger&&(k._beforeUnload=function(){!k.initialized||k.destroyed||k.isHidden()||k.save({format:"raw",no_events:!0,set_dirty:!1})},k.editorManager.on("BeforeUnload",k._beforeUnload)),d()}},init:function(){function T(e){var c=b2.get(e),a,d;a=b2.urls[e]||x.documentBaseUrl.replace(/\/$/,""),e=Z(e),c&&-1===at(N,e)&&(j(b2.dependencies(e),function(f){T(f)}),d=new c(x,a),x.plugins[e]=d,d.init&&(d.init(x,a),N.push(e)))}var x=this,E=x.settings,B=x.getElement(),M,D,cf,A,L,ce,cd,w,S,C,H,N=[];if(x.rtl=this.editorManager.i18n.rtl,x.editorManager.add(x),E.aria_label=E.aria_label||U.getAttrib(B,"aria-label",x.getLang("aria.rich_text_area")),E.theme&&("function"!=typeof E.theme?(E.theme=E.theme.replace(/-/,""),ce=z.get(E.theme),x.theme=new ce(x,z.urls[E.theme]),x.theme.init&&x.theme.init(x,z.urls[E.theme]||x.documentBaseUrl.replace(/\/$/,""))):x.theme=E.theme),j(E.plugins.replace(/\-/g,"").split(/[ ,]/),T),E.render_ui&&x.theme&&(x.orgDisplay=B.style.display,"function"!=typeof E.theme?(M=E.width||B.style.width||B.offsetWidth,D=E.height||B.style.height||B.offsetHeight,cf=E.min_height||100,C=/^[0-9\.]+(|px)$/i,C.test(""+M)&&(M=Math.max(parseInt(M,10),100)),C.test(""+D)&&(D=Math.max(parseInt(D,10),cf)),L=x.theme.renderUI({targetNode:B,width:M,height:D,deltaWidth:E.delta_width,deltaHeight:E.delta_height}),E.content_editable||(U.setStyles(L.sizeContainer||L.editorContainer,{wi2dth:M,h2eight:D}),D=(L.iframeHeight||D)+("number"==typeof D?L.deltaHeight||0:""),cf>D&&(D=cf))):(L=E.theme(x,B),L.editorContainer.nodeType&&(L.editorContainer=L.editorContainer.id=L.editorContainer.id||x.id+"_parent"),L.iframeContainer.nodeType&&(L.iframeContainer=L.iframeContainer.id=L.iframeContainer.id||x.id+"_iframecontainer"),D=L.iframeHeight||B.offsetHeight),x.editorContainer=L.editorContainer),E.content_css&&j(t(E.content_css),function(a){x.contentCSS.push(x.documentBaseURI.toAbsolute(a))}),E.content_style&&x.contentStyles.push(E.content_style),E.content_editable){return B=A=L=null,x.initContentBody()}for(x.iframeHTML=E.doctype+"<html><head>",E.document_base_url!=x.documentBaseUrl&&(x.iframeHTML+='<base href="'+x.documentBaseURI.getURI()+'" />'),!ca.caretAfter&&E.ie7_compat&&(x.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),x.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',H=0;H<x.contentCSS.length;H++){var R=x.contentCSS[H];x.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+R+'" />',x.loadedCSS[R]=!0}w=E.body_id||"tinymce",-1!=w.indexOf("=")&&(w=x.getParam("body_id","","hash"),w=w[x.id]||w),S=E.body_class||"",-1!=S.indexOf("=")&&(S=x.getParam("body_class","","hash"),S=S[x.id]||""),x.iframeHTML+='</head><body id="'+w+'" class="mce-content-body '+S+'" onload="window.parent.tinymce.get(\''+x.id+"').fire('load');\"><br></body></html>";var k='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+x.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname&&(cd=k),A=U.add(L.iframeContainer,"iframe",{id:x.id+"_ifr",src:cd||'javascript:""',frameBorder:"0",allowTransparency:"true",title:x.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:D,display:"block"}}),K){try{x.getDoc()}catch(b){A.src=cd=k}}x.contentAreaContainer=L.iframeContainer,L.editorContainer&&(U.get(L.editorContainer).style.display=x.orgDisplay),U.get(x.id).style.display="none",U.setAttrib(x.id,"aria-hidden",!0),cd||x.initContentBody(),B=A=L=null},initContentBody:function(b){var i=this,g=i.settings,d=U.get(i.id),e=i.getDoc(),a,c;g.inline||(i.getElement().style.visibility=i.orgVisibility),b||g.content_editable||(e.open(),e.write(i.iframeHTML),e.close()),g.content_editable&&(i.on("remove",function(){var f=this.getBody();U.removeClass(f,"mce-content-body"),U.removeClass(f,"mce-edit-focus"),U.setAttrib(f,"contentEditable",null)}),U.addClass(d,"mce-content-body"),i.contentDocument=e=g.content_document||document,i.contentWindow=g.content_window||window,i.bodyElement=d,g.content_document=g.content_window=null,g.root_name=d.nodeName.toLowerCase()),a=i.getBody(),a.disabled=!0,g.readonly||(i.inline&&"static"==U.getStyle(a,"position",!0)&&(a.style.position="relative"),a.contentEditable=i.getParam("content_editable_state",!0)),a.disabled=!1,i.schema=new b5(g),i.dom=new b7(e,{keep_values:!0,url_converter:i.convertURL,url_converter_scope:i,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:g.content_editable?i.id:null,collect:g.content_editable,schema:i.schema,onSetAttrib:function(f){i.fire("SetAttrib",f)}}),i.parser=new P(g,i.schema),i.parser.addAttributeFilter("src,href,style,tabindex",function(n,k){for(var m=n.length,h,p=i.dom,f,l;m--;){h=n[m],f=h.attr(k),l="data-mce-"+k,h.attributes.map[l]||("style"===k?h.attr(l,p.serializeStyle(p.parseStyle(f),h.name)):"tabindex"===k?(h.attr(l,f),h.attr(k,null)):h.attr(l,i.convertURL(f,k,h.name)))}}),i.parser.addNodeFilter("script",function(h){for(var f=h.length,k;f--;){k=h[f],k.attr("type","mce-"+(k.attr("type")||"text/javascript"))}}),i.parser.addNodeFilter("#cdata",function(h){for(var f=h.length,k;f--;){k=h[f],k.type=8,k.name="#comment",k.value="[CDATA["+k.value+"]]"}}),i.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(k){for(var h=k.length,f,l=i.schema.getNonEmptyElements();h--;){f=k[h],f.isEmpty(l)&&(f.empty().append(new Y("br",1)).shortEnded=!0)}}),i.serializer=new b3(g,i),i.selection=new cb(i.dom,i.getWin(),i.serializer,i),i.formatter=new W(i),i.undoManager=new b1(i),i.forceBlocks=new b8(i),i.enterKey=new b9(i),i.editorCommands=new Q(i),i.fire("PreInit"),g.browser_spellcheck||g.gecko_spellcheck||(e.body.spellcheck=!1,U.setAttrib(a,"spellcheck","false")),i.fire("PostRender"),i.quirks=I(i),g.directionality&&(a.dir=g.directionality),g.nowrap&&(a.style.whiteSpace="nowrap"),g.protect&&i.on("BeforeSetContent",function(f){j(g.protect,function(h){f.content=f.content.replace(h,function(k){return"<!--mce:protected "+escape(k)+"-->"})})}),i.on("SetContent",function(){i.addVisual(i.getBody())}),g.padd_empty_editor&&i.on("PostProcess",function(f){f.content=f.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),i.load({initial:!0,format:"html"}),i.startContent=i.getContent({format:"raw"}),i.initialized=!0,i.bindPendingEventDelegates(),i.fire("init"),i.focus(!0),i.nodeChanged({initial:!0}),i.execCallback("init_instance_callback",i),i.contentStyles.length>0&&(c="",j(i.contentStyles,function(f){c+=f+"\r\n"}),i.dom.addStyle(c)),j(i.contentCSS,function(f){i.loadedCSS[f]||(i.dom.loadCSS(f),i.loadedCSS[f]=!0)}),g.auto_focus&&setTimeout(function(){var f=i.editorManager.get(g.auto_focus);f.selection.select(f.getBody(),1),f.selection.collapse(1),f.getBody().focus(),f.getWin().focus()},100),d=e=a=null},focus:function(k){var u,f=this,b=f.selection,h=f.settings.content_editable,d,p,v=f.getDoc(),g;if(!k){if(d=b.getRng(),d.item&&(p=d.item(0)),f._refreshContentEditable(),h||(ca.opera||f.getBody().focus(),f.getWin().focus()),F||h){if(g=f.getBody(),g.setActive){try{g.setActive()}catch(m){g.focus()}}else{g.focus()}h&&b.normalize()}p&&p.ownerDocument==v&&(d=v.body.createControlRange(),d.addElement(p),d.select())}f.editorManager.activeEditor!=f&&((u=f.editorManager.activeEditor)&&u.fire("deactivate",{relatedTarget:f}),f.fire("activate",{relatedTarget:u})),f.editorManager.activeEditor=f},execCallback:function(c){var a=this,d=a.settings[c],b;if(d){return a.callbackLookup&&(b=a.callbackLookup[c])&&(d=b.func,b=b.scope),"string"==typeof d&&(b=d.replace(/\.\w+$/,""),b=b?V(b):0,d=V(d),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[c]={func:d,scope:b}),d.apply(b||a,Array.prototype.slice.call(arguments,1))}},translate:function(b){var a=this.settings.language||"en",c=this.editorManager.i18n;return b?c.data[a+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(f,d){return c.data[a+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==aD?b:"{#"+a+"}")},getParam:function(d,b,f){var c=d in this.settings?this.settings[d]:b,a;return"hash"===f?(a={},"string"==typeof c?j(c.split(c.indexOf("=")>0?/[;,](?![^=;,]*(?:[;,]|$))/:","),function(g){g=g.split("="),a[Z(g[0])]=Z(g.length>1?g[1]:g)}):a=c,a):c},nodeChanged:function(){var d=this,b=d.selection,f,c,a;!d.initialized||d.settings.disable_nodechange||d.settings.readonly||(a=d.getBody(),f=b.getStart()||a,f=K&&f.ownerDocument!=d.getDoc()?d.getBody():f,"IMG"==f.nodeName&&b.isCollapsed()&&(f=f.parentNode),c=[],d.dom.getParent(f,function(g){return g===a?!0:void c.push(g)}),d.fire("NodeChange",{element:f,parents:c}))},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),a.text||a.icon||(a.icon=b),c.buttons=c.buttons||{},a.tooltip=a.tooltip||a.title,c.buttons[b]=a},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems||{},c.menuItems[b]=a},addCommand:function(b,a,c){this.execCommands[b]={func:a,scope:c||this}},addQueryStateHandler:function(b,a,c){this.queryStateCommands[b]={func:a,scope:c||this}},addQueryValueHandler:function(b,a,c){this.queryValueCommands[b]={func:a,scope:c||this}},addShortcut:function(c,a,d,b){this.shortcuts.add(c,a,d,b)},execCommand:function(g,d,k,f){var c=this,h=0,b;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(g)||f&&f.skip_focus||c.focus(),f=q({},f),f=c.fire("BeforeExecCommand",{command:g,ui:d,value:k}),f.isDefaultPrevented()?!1:(b=c.execCommands[g])&&b.func.call(b.scope,d,k)!==!0?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):(j(c.plugins,function(a){return a.execCommand&&a.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),h=!0,!1):void 0}),h?h:c.theme&&c.theme.execCommand&&c.theme.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):c.editorCommands.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):(c.getDoc().execCommand(g,d,k),void c.fire("ExecCommand",{command:g,ui:d,value:k})))},queryCommandState:function(d){var b=this,f,c;if(!b._isHidden()){if((f=b.queryStateCommands[d])&&(c=f.func.call(f.scope),c!==!0)){return c}if(c=b.editorCommands.queryCommandState(d),-1!==c){return c}try{return b.getDoc().queryCommandState(d)}catch(a){}}},queryCommandValue:function(c){var f=this,b,a;if(!f._isHidden()){if((b=f.queryValueCommands[c])&&(a=b.func.call(b.scope),a!==!0)){return a}if(a=f.editorCommands.queryCommandValue(c),a!==aD){return a}try{return f.getDoc().queryCommandValue(c)}catch(d){}}},show:function(){var a=this;a.hidden&&(a.hidden=!1,a.inline?a.getBody().contentEditable=!0:(U.show(a.getContainer()),U.hide(a.id)),a.load(),a.fire("show"))},hide:function(){var b=this,a=b.getDoc();b.hidden||(b.hidden=!0,K&&a&&!b.inline&&a.execCommand("SelectAll"),b.save(),b.inline?(b.getBody().contentEditable=!1,b==b.editorManager.focusedEditor&&(b.editorManager.focusedEditor=null)):(U.hide(b.getContainer()),U.setStyle(b.id,"display",b.orgDisplay)),b.fire("hide"))},isHidden:function(){return !!this.hidden},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(c){var d=this,b=d.getElement(),a;return b?(c=c||{},c.load=!0,a=d.setContent(b.value!==aD?b.value:b.innerHTML,c),c.element=b,c.no_events||d.fire("LoadContent",c),c.element=b=null,a):void 0},save:function(d){var b=this,f=b.getElement(),c,a;if(f&&b.initialized){return d=d||{},d.save=!0,d.element=f,c=d.content=b.getContent(d),d.no_events||b.fire("SaveContent",d),c=d.content,/TEXTAREA|INPUT/i.test(f.nodeName)?f.value=c:(b.inline||(f.innerHTML=c),(a=U.getParent(b.id,"form"))&&j(a.elements,function(g){return g.name==b.id?(g.value=c,!1):void 0})),d.element=f=null,d.set_dirty!==!1&&(b.isNotDirty=!0),c}},setContent:function(d,b){var f=this,c=f.getBody(),a;return b=b||{},b.format=b.format||"html",b.set=!0,b.content=d,b.no_events||f.fire("BeforeSetContent",b),d=b.content,0===d.length||/^\s+$/.test(d)?(a=f.settings.forced_root_block,a&&f.schema.isValidChild(c.nodeName.toLowerCase(),a.toLowerCase())?(d=K&&11>K?"":'<br data-mce-bogus="1">',d=f.dom.createHTML(a,f.settings.forced_root_block_attrs,d)):K||(d='<br data-mce-bogus="1">'),c.innerHTML=d,f.fire("SetContent",b)):("raw"!==b.format&&(d=new bY({},f.schema).serialize(f.parser.parse(d,{isRootContent:!0}))),b.content=Z(d),f.dom.setHTML(c,b.content),b.no_events||f.fire("SetContent",b)),b.content},getContent:function(c){var a=this,d,b=a.getBody();return c=c||{},c.format=c.format||"html",c.get=!0,c.getInner=!0,c.no_events||a.fire("BeforeGetContent",c),d="raw"==c.format?b.innerHTML:"text"==c.format?b.innerText||b.textContent:a.serializer.serialize(b,c),c.content="text"!=c.format?Z(d):d,c.no_events||a.fire("GetContent",c),c.content},insertContent:function(a){this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return !this.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=U.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return U.get(this.settings.content_element||this.id)},getWin:function(){var b=this,a;return b.contentWindow||(a=U.get(b.id+"_ifr"),a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var b=this,a;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(d,b,f){var c=this,a=c.settings;return a.urlconverter_callback?c.execCallback("urlconverter_callback",d,f,!0,b):!a.convert_urls||f&&"LINK"==f.nodeName||0===d.indexOf("file:")||0===d.length?d:a.relative_urls?c.documentBaseURI.toRelative(d):d=c.documentBaseURI.toAbsolute(d,a.remove_script_host)},addVisual:function(c){var f=this,b=f.settings,a=f.dom,d;c=c||f.getBody(),f.hasVisual===aD&&(f.hasVisual=b.visual),j(a.select("table,a",c),function(h){var g;switch(h.nodeName){case"TABLE":return d=b.visual_table_class||"mce-item-table",g=a.getAttrib(h,"border"),void (g&&"0"!=g||(f.hasVisual?a.addClass(h,d):a.removeClass(h,d)));case"A":return void (a.getAttrib(h,"href",!1)||(g=a.getAttrib(h,"name")||h.id,d=b.visual_anchor_class||"mce-item-anchor",g&&(f.hasVisual?a.addClass(h,d):a.removeClass(h,d))))}}),f.fire("VisualAid",{element:c,hasVisual:f.hasVisual})},remove:function(){var b=this;if(!b.removed){b.removed=1,b.save(),b.hasHiddenInput&&U.remove(b.getElement().nextSibling),b.inline||(K&&10>K&&b.getDoc().execCommand("SelectAll",!1,null),U.setStyle(b.id,"display",b.orgDisplay),b.getBody().onload=null,G.unbind(b.getWin()),G.unbind(b.getDoc()));var a=b.getContainer();G.unbind(b.getBody()),G.unbind(a),b.fire("remove"),b.editorManager.remove(b),U.remove(a),b.destroy()}},destroy:function(b){var a=this,c;if(!a.destroyed){if(!b&&!a.removed){return void a.remove()}b&&F&&(G.unbind(a.getDoc()),G.unbind(a.getWin()),G.unbind(a.getBody())),b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),a.selection.destroy(),a.dom.destroy()),c=a.formElement,c&&(c._mceOldSubmit&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=null),U.unbind(c,"submit reset",a.formEventDelegate)),a.contentAreaContainer=a.formElement=a.container=a.editorContainer=null,a.settings.content_element=a.bodyElement=a.contentDocument=a.contentWindow=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null),a.destroyed=1}},_refreshContentEditable:function(){var b=this,a,c;b._isHidden()&&(a=b.getBody(),c=a.parentNode,c.removeChild(a),c.appendChild(a),a.focus())},_isHidden:function(){var a;return F?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}},q(cc.prototype,J),cc}),aF(bP,[],function(){var a={};return{rtl:!1,add:function(b,d){for(var c in d){a[c]=d[c]}this.rtl=this.rtl||"rtl"===a._dir},translate:function(b){if("undefined"==typeof b){return b}if("string"!=typeof b&&b.raw){return b.raw}if(b.push){var c=b.slice(1);b=(a[b[0]]||b[0]).replace(/\{([^\}]+)\}/g,function(f,d){return c[d]})}return a[b]||b},data:a}}),aF(aq,[aB,aS],function(g,d){function j(n){function k(){try{return document.activeElement}catch(l){return document.body}}function a(q,l){if(l&&l.startContainer){if(!q.isChildOf(l.startContainer,q.getRoot())||!q.isChildOf(l.endContainer,q.getRoot())){return}return{startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset}}return l}function p(q,l){var r;return l.startContainer?(r=q.getDoc().createRange(),r.setStart(l.startContainer,l.startOffset),r.setEnd(l.endContainer,l.endOffset)):r=l,r}function o(l){return !!b.getParent(l,j.isEditorUIElement)}function i(l){var e=l.editor;e.on("init",function(){(e.inline||d.ie)&&(e.on("nodechange keyup",function(){var q=document.activeElement;q&&q.id==e.id+"_ifr"&&(q=e.getBody()),e.dom.isChildOf(q,e.getBody())&&(e.lastRng=e.selection.getRng())}),d.webkit&&!f&&(f=function(){var q=n.activeEditor;if(q&&q.selection){var r=q.selection.getRng();r&&!r.collapsed&&(e.lastRng=r)}},b.bind(document,"selectionchange",f)))}),e.on("setcontent",function(){e.lastRng=null}),e.on("mousedown",function(){e.selection.lastFocusBookmark=null}),e.on("focusin",function(){var q=n.focusedEditor;e.selection.lastFocusBookmark&&(e.selection.setRng(p(e,e.selection.lastFocusBookmark)),e.selection.lastFocusBookmark=null),q!=e&&(q&&q.fire("blur",{focusedEditor:e}),n.activeEditor=e,n.focusedEditor=e,e.fire("focus",{blurredEditor:q}),e.focus(!0)),e.lastRng=null}),e.on("focusout",function(){window.setTimeout(function(){var q=n.focusedEditor;o(k())||q!=e||(e.fire("blur",{focusedEditor:null}),n.focusedEditor=null,e.selection&&(e.selection.lastFocusBookmark=null))},0)}),c||(c=function(q){var r=n.activeEditor;r&&q.target.ownerDocument==document&&(r.selection&&(r.selection.lastFocusBookmark=a(r.dom,r.lastRng)),o(q.target)||n.focusedEditor!=r||(r.fire("blur",{focusedEditor:null}),n.focusedEditor=null))},b.bind(document,"focusin",c)),e.inline&&!h&&(h=function(q){var u=n.activeEditor;if(u.inline&&!u.dom.isChildOf(q.target,u.getBody())){var s=u.selection.getRng();s.collapsed||(u.lastRng=s)}},b.bind(document,"mouseup",h))}function m(e){n.focusedEditor==e.editor&&(n.focusedEditor=null),n.activeEditor||(b.unbind(document,"selectionchange",f),b.unbind(document,"focusin",c),b.unbind(document,"mouseup",h),f=c=h=null)}n.on("AddEditor",i),n.on("RemoveEditor",m)}var f,c,h,b=g.DOM;return j.isEditorUIElement=function(a){return -1!==a.className.toString().indexOf("mce-")},j}),aF(ai,[bH,aB,bs,aS,aU,ar,bP,aq],function(B,G,q,b,x,k,E,H){function w(d){var a=z.editors,f;delete a[d.id];for(var c=0;c<a.length;c++){if(a[c]==d){a.splice(c,1),f=!0;break}}return z.activeEditor==d&&(z.activeEditor=a[0]),z.focusedEditor==d&&(z.focusedEditor=null),f}function D(a){return a&&!(a.getContainer()||a.getBody()).parentNode&&(w(a),a.destroy(!0),a=null),a}var C=G.DOM,F=x.explode,A=x.each,j=x.extend,v=0,y,z;return z={majorVersion:"4",minorVersion:"0.26",releaseDate:"2014-05-06",editors:[],i18n:E,activeEditor:null,setup:function(){var n=this,h,m,g="",p,f;if(m=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/"),p=window.tinymce||window.tinyMCEPreInit){h=p.base||p.baseURL,g=p.suffix}else{for(var d=document.getElementsByTagName("script"),s=0;s<d.length;s++){if(f=d[s].src,/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){-1!=f.indexOf(".min")&&(g=".min"),h=f.substring(0,f.lastIndexOf("/"));break}}!h&&document.currentScript&&(f=document.currentScript.src,-1!=f.indexOf(".min")&&(g=".min"),h=f.substring(0,f.lastIndexOf("/")))}n.baseURL=new q(m).toAbsolute(h),n.documentBaseURL=m,n.baseURI=new q(n.baseURL),n.suffix=g,n.focusManager=new H(n)},init:function(u){function e(h){var a=h.id;return a||(a=h.name,a=a&&!C.get(a)?h.name:C.uniqueId(),h.setAttribute("id",a)),a}function c(a,i){if(!D(I.get(a))){var h=new B(a,i,I);f.push(h),h.render()}}function g(i,a,l){var h=i[a];if(h){return h.apply(l||this,Array.prototype.slice.call(arguments,2))}}function d(h,a){return a.constructor===RegExp?a.test(h.className):C.hasClass(h,a)}function p(){var h,a;if(C.unbind(window,"ready",p),g(u,"onpageload"),u.types){return void A(u.types,function(i){A(C.select(i.selector),function(l){c(e(l),j({},u,i))})})}if(u.selector){return void A(C.select(u.selector),function(i){c(e(i),u)})}switch(u.mode){case"exact":h=u.elements||"",h.length>0&&A(F(h),function(i){C.get(i)?(m=new B(i,u,I),f.push(m),m.render()):A(document.forms,function(l){A(l.elements,function(n){n.name===i&&(i="mce_editor_"+v++,C.setAttrib(n,"id",i),c(i,u))})})});break;case"textareas":case"specific_textareas":A(C.select("textarea"),function(i){u.editor_deselector&&d(i,u.editor_deselector)||(!u.editor_selector||d(i,u.editor_selector))&&c(e(i),u)})}u.oninit&&(h=a=0,A(f,function(i){a++,i.initialized?h++:i.on("init",function(){h++,h==a&&g(u,"oninit")}),h==a&&g(u,"oninit")}))}var I=this,f=[],m;I.settings=u,C.bind(window,"ready",p)},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(c){var a=this,d=a.editors;return d[c.id]=c,d.push(c),a.activeEditor=c,a.fire("AddEditor",{editor:c}),y||(y=function(){a.fire("BeforeUnload")},C.bind(window,"beforeunload",y)),c},createEditor:function(a,c){return this.add(new B(a,c,this))},remove:function(f){var c=this,g,d=c.editors,a;if(f){return"string"==typeof f?(f=f.selector||f,void A(C.select(f),function(h){c.remove(d[h.id])})):(a=f,d[a.id]?(w(a)&&c.fire("RemoveEditor",{editor:a}),d.length||C.unbind(window,"beforeunload",y),a.remove(),a):null)}for(g=d.length-1;g>=0;g--){c.remove(d[g])}},execCommand:function(c,f,d){var a=this,e=a.get(d);switch(c){case"mceAddEditor":return a.get(d)||new B(d,a.settings,a).render(),!0;case"mceRemoveEditor":return e&&e.remove(),!0;case"mceToggleEditor":return e?(e.isHidden()?e.show():e.hide(),!0):(a.execCommand("mceAddEditor",0,d),!0)}return a.activeEditor?a.activeEditor.execCommand(c,f,d):!1},triggerSave:function(){A(this.editors,function(a){a.save()})},addI18n:function(c,a){E.add(c,a)},translate:function(a){return E.translate(a)}},j(z,k),z.setup(),window.tinymce=window.tinyMCE=z,z}),aF(aG,[ai,aU],function(c,a){var d=a.each,b=a.explode;c.on("AddEditor",function(g){var f=g.editor;f.on("preInit",function(){function n(l,i){d(i,function(e,o){e&&m.setStyle(l,o,e)}),m.rename(l,"span")}function k(i){m=f.dom,h.convert_fonts_to_spans&&d(m.select("font,u,strike",i.node),function(l){p[l.nodeName.toLowerCase()](m,l)})}var p,j,m,h=f.settings;h.inline_styles&&(j=b(h.font_size_legacy_values),p={font:function(e,i){n(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:j[parseInt(i.size,10)-1]})},u:function(e,i){n(i,{textDecoration:"underline"})},strike:function(e,i){n(i,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",k))})})}),aF(bN,[],function(){return{send:function(c){function a(){!c.async||4==d.readyState||b++>10000?(c.success&&10000>b&&200==d.status?c.success.call(c.success_scope,""+d.responseText,d,c):c.error&&c.error.call(c.error_scope,b>10000?"TIMED_OUT":"GENERAL",d,c),d=null):setTimeout(a,10)}var d,b=0;if(c.scope=c.scope||this,c.success_scope=c.success_scope||c.scope,c.error_scope=c.error_scope||c.scope,c.async=c.async===!1?!1:!0,c.data=c.data||"",d=new XMLHttpRequest){if(d.overrideMimeType&&d.overrideMimeType(c.content_type),d.open(c.type||(c.data?"POST":"GET"),c.url,c.async),c.content_type&&d.setRequestHeader("Content-Type",c.content_type),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(c.data),!c.async){return a()}setTimeout(a,10)}}}}),aF(al,[],function(){function a(d,g){var e,c,f,b;if(g=g||'"',null===d){return"null"}if(f=typeof d,"string"==f){return c="\bb	t\nn\ff\rr\"\"''\\\\",g+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===g&&"'"===i?i:(e=c.indexOf(h),e+1?"\\"+c.charAt(e+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i))})+g}if("object"==f){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(e=0,c="[";e<d.length;e++){c+=(e>0?",":"")+a(d[e],g)}return c+"]"}c="{";for(b in d){d.hasOwnProperty(b)&&(c+="function"!=typeof d[b]?(c.length>1?","+g:g)+b+g+":"+a(d[b],g):"")}return c+"}"}return""+d}return{serialize:a,parse:function(c){try{return window[String.fromCharCode(101)+"val"]("("+c+")")}catch(b){}}}}),aF(bF,[al,bN,aU],function(d,b,f){function c(g){this.settings=a({},g),this.count=0}var a=f.extend;return c.sendRPC=function(g){return(new c).send(g)},c.prototype={send:function(h){var e=h.error,g=h.success;h=a(this.settings,h),h.success=function(k,j){k=d.parse(k),"undefined"==typeof k&&(k={error:"JSON Parse error."}),k.error?e.call(h.error_scope||h.scope,k.error,j):g.call(h.success_scope||h.scope,k.result)},h.error=function(j,i){e&&e.call(h.error_scope||h.scope,j,i)},h.data=d.serialize({id:h.id||"c"+this.count++,method:h.method,params:h.params}),h.content_type="application/json",b.send(h)}},c}),aF(a2,[aB],function(a){return{callbacks:{},count:0,send:function(f){var d=this,c=a.DOM,e=f.count!==aD?f.count:d.count,b="tinymce_jsonp_"+e;d.callbacks[e]=function(g){c.remove(b),delete d.callbacks[e],f.callback(g)},c.add(c.doc.body,"script",{id:b,src:f.url,type:"text/javascript"}),d.count++}}}),aF(bD,[],function(){function k(){t=[];for(var a in q){t.push(a)}j.length=t.length}function g(){function v(i){var s,d;return d=i!==aD?o+i:c.indexOf(",",o),-1===d||d>c.length?null:(s=c.substring(o,d),o=d+1,s)}var l,c,e,o=0;if(q={},p){f.load(h),c=f.getAttribute(h)||"";do{var a=v();if(null===a){break}if(l=v(parseInt(a,32)||0),null!==l){if(a=v(),null===a){break}e=v(parseInt(a,32)||0),l&&(q[l]=e)}}while(null!==l);k()}}function b(){var c,e="";if(p){for(var d in q){c=q[d],e+=(e?",":"")+d.length.toString(32)+","+d+","+c.length.toString(32)+","+c}f.setAttribute(h,e);try{f.save(h)}catch(a){}k()}}var j,f,q,t,h,p;try{if(window.localStorage){return localStorage}}catch(m){}return h="tinymce",f=document.documentElement,p=!!f.addBehavior,p&&f.addBehavior("#default#userData"),j={key:function(a){return t[a]},getItem:function(a){return a in q?q[a]:null},setItem:function(c,a){q[c]=""+a,b()},removeItem:function(a){delete q[a],b()},clear:function(){q={},b()}},g(),j}),aF(an,[aB,aW,aw,aZ,aU,aS],function(g,d,j,f,c,h){var b=window.tinymce;return b.DOM=g.DOM,b.ScriptLoader=j.ScriptLoader,b.PluginManager=f.PluginManager,b.ThemeManager=f.ThemeManager,b.dom=b.dom||{},b.dom.Event=d.Event,c.each(c,function(i,a){b[a]=i}),c.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){b[a]=h[a.substr(2).toLowerCase()]}),{}}),aF(bJ,[bw,aU],function(b,a){return b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=a.extend({},this.Defaults,c)},preRender:function(c){c.addClass(this.settings.containerClass,"body")},applyClasses:function(g){var d=this,j=d.settings,f,c,h;f=g.items().filter(":visible"),c=j.firstControlClass,h=j.lastControlClass,f.each(function(i){i.removeClass(c).removeClass(h),j.controlClass&&i.addClass(j.controlClass)}),f.eq(0).addClass(c),f.eq(-1).addClass(h)},renderHtml:function(g){var d=this,h=d.settings,f,c="";return f=g.items(),f.eq(0).addClass(h.firstControlClass),f.eq(-1).addClass(h.lastControlClass),f.each(function(i){h.controlClass&&i.addClass(h.controlClass),c+=i.renderHtml()}),c},recalc:function(){},postRender:function(){}})}),aF(aY,[bJ],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(d){var c=d.settings;d.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),d.recalc&&d.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),aF(a3,[aI,br],function(b,a){return b.extend({Mixins:[a],Defaults:{classes:"widget tooltip tooltip-n"},text:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().lastChild.innerHTML=c.encode(d)),c):c._value},renderHtml:function(){var d=this,c=d.classPrefix;return'<div id="'+d._id+'" class="'+d.classes()+'" role="presentation"><div class="'+c+'tooltip-arrow"></div><div class="'+c+'tooltip-inner">'+d.encode(d._text)+"</div></div>"},repaint:function(){var d=this,c,f;c=d.getEl().style,f=d._layoutRect,c.left=f.x+"px",c.top=f.y+"px",c.zIndex=131070}})}),aF(bT,[aI,a3],function(c,a){var d,b=c.extend({init:function(g){var f=this;f._super(g),g=f.settings,f.canFocus=!0,g.tooltip&&b.tooltips!==!1&&(f.on("mouseenter",function(j){var h=f.tooltip().moveTo(-65535);if(j.control==f){var e=h.text(g.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);h.toggleClass("tooltip-n","bc-tc"==e),h.toggleClass("tooltip-nw","bc-tl"==e),h.toggleClass("tooltip-ne","bc-tr"==e),h.moveRel(f.getEl(),e)}else{h.hide()}}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()})),f.aria("label",g.ariaLabel||g.tooltip)},tooltip:function(){return d||(d=new a({type:"tooltip"}),d.renderTo()),d},active:function(g){var f=this,h;return g!==h&&(f.aria("pressed",g),f.toggleClass("active",g)),f._super(g)},disabled:function(g){var f=this,h;return g!==h&&(f.aria("disabled",g),f.toggleClass("disabled",g)),f._super(g)},postRender:function(){var g=this,f=g.settings;g._rendered=!0,g._super(),g.parent()||!f.width&&!f.height||(g.initLayoutRect(),g.repaint()),f.autofocus&&g.focus()},remove:function(){this._super(),d&&(d.remove(),d=null)}});return b}),aF(af,[bT],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var b=this,d;b.on("click mousedown",function(f){f.preventDefault()}),b._super(c),d=c.size,c.subtype&&b.addClass(c.subtype),d&&b.addClass("btn-"+d)},icon:function(f){var c=this,g=c.classPrefix;if("undefined"==typeof f){return c.settings.icon}if(c.settings.icon=f,f=f?g+"ico "+g+"i-"+c.settings.icon:"",c._rendered){var d=c.getEl().firstChild,b=d.getElementsByTagName("i")[0];f?(b&&b==d.firstChild||(b=document.createElement("i"),d.insertBefore(b,d.firstChild)),b.className=f):b&&d.removeChild(b),c.text(c._text)}return c},repaint:function(){var b=this.getEl().firstChild.style;b.width=b.height="100%",this._super()},text:function(c){var b=this;if(b._rendered){var d=b.getEl().lastChild.lastChild;d&&(d.data=b.translate(c))}return b._super(c)},renderHtml:function(){var f=this,c=f._id,g=f.classPrefix,d=f.settings.icon,b;return b=f.settings.image,b?(d="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="",d=f.settings.icon?g+"ico "+g+"i-"+d:"",'<div id="'+c+'" class="'+f.classes()+'" tabindex="-1" aria-labelledby="'+c+'"><button role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+(f._text?(d?"\xa0":"")+f.encode(f._text):"")+"</button></div>"}})}),aF(bW,[bq],function(a){return a.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var c=this,b=c._layout;return c.addClass("btn-group"),c.preRender(),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aF(ak,[bT],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var b=this;b._super(c),b.on("click mousedown",function(d){d.preventDefault()}),b.on("click",function(d){d.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(c){var b=this;return"undefined"!=typeof c?(c?b.addClass("checked"):b.removeClass("checked"),b._checked=c,b.aria("checked",c),b):b._checked},value:function(b){return this.checked(b)},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix;return'<div id="'+b+'" class="'+c.classes()+'" unselectable="on" aria-labelledby="'+b+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+b+'-al" class="'+d+'label">'+c.encode(c._text)+"</span></div>"}})}),aF(bI,[af,a4],function(b,a){return b.extend({showPanel:function(){var d=this,f=d.settings;if(d.active(!0),d.panel){d.panel.show()}else{var c=f.panel;c.type&&(c={layout:"grid",items:c}),c.role=c.role||"dialog",c.popover=!0,c.autohide=!0,c.ariaRoot=!0,d.panel=new a(c).on("hide",function(){d.active(!1)}).on("cancel",function(e){e.stopPropagation(),d.focus(),d.hidePanel()}).parent(d).renderTo(d.getContainerElm()),d.panel.fire("show"),d.panel.reflow()}d.panel.moveRel(d.getEl(),f.popoverAlign||(d.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.aria("haspopup",!0),c.on("click",function(d){d.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():(c.showPanel(),c.panel.focus(!!d.aria)))}),c._super()}})}),aF(aa,[bI,aB],function(b,a){var c=a.DOM;return b.extend({init:function(d){this._super(d),this.addClass("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},renderHtml:function(){var h=this,f=h._id,j=h.classPrefix,g=h.settings.icon?j+"ico "+j+"i-"+h.settings.icon:"",d=h.settings.image?" style=\"background-image: url('"+h.settings.image+"')\"":"";return'<div id="'+f+'" class="'+h.classes()+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(g?'<i class="'+g+'"'+d+"></i>":"")+'<span id="'+f+'-preview" class="'+j+'preview"></span>'+(h._text?(g?" ":"")+h._text:"")+'</button><button type="button" class="'+j+'open" hidefocus="1" tabindex="-1"> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=f||c.getParent(e.target,"."+f.classPrefix+"open")||(e.stopImmediatePropagation(),d.call(f,e))}),delete f.settings.onclick,f._super()}})}),aF(bU,[bT,aQ,bc],function(b,a,c){return b.extend({init:function(f){var d=this;d._super(f),d.addClass("combobox"),d.subinput=!0,d.ariaTarget="inp",f=d.settings,f.menu=f.menu||f.values,f.menu&&(f.icon="caret"),d.on("click",function(h){for(var g=h.target,e=d.getEl();g&&g!=e;){g.id&&-1!=g.id.indexOf("-open")&&(d.fire("action"),f.menu&&(d.showMenu(),h.aria&&d.menu.items()[0].focus())),g=g.parentNode}}),d.on("keydown",function(g){"INPUT"==g.target.nodeName&&13==g.keyCode&&d.parents().reverse().each(function(e){return g.preventDefault(),d.fire("change"),e.hasEventListeners("submit")&&e.toJSON?(e.fire("submit",{data:e.toJSON()}),!1):void 0})}),f.placeholder&&(d.addClass("placeholder"),d.on("focusin",function(){d._hasOnChange||(c.on(d.getEl("inp"),"change",function(){d.fire("change")}),d._hasOnChange=!0),d.hasClass("placeholder")&&(d.getEl("inp").value="",d.removeClass("placeholder"))}),d.on("focusout",function(){0===d.value().length&&(d.getEl("inp").value=f.placeholder,d.addClass("placeholder"))}))},showMenu:function(){var f=this,g=f.settings,d;f.menu||(d=g.menu||[],d.length?d={type:"menu",items:d}:d.type=d.type||"menu",f.menu=a.create(d).parent(f).renderTo(f.getContainerElm()),f.fire("createmenu"),f.menu.reflow(),f.menu.on("cancel",function(e){e.control===f.menu&&f.focus()}),f.menu.on("show hide",function(e){e.control.items().each(function(h){h.active(h.value()==f.value())})}).fire("show"),f.menu.on("select",function(e){f.value(e.control.value())}),f.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&f.menu.hide()}),f.aria("expanded",!0)),f.menu.show(),f.menu.layoutRect({w:f.layoutRect().w}),f.menu.moveRel(f.getEl(),f.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(f){var d=this;return"undefined"!=typeof f?(d._value=f,d.removeClass("placeholder"),d._rendered&&(d.getEl("inp").value=f),d):d._rendered?(f=d.getEl("inp").value,f!=d.settings.placeholder?f:""):d._value},disabled:function(f){var d=this;return d._rendered&&"undefined"!=typeof f&&(d.getEl("inp").disabled=f),d._super(f)},focus:function(){this.getEl("inp").focus()},repaint:function(){var k=this,g=k.getEl(),j=k.getEl("open"),f=k.layoutRect(),l,d;l=j?f.w-c.getSize(j).width-10:f.w-10;var h=document;return h.all&&(!h.documentMode||h.documentMode<=8)&&(d=k.layoutRect().h-2+"px"),c.css(g.firstChild,{width:l,lineHeight:d}),k._super(),k},postRender:function(){var d=this;return c.on(this.getEl("inp"),"change",function(){d.fire("change")}),d._super()},remove:function(){c.off(this.getEl("inp")),this._super()},renderHtml:function(){var k=this,p=k._id,g=k.settings,d=k.classPrefix,j=g.value||g.placeholder||"",f,m,q="",h="";return"spellcheck" in g&&(h+=' spellcheck="'+g.spellcheck+'"'),g.maxLength&&(h+=' maxlength="'+g.maxLength+'"'),g.size&&(h+=' size="'+g.size+'"'),g.subtype&&(h+=' type="'+g.subtype+'"'),k.disabled()&&(h+=' disabled="disabled"'),f=g.icon,f&&"caret"!=f&&(f=d+"ico "+d+"i-"+g.icon),m=k._text,(f||m)&&(q='<div id="'+p+'-open" class="'+d+"btn "+d+'open" tabIndex="-1" role="button"><button id="'+p+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=f?'<i class="'+f+'"></i>':'<i class="'+d+'caret"></i>')+(m?(f?" ":"")+m:"")+"</button></div>",k.addClass("has-open")),'<div id="'+p+'" class="'+k.classes()+'"><input id="'+p+'-inp" class="'+d+"textbox "+d+'placeholder" value="'+j+'" hidefocus="1"'+h+" />"+q+"</div>"}})}),aF(bK,[bT],function(a){return a.extend({init:function(c){var b=this;c.delimiter||(c.delimiter="\xbb"),b._super(c),b.addClass("path"),b.canFocus=!0,b.on("click",function(f){var g,d=f.target;(g=d.getAttribute("data-index"))&&b.fire("select",{value:b.data()[g],index:g})})},focus:function(){var b=this;return b.getEl().firstChild.focus(),b},data:function(c){var b=this;return"undefined"!=typeof c?(b._data=c,b.update(),b):b._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var b=this;b._super(),b.data(b.settings.data)},renderHtml:function(){var b=this;return'<div id="'+b._id+'" class="'+b.classes()+'">'+b._getPathHtml()+"</div>"},_getPathHtml:function(){var f=this,c=f._data||[],h,d,b="",g=f.classPrefix;for(h=0,d=c.length;d>h;h++){b+=(h>0?'<div class="'+g+'divider" aria-hidden="true"> '+f.settings.delimiter+" </div>":"")+'<div role="button" class="'+g+"path-item"+(h==d-1?" "+g+"last":"")+'" data-index="'+h+'" tabindex="-1" id="'+f._id+"-"+h+'" aria-level="'+h+'">'+c[h].name+"</div>"}return b||(b='<div class="'+g+'path-item">\xa0</div>'),b}})}),aF(ag,[bK,ai],function(b,a){return b.extend({postRender:function(){function d(g){if(1===g.nodeType){if("BR"==g.nodeName||g.getAttribute("data-mce-bogus")){return !0}if("bookmark"===g.getAttribute("data-mce-type")){return !0}}return !1}var f=this,c=a.activeEditor;return f.on("select",function(g){var j=[],e,h=c.getBody();for(c.focus(),e=c.selection.getStart();e&&e!=h;){d(e)||j.push(e),e=e.parentNode}c.selection.select(j[j.length-1-g.index]),c.nodeChanged()}),c.on("nodeChange",function(h){for(var g=[],k=h.parents,e=k.length;e--;){if(1==k[e].nodeType&&!d(k[e])){var j=c.fire("ResolveName",{name:k[e].nodeName.toLowerCase(),target:k[e]});g.push({name:j.name})}}f.data(g)}),f._super()}})}),aF(bO,[bq],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.addClass("formitem"),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+d+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aF(bE,[bq,bO],function(b,a){return b.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var c=this,d=c.items();d.each(function(g){var f,e=g.settings.label;e&&(f=new a({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",id:g._id+"-l",text:e,flex:0,forId:g._id,disabled:g.disabled()}]}),f.type="formitem",g.aria("labelledby",g._id+"-l"),"undefined"==typeof g.settings.flex&&(g.settings.flex=1),c.replace(g,f),f.add(g))})},recalcLabels:function(){var g=this,d=0,h=[],f,c;if(g.settings.labelGapCalc!==!1){for(g.items().filter("formitem").each(function(l){var k=l.items()[0],j=k.getEl().clientWidth;d=j>d?j:d,h.push(k)}),c=g.settings.labelGap||0,f=h.length;f--;){h[f].settings.minWidth=d+c}}},visible:function(d){var c=this._super(d);return d===!0&&this._rendered&&this.recalcLabels(),c},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var c=this;c._super(),c.recalcLabels(),c.fromJSON(c.settings.data)}})}),aF(au,[bE],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.preRender(),b.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes()+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+d+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></fieldset>"}})}),aF(ae,[bU],function(a){return a.extend({init:function(d){var b=this,f=tinymce.activeEditor,c;d.spellcheck=!1,c=f.settings.file_browser_callback,c&&(d.icon="browse",d.onaction=function(){c(b.getEl("inp").id,b.getEl("inp").value,d.filetype,window)}),b._super(d)}})}),aF(bS,[aY],function(a){return a.extend({recalc:function(c){var b=c.layoutRect(),d=c.paddingBox();c.items().filter(":visible").each(function(f){f.layoutRect({x:d.left,y:d.top,w:b.innerW-d.right-d.left,h:b.innerH-d.top-d.bottom}),f.recalc&&f.recalc()})}})}),aF(bG,[aY],function(a){return a.extend({recalc:function(cn){var ca,cf,cc,cj,ce,cr,cb,ch,cp,co,b9,cm,cd,cg,ck,cl,b8=[],b5,cq,b1,b6,b7,cs,bZ,X,ci,J,G,K,b3,b2,b0,Z,Y,bt,Q,U,at,bY,b4=Math.max,j=Math.min;for(cc=cn.items().filter(":visible"),cj=cn.layoutRect(),ce=cn._paddingBox,cr=cn.settings,cm=cn.isRtl()?cr.direction||"row-reversed":cr.direction,cb=cr.align,ch=cn.isRtl()?cr.pack||"end":cr.pack,cp=cr.spacing||0,("row-reversed"==cm||"column-reverse"==cm)&&(cc=cc.set(cc.toArray().reverse()),cm=cm.split("-")[0]),"column"==cm?(ci="y",bZ="h",X="minH",J="maxH",K="innerH",G="top",b3="deltaH",b2="contentH",Q="left",Y="w",b0="x",Z="innerW",bt="minW",U="right",at="deltaW",bY="contentW"):(ci="x",bZ="w",X="minW",J="maxW",K="innerW",G="left",b3="deltaW",b2="contentW",Q="top",Y="h",b0="y",Z="innerH",bt="minH",U="bottom",at="deltaH",bY="contentH"),b9=cj[K]-ce[G]-ce[G],cs=co=0,ca=0,cf=cc.length;cf>ca;ca++){cd=cc[ca],cg=cd.layoutRect(),ck=cd.settings,cl=ck.flex,b9-=cf-1>ca?cp:0,cl>0&&(co+=cl,cg[J]&&b8.push(cd),cg.flex=cl),b9-=cg[X],b5=ce[Q]+cg[bt]+ce[U],b5>cs&&(cs=b5)}if(b6={},b6[X]=0>b9?cj[X]-b9+cj[b3]:cj[K]-b9+cj[b3],b6[bt]=cs+cj[at],b6[b2]=cj[K]-b9,b6[bY]=cs,b6.minW=j(b6.minW,cj.maxW),b6.minH=j(b6.minH,cj.maxH),b6.minW=b4(b6.minW,cj.startMinWidth),b6.minH=b4(b6.minH,cj.startMinHeight),!cj.autoResize||b6.minW==cj.minW&&b6.minH==cj.minH){for(b1=b9/co,ca=0,cf=b8.length;cf>ca;ca++){cd=b8[ca],cg=cd.layoutRect(),cq=cg[J],b5=cg[X]+cg.flex*b1,b5>cq?(b9-=cg[J]-cg[X],co-=cg.flex,cg.flex=0,cg.maxFlexSize=cq):cg.maxFlexSize=0}for(b1=b9/co,b7=ce[G],b6={},0===co&&("end"==ch?b7=b9+ce[G]:"center"==ch?(b7=Math.round(cj[K]/2-(cj[K]-b9)/2)+ce[G],0>b7&&(b7=ce[G])):"justify"==ch&&(b7=ce[G],cp=Math.floor(b9/(cc.length-1)))),b6[b0]=ce[Q],ca=0,cf=cc.length;cf>ca;ca++){cd=cc[ca],cg=cd.layoutRect(),b5=cg.maxFlexSize||cg[X],"center"===cb?b6[b0]=Math.round(cj[Z]/2-cg[Y]/2):"stretch"===cb?(b6[Y]=b4(cg[bt]||0,cj[Z]-ce[Q]-ce[U]),b6[b0]=ce[Q]):"end"===cb&&(b6[b0]=cj[Z]-cg[Y]-ce.top),cg.flex>0&&(b5+=cg.flex*b1),b6[bZ]=b5,b6[ci]=b7,cd.layoutRect(b6),cd.recalc&&cd.recalc(),b7+=b5+cp}}else{if(b6.w=b6.minW,b6.h=b6.minH,cn.layoutRect(b6),this.recalc(cn),null===cn._lastRect){var q=cn.parent();q&&(q._lastRect=null,q.recalc())}}}})}),aF(aH,[bJ],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})}})}),aF(bg,[aI,bT,a4,aU,ai,aS],function(h,d,k,g,c,j){function b(v){function A(a,e){return function(){var i=this;v.on("nodeChange",function(r){var t=v.formatter,l=null;f(r.parents,function(o){return f(a,function(u){return e?t.matchNode(o,e,{value:u.value})&&(l=u.value):t.matchNode(o,u.value)&&(l=u.value),l?!1:void 0}),l?!1:void 0}),i.value(l)})}}function m(i){i=i.replace(/;$/,"").split(";");for(var a=i.length;a--;){i[a]=i[a].split("=")}return i}function q(){function e(i){var o=[];if(i){return f(i,function(t){var C={text:t.title,icon:t.icon};if(t.items){C.menu=e(t.items)}else{var r=t.format||"custom"+l++;t.format||(t.name=r,a.push(t)),C.format=r}o.push(C)}),o}}function B(){var i;return i=e(v.settings.style_formats_merge?v.settings.style_formats?u.concat(v.settings.style_formats):u:v.settings.style_formats||u)}var l=0,a=[],u=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return v.on("init",function(){f(a,function(i){v.formatter.register(i.name,i)})}),{type:"menu",items:B(),onPostRender:function(i){v.fire("renderFormatsMenu",{control:i.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?v.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var i=this,o=this.settings.format;o&&i.parent().on("show",function(){i.disabled(!v.formatter.canApply(o)),i.active(v.formatter.match(o))})},onclick:function(){this.settings.format&&z(this.settings.format)}}}}function n(){return v.undoManager?v.undoManager.hasUndo():!1}function y(){return v.undoManager?v.undoManager.hasRedo():!1}function p(){var a=this;a.disabled(!n()),v.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!n())})}function x(){var a=this;a.disabled(!y()),v.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!y())})}function w(){var a=this;v.on("VisualAid",function(i){a.active(i.hasVisual)}),a.active(v.hasVisual)}function z(a){a.control&&(a=a.control.value()),a&&v.execCommand("mceToggleFormat",!1,a)}var s;s=q(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,e){v.addButton(e,{tooltip:a,onPostRender:function(){var i=this;v.formatter?v.formatter.formatChanged(e,function(l){i.active(l)}):v.on("init",function(){v.formatter.formatChanged(e,function(l){i.active(l)})})},onclick:function(){z(e)}})}),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,e){v.addButton(e,{tooltip:a[0],cmd:a[1]})}),f({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(a,e){v.addButton(e,{tooltip:a[0],cmd:a[1],onPostRender:function(){var i=this;v.formatter?v.formatter.formatChanged(e,function(l){i.active(l)}):v.on("init",function(){v.formatter.formatChanged(e,function(l){i.active(l)})})}})}),v.addButton("undo",{tooltip:"Undo",onPostRender:p,cmd:"undo"}),v.addButton("redo",{tooltip:"Redo",onPostRender:x,cmd:"redo"}),v.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),v.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:p,cmd:"undo"}),v.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:x,cmd:"redo"}),v.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:w,cmd:"mceToggleVisualAid"}),f({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,e){v.addMenuItem(e,{text:a[0],icon:e,shortcut:a[2],cmd:a[1]})}),v.on("mousedown",function(){k.hideAll()}),v.addButton("styleselect",{type:"menubutton",text:"Formats",menu:s}),v.addButton("formatselect",function(){var e=[],a=m(v.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6");return f(a,function(i){e.push({text:i[0],value:i[1],textStyle:function(){return v.formatter.getCssText(i[1])}})}),{type:"listbox",text:a[0][0],values:e,fixedWidth:!0,onselect:z,onPostRender:A(e)}}),v.addButton("fontselect",function(){var l="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",a=[],e=m(v.settings.font_formats||l);return f(e,function(i){a.push({text:{raw:i[0]},value:i[1],textStyle:-1==i[1].indexOf("dings")?"font-family:"+i[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:a,fixedWidth:!0,onPostRender:A(a,"fontname"),onselect:function(i){i.control.settings.value&&v.execCommand("FontName",!1,i.control.settings.value)}}}),v.addButton("fontsizeselect",function(){var l=[],e="8pt 10pt 12pt 14pt 18pt 24pt 36pt",a=v.settings.fontsize_formats||e;return f(a.split(" "),function(i){l.push({text:i,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:l,fixedWidth:!0,onPostRender:A(l,"fontsize"),onclick:function(i){i.control.settings.value&&v.execCommand("FontSize",!1,i.control.settings.value)}}}),v.addMenuItem("formats",{text:"Formats",menu:s})}var f=g.each;c.on("AddEditor",function(a){a.editor.rtl&&(h.rtl=!0),b(a.editor)}),h.translate=function(a){return c.translate(a)},d.tooltips=!j.iOS}),aF(a8,[aY],function(a){return a.extend({recalc:function(b7){var U=b7.settings,bZ,Y,b3,bY,cb,W,b1,b9,b8,P,b6,bt,b0,b4,b5,O,I,ca,X,J,K,cc,Q=[],F=[],b2,q,j,z;for(U=b7.settings,b3=b7.items().filter(":visible"),bY=b7.layoutRect(),Y=U.columns||Math.ceil(Math.sqrt(b3.length)),bZ=Math.ceil(b3.length/Y),I=U.spacingH||U.spacing||0,ca=U.spacingV||U.spacing||0,X=U.alignH||U.align,J=U.alignV||U.align,b5=b7._paddingBox,X&&"string"==typeof X&&(X=[X]),J&&"string"==typeof J&&(J=[J]),P=0;Y>P;P++){Q.push(0)}for(b6=0;bZ>b6;b6++){F.push(0)}for(b6=0;bZ>b6;b6++){for(P=0;Y>P&&(b8=b3[b6*Y+P],b8);P++){b9=b8.layoutRect(),b2=b9.minW,q=b9.minH,Q[P]=b2>Q[P]?b2:Q[P],F[b6]=q>F[b6]?q:F[b6]}}for(j=bY.innerW-b5.left-b5.right,K=0,P=0;Y>P;P++){K+=Q[P]+(P>0?I:0),j-=(P>0?I:0)+Q[P]}for(z=bY.innerH-b5.top-b5.bottom,cc=0,b6=0;bZ>b6;b6++){cc+=F[b6]+(b6>0?ca:0),z-=(b6>0?ca:0)+F[b6]}if(K+=b5.left+b5.right,cc+=b5.top+b5.bottom,b1={},b1.minW=K+(bY.w-bY.innerW),b1.minH=cc+(bY.h-bY.innerH),b1.contentW=b1.minW-bY.deltaW,b1.contentH=b1.minH-bY.deltaH,b1.minW=Math.min(b1.minW,bY.maxW),b1.minH=Math.min(b1.minH,bY.maxH),b1.minW=Math.max(b1.minW,bY.startMinWidth),b1.minH=Math.max(b1.minH,bY.startMinHeight),!bY.autoResize||b1.minW==bY.minW&&b1.minH==bY.minH){bY.autoResize&&(b1=b7.layoutRect(b1),b1.contentW=b1.minW-bY.deltaW,b1.contentH=b1.minH-bY.deltaH);var at;at="start"==U.packV?0:z>0?Math.floor(z/bZ):0;var Z=0,V=U.flexWidths;if(V){for(P=0;P<V.length;P++){Z+=V[P]}}else{Z=Y}var H=j/Z;for(P=0;Y>P;P++){Q[P]+=V?V[P]*H:H}for(b0=b5.top,b6=0;bZ>b6;b6++){for(bt=b5.left,W=F[b6]+at,P=0;Y>P&&(b8=b3[b6*Y+P],b8);P++){b4=b8.settings,b9=b8.layoutRect(),cb=Math.max(Q[P],b9.startMinWidth),b9.x=bt,b9.y=b0,O=b4.alignH||(X?X[P]||X[0]:null),"center"==O?b9.x=bt+cb/2-b9.w/2:"right"==O?b9.x=bt+cb-b9.w:"stretch"==O&&(b9.w=cb),O=b4.alignV||(J?J[P]||J[0]:null),"center"==O?b9.y=b0+W/2-b9.h/2:"bottom"==O?b9.y=b0+W-b9.h:"stretch"==O&&(b9.h=W),b8.layoutRect(b9),bt+=cb+I,b8.recalc&&b8.recalc()}b0+=W+ca}}else{if(b1.w=b1.minW,b1.h=b1.minH,b7.layoutRect(b1),this.recalc(b7),null===b7._lastRect){var G=b7.parent();G&&(G._lastRect=null,G.recalc())}}}})}),aF(ac,[bT],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("iframe"),b.canFocus=!1,'<iframe id="'+b._id+'" class="'+b.classes()+'" tabindex="-1" src="'+(b.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(b){this.getEl().src=b},html:function(d,b){var f=this,c=this.getEl().contentWindow.document.body;return c?(c.innerHTML=d,b&&b()):setTimeout(function(){f.html(d)},0),this}})}),aF(bl,[bT,bc],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c.addClass("widget"),c.addClass("label"),c.canFocus=!1,d.multiline&&c.addClass("autoscroll"),d.strong&&c.addClass("strong")},initLayoutRect:function(){var d=this,f=d._super();if(d.settings.multiline){var c=a.getSize(d.getEl());c.width>f.maxW&&(f.minW=f.maxW,d.addClass("multiline")),d.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,a.getSize(d.getEl()).height)}return f},repaint:function(){var c=this;return c.settings.multiline||(c.getEl().style.lineHeight=c.layoutRect().h+"px"),c._super()},text:function(d){var c=this;return c._rendered&&d&&this.innerHtml(c.encode(d)),c._super(d)},renderHtml:function(){var d=this,c=d.settings.forId;return'<label id="'+d._id+'" class="'+d.classes()+'"'+(c?' for="'+c+'"':"")+">"+d.encode(d._text)+"</label>"}})}),aF(ap,[bq],function(a){return a.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(c){var b=this;b._super(c),b.addClass("toolbar")},postRender:function(){var b=this;return b.items().addClass("toolbar-item"),b._super()}})}),aF(aN,[ap],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),aF(bn,[af,aQ,aN],function(d,b,f){function c(h,g){for(;h;){if(g===h){return !0}h=h.parentNode}return !1}var a=d.extend({init:function(h){var g=this;g._renderOpen=!0,g._super(h),g.addClass("menubtn"),h.fixedWidth&&g.addClass("fixed-width"),g.aria("haspopup",!0),g.hasPopup=!0},showMenu:function(){var h=this,i=h.settings,g;return h.menu&&h.menu.visible()?h.hideMenu():(h.menu||(g=i.menu||[],g.length?g={type:"menu",items:g}:g.type=g.type||"menu",h.menu=b.create(g).parent(h).renderTo(),h.fire("createmenu"),h.menu.reflow(),h.menu.on("cancel",function(e){e.control.parent()===h.menu&&(e.stopPropagation(),h.focus(),h.hideMenu())}),h.menu.on("select",function(){h.focus()}),h.menu.on("show hide",function(e){e.control==h.menu&&h.activeMenu("show"==e.type),h.aria("expanded","show"==e.type)}).fire("show")),h.menu.show(),h.menu.layoutRect({w:h.layoutRect().w}),void h.menu.moveRel(h.getEl(),h.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide())},activeMenu:function(g){this.toggleClass("active",g)},renderHtml:function(){var k=this,h=k._id,j=k.classPrefix,g=k.settings.icon?j+"ico "+j+"i-"+k.settings.icon:"";return k.aria("role",k.parent() instanceof f?"menuitem":"button"),'<div id="'+h+'" class="'+k.classes()+'" tabindex="-1" aria-labelledby="'+h+'"><button id="'+h+'-open" role="presentation" type="button" tabindex="-1">'+(g?'<i class="'+g+'"></i>':"")+"<span>"+(k._text?(g?"\xa0":"")+k.encode(k._text):"")+'</span> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&c(e.target,g.getEl())&&(g.showMenu(),e.aria&&g.menu.items()[0].focus())}),g.on("mouseenter",function(e){var j=e.control,h=g.parent(),i;j&&h&&j instanceof a&&j.parent()==h&&(h.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=j&&(k.menu&&k.menu.visible()&&(i=!0),k.hideMenu())}),i&&(j.focus(),j.showMenu()))}),g._super()},text:function(i){var g=this,j,h;if(g._rendered){for(h=g.getEl("open").getElementsByTagName("span"),j=0;j<h.length;j++){h[j].innerHTML=(g.settings.icon&&i?"\xa0":"")+g.encode(i)}}return this._super(i)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return a}),aF(ad,[bn],function(a){return a.extend({init:function(g){var d=this,j,f,c,h,b;if(d._values=j=g.values,j){for(f=0;f<j.length;f++){if(c=j[f].selected||g.value===j[f].value){h=h||j[f].text,d._value=j[f].value;break}}!c&&j.length>0&&(h=j[0].text,d._value=j[0].value),g.menu=j}g.text=g.text||h||j[0].text,d._super(g),d.addClass("listbox"),d.on("select",function(i){var e=i.control;b&&(i.lastControl=b),g.multiple?e.active(!e.active()):d.value(i.control.settings.value),b=e})},value:function(g){function d(i,k){i.items().each(function(l){f=l.value()===k,f&&(c=c||l.text()),l.active(f),l.menu&&d(l.menu,k)})}var j=this,f,c,h,b;if("undefined"!=typeof g){if(j.menu){d(j.menu,g)}else{for(h=j.settings.menu,b=0;b<h.length;b++){f=h[b].value==g,f&&(c=c||h[b].text),h[b].active=f}}j.text(c||this.settings.text)}return j._super(g)}})}),aF(aj,[bT,aQ,aS],function(b,a,c){return b.extend({Defaults:{border:0,role:"menuitem"},init:function(f){var d=this;d.hasPopup=!0,d._super(f),f=d.settings,d.addClass("menu-item"),f.menu&&d.addClass("menu-item-expand"),f.preview&&d.addClass("menu-item-preview"),("-"===d._text||"|"===d._text)&&(d.addClass("menu-item-sep"),d.aria("role","separator"),d._text="-"),f.selectable&&(d.aria("role","menuitemcheckbox"),d.addClass("menu-item-checkbox"),f.icon="selected"),f.preview||f.selectable||d.addClass("menu-item-normal"),d.on("mousedown",function(g){g.preventDefault()}),f.menu&&!f.ariaHideMenu&&d.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var g=this,j=g.settings,f,d=g.parent();if(d.items().each(function(e){e!==g&&e.hideMenu()}),j.menu){f=g.menu,f?f.show():(f=j.menu,f.length?f={type:"menu",items:f}:f.type=f.type||"menu",d.settings.itemDefaults&&(f.itemDefaults=d.settings.itemDefaults),f=g.menu=a.create(f).parent(g).renderTo(),f.reflow(),f.fire("show"),f.on("cancel",function(e){e.stopPropagation(),g.focus(),f.hide()}),f.on("hide",function(e){e.control===f&&g.removeClass("selected")}),f.submenu=!0),f._parentMenu=d,f.addClass("menu-sub");var h=f.testMoveRel(g.getEl(),g.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);f.moveRel(g.getEl(),h),f.rel=h,h="menu-sub-"+h,f.removeClass(f._lastRel),f.addClass(h),f._lastRel=h,g.addClass("selected"),g.aria("expanded",!0)}},hideMenu:function(){var d=this;return d.menu&&(d.menu.items().each(function(f){f.hideMenu&&f.hideMenu()}),d.menu.hide(),d.aria("expanded",!1)),d},renderHtml:function(){var m=this,h=m._id,k=m.settings,g=m.classPrefix,n=m.encode(m._text),f=m.settings.icon,j="",d=k.shortcut;return f&&m.parent().addClass("menu-has-icons"),k.image&&(f="none",j=" style=\"background-image: url('"+k.image+"')\""),d&&c.mac&&(d=d.replace(/ctrl\+alt\+/i,"&#x2325;&#x2318;"),d=d.replace(/ctrl\+/i,"&#x2318;"),d=d.replace(/alt\+/i,"&#x2325;"),d=d.replace(/shift\+/i,"&#x21E7;")),f=g+"ico "+g+"i-"+(m.settings.icon||"none"),'<div id="'+h+'" class="'+m.classes()+'" tabindex="-1">'+("-"!==n?'<i class="'+f+'"'+j+"></i>\xa0":"")+("-"!==n?'<span id="'+h+'-text" class="'+g+'text">'+n+"</span>":"")+(d?'<div id="'+h+'-shortcut" class="'+g+'menu-shortcut">'+d+"</div>":"")+(k.menu?'<div class="'+g+'caret"></div>':"")+"</div>"},postRender:function(){var g=this,d=g.settings,h=d.textStyle;if("function"==typeof h&&(h=h.call(this)),h){var f=g.getEl("text");f&&f.setAttribute("style",h)}return g.on("mouseenter click",function(e){e.control===g&&(d.menu||"click"!==e.type?(g.showMenu(),e.aria&&g.menu.focus(!0)):(g.fire("select"),g.parent().hideAll()))}),g._super(),g},active:function(d){return"undefined"!=typeof d&&this.aria("checked",d),this._super(d)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),aF(ba,[a4,aj,aU],function(c,a,d){var b=c.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(j){var g=this;if(j.autohide=!0,j.constrainToViewport=!0,j.itemDefaults){for(var h=j.items,f=h.length;f--;){h[f]=d.extend({},j.itemDefaults,h[f])}}g._super(j),g.addClass("menu")},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var f=this;f.hideAll(),f.fire("select")},hideAll:function(){var f=this;return this.find("menuitem").exec("hideMenu"),f._super()},preRender:function(){var f=this;return f.items().each(function(e){var g=e.settings;return g.icon||g.selectable?(f._hasIcons=!0,!1):void 0}),f._super()}});return b}),aF(am,[ak],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),aF(bV,[bT,a5],function(b,a){return b.extend({renderHtml:function(){var d=this,c=d.classPrefix;return d.addClass("resizehandle"),"both"==d.settings.direction&&d.addClass("resizehandle-both"),d.canFocus=!1,'<div id="'+d._id+'" class="'+d.classes()+'"><i class="'+c+"ico "+c+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new a(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},stop:function(){c.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),aF(bQ,[bT],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes()+'"></div>'}})}),aF(ah,[bn,bc],function(b,a){return b.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var f=this,h=f.getEl(),d=f.layoutRect(),c,g;return f._super(),c=h.firstChild,g=h.lastChild,a.css(c,{width:d.w-a.getSize(g).width,height:d.h-2}),a.css(g,{height:d.h-2}),f},activeMenu:function(c){var d=this;a.toggleClass(d.getEl().lastChild,d.classPrefix+"active",c)},renderHtml:function(){var f=this,c=f._id,g=f.classPrefix,d=f.settings.icon?g+"ico "+g+"i-"+f.settings.icon:"";return'<div id="'+c+'" class="'+f.classes()+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(d?'<i class="'+d+'"></i>':"")+(f._text?(d?" ":"")+f._text:"")+'</button><button type="button" class="'+g+'open" hidefocus="1" tabindex="-1">'+(f._menuBtnText?(d?"\xa0":"")+f._menuBtnText:"")+' <i class="'+g+'caret"></i></button></div>'},postRender:function(){var d=this,c=d.settings.onclick;return d.on("click",function(f){var g=f.target;if(f.control==this){for(;g;){if(f.aria&&"down"!=f.aria.key||"BUTTON"==g.nodeName&&-1==g.className.indexOf("open")){return f.stopImmediatePropagation(),void c.call(this,f)}g=g.parentNode}}}),delete d.settings.onclick,d._super()}})}),aF(aA,[aH],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),aF(ao,[a7,bc],function(b,a){return b.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(c){var d;this.activeTabId&&(d=this.getEl(this.activeTabId),a.removeClass(d,this.classPrefix+"active"),d.setAttribute("aria-selected","false")),this.activeTabId="t"+c,d=this.getEl("t"+c),d.setAttribute("aria-selected","true"),a.addClass(d,this.classPrefix+"active"),c!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=c),this.items()[c].show().fire("showtab"),this.reflow()},renderHtml:function(){var f=this,c=f._layout,g="",d=f.classPrefix;return f.preRender(),c.preRender(f),f.items().each(function(h,e){var j=f._id+"-t"+e;h.aria("role","tabpanel"),h.aria("labelledby",j),g+='<div id="'+j+'" class="'+d+'tab" unselectable="on" role="tab" aria-controls="'+h._id+'" aria-selected="false" tabIndex="-1">'+f.encode(h.settings.title)+"</div>"}),'<div id="'+f._id+'" class="'+f.classes()+'" hidefocus="1" tabindex="-1"><div id="'+f._id+'-head" class="'+d+'tabs" role="tablist">'+g+'</div><div id="'+f._id+'-body" class="'+f.classes("body")+'">'+c.renderHtml(f)+"</div></div>"},postRender:function(){var c=this;c._super(),c.settings.activeTab=c.settings.activeTab||0,c.activateTab(c.settings.activeTab),this.on("click",function(d){var f=d.target.parentNode;if(d.target.parentNode.id==c._id+"-head"){for(var e=f.childNodes.length;e--;){f.childNodes[e]==d.target&&c.activateTab(e)}}})},initLayoutRect:function(){var f=this,h,d,c;d=a.getSize(f.getEl("head")).width,d=0>d?0:d,c=0,f.items().each(function(e,i){d=Math.max(d,e.layoutRect().minW),c=Math.max(c,e.layoutRect().minH),f.settings.activeTab!=i&&e.hide()}),f.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=d,i.settings.h=c,i.layoutRect({x:0,y:0,w:d,h:c})});var g=a.getSize(f.getEl("head")).height;return f.settings.minWidth=d,f.settings.minHeight=c+g,h=f._super(),h.deltaH+=g,h.innerH=h.h-h.deltaH,h}})}),aF(bL,[bT,bc],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c._value=d.value||"",c.addClass("textbox"),d.multiline?c.addClass("multiline"):c.on("keydown",function(f){13==f.keyCode&&c.parents().reverse().each(function(e){return f.preventDefault(),e.hasEventListeners("submit")&&e.toJSON?(e.fire("submit",{data:e.toJSON()}),!1):void 0})})},disabled:function(d){var c=this;return c._rendered&&"undefined"!=typeof d&&(c.getEl().disabled=d),c._super(d)},value:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().value=d),c):c._rendered?c.getEl().value:c._value},repaint:function(){var j=this,f,l,h,d=0,k=0,c;f=j.getEl().style,l=j._layoutRect,c=j._lastRepaintRect||{};var g=document;return !j.settings.multiline&&g.all&&(!g.documentMode||g.documentMode<=8)&&(f.lineHeight=l.h-k+"px"),h=j._borderBox,d=h.left+h.right+8,k=h.top+h.bottom+(j.settings.multiline?8:0),l.x!==c.x&&(f.left=l.x+"px",c.x=l.x),l.y!==c.y&&(f.top=l.y+"px",c.y=l.y),l.w!==c.w&&(f.width=l.w-d+"px",c.w=l.w),l.h!==c.h&&(f.height=l.h-k+"px",c.h=l.h),j._lastRepaintRect=c,j.fire("repaint",{},!1),j},renderHtml:function(){var g=this,d=g._id,h=g.settings,f=g.encode(g._value,!1),c="";return"spellcheck" in h&&(c+=' spellcheck="'+h.spellcheck+'"'),h.maxLength&&(c+=' maxlength="'+h.maxLength+'"'),h.size&&(c+=' size="'+h.size+'"'),h.subtype&&(c+=' type="'+h.subtype+'"'),g.disabled()&&(c+=' disabled="disabled"'),h.multiline?'<textarea id="'+d+'" class="'+g.classes()+'" '+(h.rows?' rows="'+h.rows+'"':"")+' hidefocus="1"'+c+">"+f+"</textarea>":'<input id="'+d+'" class="'+g.classes()+'" value="'+f+'" hidefocus="1"'+c+" />"},postRender:function(){var c=this;return a.on(c.getEl(),"change",function(d){c.fire("change",d)}),c._super()},remove:function(){a.off(this.getEl()),this._super()}})}),aF(ab,[bc,aI],function(b,a){return function(g,e){var d=this,f,c=a.classPrefix;d.show=function(h){return d.hide(),f=!0,window.setTimeout(function(){f&&g.appendChild(b.createFragment('<div class="'+c+"throbber"+(e?" "+c+"throbber-inline":"")+'"></div>'))},h||0),d},d.hide=function(){var h=g.lastChild;return h&&-1!=h.className.indexOf("throbber")&&h.parentNode.removeChild(h),f=!1,d}}}),a0([aO,aX,aW,aC,aU,aJ,aM,aS,aT,aB,aw,aZ,bz,ax,ay,a1,bx,bm,aP,bf,bd,bh,bC,bB,by,bp,bo,bu,bj,bk,bs,bw,av,a9,bb,bc,aI,aQ,bM,bq,a5,bv,a7,br,bi,a4,bX,be,a6,bR,ar,az,bA,bH,bP,aq,ai,aG,bN,al,bF,a2,bD,an,bJ,aY,a3,bT,af,bW,ak,bI,aa,bU,bK,ag,bO,bE,au,ae,bS,bG,aH,bg,a8,ac,bl,ap,aN,bn,ad,aj,ba,am,bV,bQ,ah,aA,ao,bL,ab])}(this);Foundation.libs.abide.pathshala=function(b){var a=this;b.attr("novalidate","novalidate");this.settings.init=true;if(!this.settings.live_validate){return}b.find("input, textarea, select").on("blur change",function(c){a.validate([this],c)})};Foundation.libs.abide.custom_validate=function(b){var a=this;return a.validate(b.find("input, textarea, select").get(),"")};$(document).foundation();$(document).foundation("topbar dropdown");
/*! jsTree - v3.0.2 - 2014-06-26 - (MIT) */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?a(require("jquery")):a(jQuery)})(function(v,B){if(!v.jstree){var m=0,b=!1,j=!1,C=!1,y=[],w=v("script:last").attr("src"),f=document,k=f.createElement("LI"),x,p;k.setAttribute("role","treeitem"),x=f.createElement("I"),x.className="jstree-icon jstree-ocl",k.appendChild(x),x=f.createElement("A"),x.className="jstree-anchor",x.setAttribute("href","#"),p=f.createElement("I"),p.className="jstree-icon jstree-themeicon",x.appendChild(p),k.appendChild(x),x=p=null,v.jstree={version:"3.0.2",defaults:{plugins:[]},plugins:{},path:w&&-1!==w.indexOf("/")?w.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}]/g},v.jstree.create=function(a,d){var e=new v.jstree.core(++m),c=d;return d=v.extend(!0,{},v.jstree.defaults,d),c&&c.plugins&&(d.plugins=c.plugins),v.each(d.plugins,function(h,g){"core"!==h&&(e=e.plugin(g,d[g]))}),e.init(a,d),e},v.jstree.core=function(a){this._id=a,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{}}}},v.jstree.reference=function(a){var d=null,e=null;if(a&&a.id&&(a=a.id),!e||!e.length){try{e=v(a)}catch(c){}}if(!e||!e.length){try{e=v("#"+a.replace(v.jstree.idregex,"\\$&"))}catch(c){}}return e&&e.length&&(e=e.closest(".jstree")).length&&(e=e.data("jstree"))?d=e:v(".jstree").each(function(){var g=v(this).data("jstree");return g&&g._model.data[a]?(d=g,!1):B}),d},v.fn.jstree=function(a){var d="string"==typeof a,e=Array.prototype.slice.call(arguments,1),c=null;return this.each(function(){var g=v.jstree.reference(this),h=d&&g?g[a]:null;return c=d&&h?h.apply(g,e):null,g||d||a!==B&&!v.isPlainObject(a)||v(this).data("jstree",new v.jstree.create(this,a)),(g&&!d||a===!0)&&(c=g||!1),null!==c&&c!==B?!1:B}),null!==c&&c!==B?c:this},v.expr[":"].jstree=v.expr.createPseudo(function(a){return function(c){return v(c).hasClass("jstree")&&v(c).data("jstree")!==B}}),v.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:v.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0},v.jstree.core.prototype={plugin:function(c,a){var d=v.jstree.plugins[c];return d?(this._data[c]={},d.prototype=this,new d(a,this)):this},init:function(c,a){this._model={data:{"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this.element=v(c).addClass("jstree jstree-"+this._id),this.settings=a,this.element.bind("destroyed",v.proxy(this.teardown,this)),this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this._data.core.li_height=this.get_container_ul().children("li:eq(0)").height()||24,this.trigger("loading"),this.load_node("#")},destroy:function(a){a||this.element.empty(),this.element.unbind("destroyed",this.teardown),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){this.element.on("dblclick.jstree",function(){if(document.selection&&document.selection.empty){document.selection.empty()}else{if(window.getSelection){var c=window.getSelection();try{c.removeAllRanges(),c.collapse()}catch(a){}}}}).on("click.jstree",".jstree-ocl",v.proxy(function(a){this.toggle_node(a.target)},this)).on("click.jstree",".jstree-anchor",v.proxy(function(a){a.preventDefault(),v(a.currentTarget).focus(),this.activate_node(a.currentTarget,a)},this)).on("keydown.jstree",".jstree-anchor",v.proxy(function(c){if("INPUT"===c.target.tagName){return !0}var a=null;switch(c.which){case 13:case 32:c.type="click",v(c.currentTarget).trigger(c);break;case 37:c.preventDefault(),this.is_open(c.currentTarget)?this.close_node(c.currentTarget):(a=this.get_prev_dom(c.currentTarget),a&&a.length&&a.children(".jstree-anchor").focus());break;case 38:c.preventDefault(),a=this.get_prev_dom(c.currentTarget),a&&a.length&&a.children(".jstree-anchor").focus();break;case 39:c.preventDefault(),this.is_closed(c.currentTarget)?this.open_node(c.currentTarget,function(d){this.get_node(d,!0).children(".jstree-anchor").focus()}):(a=this.get_next_dom(c.currentTarget),a&&a.length&&a.children(".jstree-anchor").focus());break;case 40:c.preventDefault(),a=this.get_next_dom(c.currentTarget),a&&a.length&&a.children(".jstree-anchor").focus();break;case 46:c.preventDefault(),a=this.get_node(c.currentTarget),a&&a.id&&"#"!==a.id&&(a=this.is_selected(a)?this.get_selected():a);break;case 113:c.preventDefault(),a=this.get_node(c.currentTarget);break;default:}},this)).on("load_node.jstree",v.proxy(function(c,a){if(a.status&&("#"!==a.node.id||this._data.core.loaded||(this._data.core.loaded=!0,this.trigger("loaded")),!this._data.core.ready&&!this.get_container_ul().find(".jstree-loading:eq(0)").length)){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var e=[],g,d;for(g=0,d=this._data.core.selected.length;d>g;g++){e=e.concat(this._model.data[this._data.core.selected[g]].parents)}for(e=v.vakata.array_unique(e),g=0,d=e.length;d>g;g++){this.open_node(e[g],!1,0)}}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}setTimeout(v.proxy(function(){this.trigger("ready")},this),0)}},this)).on("init.jstree",v.proxy(function(){var a=this.settings.core.themes;this._data.core.themes.dots=a.dots,this._data.core.themes.stripes=a.stripes,this._data.core.themes.icons=a.icons,this.set_theme(a.name||"default",a.url),this.set_theme_variant(a.variant)},this)).on("loading.jstree",v.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",v.proxy(function(a){v(a.currentTarget).filter(".jstree-hovered").mouseleave()},this)).on("focus.jstree",".jstree-anchor",v.proxy(function(a){this.element.find(".jstree-hovered").not(a.currentTarget).mouseleave(),v(a.currentTarget).mouseenter()},this)).on("mouseenter.jstree",".jstree-anchor",v.proxy(function(a){this.hover_node(a.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",v.proxy(function(a){this.dehover_node(a.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),v(document).off(".jstree-"+this._id)},trigger:function(c,a){a||(a={}),a.instance=this,this.element.triggerHandler(c.replace(".jstree","")+".jstree",a)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children:eq(0)")},get_string:function(c){var a=this.settings.core.strings;return v.isFunction(a)?a.call(this,c):a&&a[c]?a[c]:c},_firstChild:function(a){a=a?a.firstChild:null;while(null!==a&&1!==a.nodeType){a=a.nextSibling}return a},_nextSibling:function(a){a=a?a.nextSibling:null;while(null!==a&&1!==a.nodeType){a=a.nextSibling}return a},_previousSibling:function(a){a=a?a.previousSibling:null;while(null!==a&&1!==a.nodeType){a=a.previousSibling}return a},get_node:function(c,a){c&&c.id&&(c=c.id);var d;try{if(this._model.data[c]){c=this._model.data[c]}else{if(((d=v(c,this.element)).length||(d=v("#"+c.replace(v.jstree.idregex,"\\$&"),this.element)).length)&&this._model.data[d.closest(".jstree-node").attr("id")]){c=this._model.data[d.closest(".jstree-node").attr("id")]}else{if(!(d=v(c,this.element)).length||!d.hasClass("jstree")){return !1}c=this._model.data["#"]}}return a&&(c="#"===c.id?this.element:v("#"+c.id.replace(v.jstree.idregex,"\\$&"),this.element)),c}catch(e){return !1}},get_path:function(h,c,a){if(h=h.parents?h:this.get_node(h),!h||"#"===h.id||!h.parents){return !1}var g,l,d=[];for(d.push(a?h.id:h.text),g=0,l=h.parents.length;l>g;g++){d.push(a?h.parents[g]:this.get_text(h.parents[g]))}return d=d.reverse().slice(1),c?d.join(c):d},get_next_dom:function(c,a){var d;return c=this.get_node(c,!0),c[0]===this.element[0]?(d=this._firstChild(this.get_container_ul()[0]),d?v(d):!1):c&&c.length?a?(d=this._nextSibling(c[0]),d?v(d):!1):c.hasClass("jstree-open")?(d=this._firstChild(c.children(".jstree-children")[0]),d?v(d):!1):null!==(d=this._nextSibling(c[0]))?v(d):c.parentsUntil(".jstree",".jstree-node").next(".jstree-node").eq(0):!1},get_prev_dom:function(c,a){var d;if(c=this.get_node(c,!0),c[0]===this.element[0]){return d=this.get_container_ul()[0].lastChild,d?v(d):!1}if(!c||!c.length){return !1}if(a){return d=this._previousSibling(c[0]),d?v(d):!1}if(null!==(d=this._previousSibling(c[0]))){c=v(d);while(c.hasClass("jstree-open")){c=c.children(".jstree-children:eq(0)").children(".jstree-node:last")}return c}return d=c[0].parentNode.parentNode,d&&d.className&&-1!==d.className.indexOf("jstree-node")?v(d):!1},get_parent:function(a){return a=this.get_node(a),a&&"#"!==a.id?a.parent:!1},get_children_dom:function(a){return a=this.get_node(a,!0),a[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):a&&a.length?a.children(".jstree-children").children(".jstree-node"):!1},is_parent:function(a){return a=this.get_node(a),a&&(a.state.loaded===!1||a.children.length>0)},is_loaded:function(a){return a=this.get_node(a),a&&a.state.loaded},is_loading:function(a){return a=this.get_node(a),a&&a.state&&a.state.loading},is_open:function(a){return a=this.get_node(a),a&&a.state.opened},is_closed:function(a){return a=this.get_node(a),a&&this.is_parent(a)&&!a.state.opened},is_leaf:function(a){return !this.is_parent(a)},load_node:function(g,e){var l,u,h,c,o;if(v.isArray(g)){return this._load_nodes(g.slice(),e),!0}if(g=this.get_node(g),!g){return e&&e.call(this,g,!1),!1}if(g.state.loaded){for(g.state.loaded=!1,l=0,u=g.children_d.length;u>l;l++){for(h=0,c=g.parents.length;c>h;h++){this._model.data[g.parents[h]].children_d=v.vakata.array_remove_item(this._model.data[g.parents[h]].children_d,g.children_d[l])}this._model.data[g.children_d[l]].state.selected&&(o=!0,this._data.core.selected=v.vakata.array_remove_item(this._data.core.selected,g.children_d[l])),delete this._model.data[g.children_d[l]]}g.children=[],g.children_d=[],o&&this.trigger("changed",{action:"load_node",node:g,selected:this._data.core.selected})}return g.state.loading=!0,this.get_node(g,!0).addClass("jstree-loading"),this._load_node(g,v.proxy(function(d){g=this._model.data[g.id],g.state.loading=!1,g.state.loaded=d;var a=this.get_node(g,!0);g.state.loaded&&!g.children.length&&a&&a.length&&!a.hasClass("jstree-leaf")&&a.removeClass("jstree-closed jstree-open").addClass("jstree-leaf"),a.removeClass("jstree-loading"),this.trigger("load_node",{node:g,status:d}),e&&e.call(this,g,d)},this)),!0},_load_nodes:function(u,h,g){var o=!0,E=function(){this._load_nodes(u,h,!0)},l=this._model.data,c,D;for(c=0,D=u.length;D>c;c++){!l[u[c]]||l[u[c]].state.loaded&&g||(this.is_loading(u[c])||this.load_node(u[c],E),o=!1)}o&&(h.done||(h.call(this,u),h.done=!0))},_load_node:function(c,a){var d=this.settings.core.data,e;return d?v.isFunction(d)?d.call(this,c,v.proxy(function(g){g===!1&&a.call(this,!1),this["string"==typeof g?"_append_html_data":"_append_json_data"](c,"string"==typeof g?v(g):g,function(h){a.call(this,h)})},this)):"object"==typeof d?d.url?(d=v.extend(!0,{},d),v.isFunction(d.url)&&(d.url=d.url.call(this,c)),v.isFunction(d.data)&&(d.data=d.data.call(this,c)),v.ajax(d).done(v.proxy(function(i,l,h){var g=h.getResponseHeader("Content-Type");return -1!==g.indexOf("json")||"object"==typeof i?this._append_json_data(c,i,function(n){a.call(this,n)}):-1!==g.indexOf("html")||"string"==typeof i?this._append_html_data(c,v(i),function(n){a.call(this,n)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:c.id,xhr:h})},this.settings.core.error.call(this,this._data.core.last_error),a.call(this,!1))},this)).fail(v.proxy(function(g){a.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:c.id,xhr:g})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(e=v.isArray(d)||v.isPlainObject(d)?JSON.parse(JSON.stringify(d)):d,"#"===c.id?this._append_json_data(c,e,function(g){a.call(this,g)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:c.id})},this.settings.core.error.call(this,this._data.core.last_error),a.call(this,!1))):"string"==typeof d?"#"===c.id?this._append_html_data(c,v(d),function(g){a.call(this,g)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:c.id})},this.settings.core.error.call(this,this._data.core.last_error),a.call(this,!1)):a.call(this,!1):"#"===c.id?this._append_html_data(c,this._data.core.original_container_html.clone(!0),function(g){a.call(this,g)}):a.call(this,!1)},_node_changed:function(a){a=this.get_node(a),a&&this._model.changed.push(a.id)},_append_html_data:function(M,F,e){M=this.get_node(M),M.children=[],M.children_d=[];var D=F.is("ul")?F.children():F,N=M.id,J=[],H=[],g=this._model.data,E=g[N],I=this._data.core.selected.length,G,K,L;for(D.each(v.proxy(function(c,a){G=this._parse_model_from_html(v(a),N,E.parents.concat()),G&&(J.push(G),H.push(G),g[G].children_d.length&&(H=H.concat(g[G].children_d)))},this)),E.children=J,E.children_d=H,K=0,L=E.parents.length;L>K;K++){g[E.parents[K]].children_d=g[E.parents[K]].children_d.concat(H)}this.trigger("model",{nodes:H,parent:N}),"#"!==N?(this._node_changed(N),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==I&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),e.call(this,!0)},_append_json_data:function(g,e,l){g=this.get_node(g),g.children=[],g.children_d=[],e.d&&(e=e.d,"string"==typeof e&&(e=JSON.parse(e))),v.isArray(e)||(e=[e]);var E=null,h={df:this._model.default_state,dat:e,par:g.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},c=function(T,H){T.data&&(T=T.data);var P=T.dat,J=T.par,M=[],I=[],W=[],U=T.df,L=T.t_id,O=T.t_cnt,V=T.m,Q=V[J],X=T.sel,G,R,S,K,N=function(ab,Z,a){a=a?a.concat():[],Z&&a.unshift(Z);var t=""+ab.id,ad,d,Y,aa,ac={id:t,text:ab.text||"",icon:ab.icon!==H?ab.icon:!0,parent:Z,parents:a,children:ab.children||[],children_d:ab.children_d||[],data:ab.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(ad in U){U.hasOwnProperty(ad)&&(ac.state[ad]=U[ad])}if(ab&&ab.data&&ab.data.jstree&&ab.data.jstree.icon&&(ac.icon=ab.data.jstree.icon),ab&&ab.data&&(ac.data=ab.data,ab.data.jstree)){for(ad in ab.data.jstree){ab.data.jstree.hasOwnProperty(ad)&&(ac.state[ad]=ab.data.jstree[ad])}}if(ab&&"object"==typeof ab.state){for(ad in ab.state){ab.state.hasOwnProperty(ad)&&(ac.state[ad]=ab.state[ad])}}if(ab&&"object"==typeof ab.li_attr){for(ad in ab.li_attr){ab.li_attr.hasOwnProperty(ad)&&(ac.li_attr[ad]=ab.li_attr[ad])}}if(ac.li_attr.id||(ac.li_attr.id=t),ab&&"object"==typeof ab.a_attr){for(ad in ab.a_attr){ab.a_attr.hasOwnProperty(ad)&&(ac.a_attr[ad]=ab.a_attr[ad])}}for(ab&&ab.children&&ab.children===!0&&(ac.state.loaded=!1,ac.children=[],ac.children_d=[]),V[ac.id]=ac,ad=0,d=ac.children.length;d>ad;ad++){Y=N(V[ac.children[ad]],ac.id,a),aa=V[Y],ac.children_d.push(Y),aa.children_d.length&&(ac.children_d=ac.children_d.concat(aa.children_d))}return delete ab.data,delete ab.children,V[ac.id].original=ab,ac.state.selected&&W.push(ac.id),ac.id},F=function(Z,o,a){a=a?a.concat():[],o&&a.unshift(o);var d=!1,ac,t,aa,ab,Y;do{d="j"+L+"_"+ ++O}while(V[d]);Y={id:!1,text:"string"==typeof Z?Z:"",icon:"object"==typeof Z&&Z.icon!==H?Z.icon:!0,parent:o,parents:a,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(ac in U){U.hasOwnProperty(ac)&&(Y.state[ac]=U[ac])}if(Z&&Z.id&&(Y.id=""+Z.id),Z&&Z.text&&(Y.text=Z.text),Z&&Z.data&&Z.data.jstree&&Z.data.jstree.icon&&(Y.icon=Z.data.jstree.icon),Z&&Z.data&&(Y.data=Z.data,Z.data.jstree)){for(ac in Z.data.jstree){Z.data.jstree.hasOwnProperty(ac)&&(Y.state[ac]=Z.data.jstree[ac])}}if(Z&&"object"==typeof Z.state){for(ac in Z.state){Z.state.hasOwnProperty(ac)&&(Y.state[ac]=Z.state[ac])}}if(Z&&"object"==typeof Z.li_attr){for(ac in Z.li_attr){Z.li_attr.hasOwnProperty(ac)&&(Y.li_attr[ac]=Z.li_attr[ac])}}if(Y.li_attr.id&&!Y.id&&(Y.id=""+Y.li_attr.id),Y.id||(Y.id=d),Y.li_attr.id||(Y.li_attr.id=Y.id),Z&&"object"==typeof Z.a_attr){for(ac in Z.a_attr){Z.a_attr.hasOwnProperty(ac)&&(Y.a_attr[ac]=Z.a_attr[ac])}}if(Z&&Z.children&&Z.children.length){for(ac=0,t=Z.children.length;t>ac;ac++){aa=F(Z.children[ac],Y.id,a),ab=V[aa],Y.children.push(aa),ab.children_d.length&&(Y.children_d=Y.children_d.concat(ab.children_d))}Y.children_d=Y.children_d.concat(Y.children)}return Z&&Z.children&&Z.children===!0&&(Y.state.loaded=!1,Y.children=[],Y.children_d=[]),delete Z.data,delete Z.children,Y.original=Z,V[Y.id]=Y,Y.state.selected&&W.push(Y.id),Y.id};if(P.length&&P[0].id!==H&&P[0].parent!==H){for(R=0,S=P.length;S>R;R++){P[R].children||(P[R].children=[]),V[""+P[R].id]=P[R]}for(R=0,S=P.length;S>R;R++){V[""+P[R].parent].children.push(""+P[R].id),Q.children_d.push(""+P[R].id)}for(R=0,S=Q.children.length;S>R;R++){G=N(V[Q.children[R]],J,Q.parents.concat()),I.push(G),V[G].children_d.length&&(I=I.concat(V[G].children_d))}K={cnt:O,mod:V,sel:X,par:J,dpc:I,add:W}}else{for(R=0,S=P.length;S>R;R++){G=F(P[R],J,Q.parents.concat()),G&&(M.push(G),I.push(G),V[G].children_d.length&&(I=I.concat(V[G].children_d)))}for(Q.children=M,Q.children_d=I,R=0,S=Q.parents.length;S>R;R++){V[Q.parents[R]].children_d=V[Q.parents[R]].children_d.concat(I)}K={cnt:O,mod:V,sel:X,par:J,dpc:I,add:W}}return K},D=function(H,G){if(this._cnt=H.cnt,this._model.data=H.mod,G){var L,I,F=H.add,K=H.sel,J=this._data.core.selected.slice(),r=this._model.data;if(K.length!==J.length||v.vakata.array_unique(K.concat(J)).length!==K.length){for(L=0,I=K.length;I>L;L++){-1===v.inArray(K[L],F)&&-1===v.inArray(K[L],J)&&(r[K[L]].state.selected=!1)}for(L=0,I=J.length;I>L;L++){-1===v.inArray(J[L],K)&&(r[J[L]].state.selected=!0)}}}H.add.length&&(this._data.core.selected=this._data.core.selected.concat(H.add)),this.trigger("model",{nodes:H.dpc,parent:H.par}),"#"!==H.par?(this._node_changed(H.par),this.redraw()):this.redraw(!0),H.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),l.call(this,!0)};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker){try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+(""+c).replace(/return ([^;}]+)[\s;}]+$/,"postMessage($1);}")],{type:"text/javascript"}))),E=new window.Worker(this._wrk),E.onmessage=v.proxy(function(a){D.call(this,a.data,!0)},this),E.postMessage(h)}catch(u){D.call(this,c(h),!1)}}else{D.call(this,c(h),!1)}},_parse_model_from_html:function(D,e,t){t=t?[].concat(t):[],e&&t.unshift(e);var I,H,F=this._model.data,g={id:!1,text:!1,icon:!0,parent:e,parents:t,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u,G,E;for(u in this._model.default_state){this._model.default_state.hasOwnProperty(u)&&(g.state[u]=this._model.default_state[u])}if(G=v.vakata.attributes(D,!0),v.each(G,function(a,c){return c=v.trim(c),c.length?(g.li_attr[a]=c,"id"===a&&(g.id=""+c),B):!0}),G=D.children("a").eq(0),G.length&&(G=v.vakata.attributes(G,!0),v.each(G,function(c,a){a=v.trim(a),a.length&&(g.a_attr[c]=a)})),G=D.children("a:eq(0)").length?D.children("a:eq(0)").clone():D.clone(),G.children("ins, i, ul").remove(),G=G.html(),G=v("<div />").html(G),g.text=G.html(),G=D.data(),g.data=G?v.extend(!0,{},G):null,g.state.opened=D.hasClass("jstree-open"),g.state.selected=D.children("a").hasClass("jstree-clicked"),g.state.disabled=D.children("a").hasClass("jstree-disabled"),g.data&&g.data.jstree){for(u in g.data.jstree){g.data.jstree.hasOwnProperty(u)&&(g.state[u]=g.data.jstree[u])}}G=D.children("a").children(".jstree-themeicon"),G.length&&(g.icon=G.hasClass("jstree-themeicon-hidden")?!1:G.attr("rel")),g.state.icon&&(g.icon=g.state.icon),G=D.children("ul").children("li");do{E="j"+this._id+"_"+ ++this._cnt}while(F[E]);return g.id=g.li_attr.id?""+g.li_attr.id:E,G.length?(G.each(v.proxy(function(c,a){I=this._parse_model_from_html(v(a),g.id,t),H=this._model.data[I],g.children.push(I),H.children_d.length&&(g.children_d=g.children_d.concat(H.children_d))},this)),g.children_d=g.children_d.concat(g.children)):D.hasClass("jstree-closed")&&(g.state.loaded=!1),g.li_attr["class"]&&(g.li_attr["class"]=g.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),g.a_attr["class"]&&(g.a_attr["class"]=g.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),F[g.id]=g,g.state.selected&&this._data.core.selected.push(g.id),g.id},_parse_model_from_flat_json:function(G,E,g){g=g?g.concat():[],E&&g.unshift(E);var u=""+G.id,K=this._model.data,J=this._model.default_state,H,t,D,I,F={id:u,text:G.text||"",icon:G.icon!==B?G.icon:!0,parent:E,parents:g,children:G.children||[],children_d:G.children_d||[],data:G.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(H in J){J.hasOwnProperty(H)&&(F.state[H]=J[H])}if(G&&G.data&&G.data.jstree&&G.data.jstree.icon&&(F.icon=G.data.jstree.icon),G&&G.data&&(F.data=G.data,G.data.jstree)){for(H in G.data.jstree){G.data.jstree.hasOwnProperty(H)&&(F.state[H]=G.data.jstree[H])}}if(G&&"object"==typeof G.state){for(H in G.state){G.state.hasOwnProperty(H)&&(F.state[H]=G.state[H])}}if(G&&"object"==typeof G.li_attr){for(H in G.li_attr){G.li_attr.hasOwnProperty(H)&&(F.li_attr[H]=G.li_attr[H])}}if(F.li_attr.id||(F.li_attr.id=u),G&&"object"==typeof G.a_attr){for(H in G.a_attr){G.a_attr.hasOwnProperty(H)&&(F.a_attr[H]=G.a_attr[H])}}for(G&&G.children&&G.children===!0&&(F.state.loaded=!1,F.children=[],F.children_d=[]),K[F.id]=F,H=0,t=F.children.length;t>H;H++){D=this._parse_model_from_flat_json(K[F.children[H]],F.id,g),I=K[D],F.children_d.push(D),I.children_d.length&&(F.children_d=F.children_d.concat(I.children_d))}return delete G.data,delete G.children,K[F.id].original=G,F.state.selected&&this._data.core.selected.push(F.id),F.id},_parse_model_from_json:function(G,E,g){g=g?g.concat():[],E&&g.unshift(E);var u=!1,K,J,H,t,D=this._model.data,I=this._model.default_state,F;do{u="j"+this._id+"_"+ ++this._cnt}while(D[u]);F={id:!1,text:"string"==typeof G?G:"",icon:"object"==typeof G&&G.icon!==B?G.icon:!0,parent:E,parents:g,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(K in I){I.hasOwnProperty(K)&&(F.state[K]=I[K])}if(G&&G.id&&(F.id=""+G.id),G&&G.text&&(F.text=G.text),G&&G.data&&G.data.jstree&&G.data.jstree.icon&&(F.icon=G.data.jstree.icon),G&&G.data&&(F.data=G.data,G.data.jstree)){for(K in G.data.jstree){G.data.jstree.hasOwnProperty(K)&&(F.state[K]=G.data.jstree[K])}}if(G&&"object"==typeof G.state){for(K in G.state){G.state.hasOwnProperty(K)&&(F.state[K]=G.state[K])}}if(G&&"object"==typeof G.li_attr){for(K in G.li_attr){G.li_attr.hasOwnProperty(K)&&(F.li_attr[K]=G.li_attr[K])}}if(F.li_attr.id&&!F.id&&(F.id=""+F.li_attr.id),F.id||(F.id=u),F.li_attr.id||(F.li_attr.id=F.id),G&&"object"==typeof G.a_attr){for(K in G.a_attr){G.a_attr.hasOwnProperty(K)&&(F.a_attr[K]=G.a_attr[K])}}if(G&&G.children&&G.children.length){for(K=0,J=G.children.length;J>K;K++){H=this._parse_model_from_json(G.children[K],F.id,g),t=D[H],F.children.push(H),t.children_d.length&&(F.children_d=F.children_d.concat(t.children_d))}F.children_d=F.children_d.concat(F.children)}return G&&G.children&&G.children===!0&&(F.state.loaded=!1,F.children=[],F.children_d=[]),delete G.data,delete G.children,F.original=G,D[F.id]=F,F.state.selected&&this._data.core.selected.push(F.id),F.id},_redraw:function(){var g=this._model.force_full_redraw?this._model.data["#"].children.concat([]):this._model.changed.concat([]),c=document.createElement("UL"),a,d,h;for(d=0,h=g.length;h>d;d++){a=this.redraw_node(g[d],!0,this._model.force_full_redraw),a&&this._model.force_full_redraw&&c.appendChild(a)}this._model.force_full_redraw&&(c.className=this.get_container_ul()[0].className,this.element.empty().append(c)),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:g})},redraw:function(a){a&&(this._model.force_full_redraw=!0),this._redraw()},redraw_node:function(P,G,e){var E=this.get_node(P),Q=!1,M=!1,K=!1,D=!1,L=!1,H=!1,N="",O=document,I=this._model.data,J=!1,l=!1,F=null;if(!E){return !1}if("#"===E.id){return this.redraw(!0)}if(G=G||0===E.children.length,P=document.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(E.id[0])?"\\3"+E.id[0]+" "+E.id.substr(1).replace(v.jstree.idregex,"\\$&"):E.id.replace(v.jstree.idregex,"\\$&"))):document.getElementById(E.id)){P=v(P),e||(Q=P.parent().parent()[0],Q===this.element[0]&&(Q=null),M=P.index()),G||!E.children.length||P.children(".jstree-children").length||(G=!0),G||(K=P.children(".jstree-children")[0]),l=P.attr("aria-selected"),J=P.children(".jstree-anchor")[0]===document.activeElement,P.remove()}else{if(G=!0,!e){if(Q="#"!==E.parent?v("#"+E.parent.replace(v.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===Q||Q&&I[E.parent].state.opened)){return !1}M=v.inArray(E.id,null===Q?I["#"].children:I[E.parent].children)}}P=k.cloneNode(!0),N="jstree-node ";for(D in E.li_attr){if(E.li_attr.hasOwnProperty(D)){if("id"===D){continue}"class"!==D?P.setAttribute(D,E.li_attr[D]):N+=E.li_attr[D]}}l&&"false"!==l&&P.setAttribute("aria-selected",!0),E.state.loaded&&!E.children.length?N+=" jstree-leaf":(N+=E.state.opened&&E.state.loaded?" jstree-open":" jstree-closed",P.setAttribute("aria-expanded",E.state.opened&&E.state.loaded)),null!==E.parent&&I[E.parent].children[I[E.parent].children.length-1]===E.id&&(N+=" jstree-last"),P.id=E.id,P.className=N,N=(E.state.selected?" jstree-clicked":"")+(E.state.disabled?" jstree-disabled":"");for(L in E.a_attr){if(E.a_attr.hasOwnProperty(L)){if("href"===L&&"#"===E.a_attr[L]){continue}"class"!==L?P.childNodes[1].setAttribute(L,E.a_attr[L]):N+=" "+E.a_attr[L]}}if(N.length&&(P.childNodes[1].className="jstree-anchor "+N),(E.icon&&E.icon!==!0||E.icon===!1)&&(E.icon===!1?P.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===E.icon.indexOf("/")&&-1===E.icon.indexOf(".")?P.childNodes[1].childNodes[0].className+=" "+E.icon+" jstree-themeicon-custom":(P.childNodes[1].childNodes[0].style.backgroundImage="url("+E.icon+")",P.childNodes[1].childNodes[0].style.backgroundPosition="center center",P.childNodes[1].childNodes[0].style.backgroundSize="auto",P.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),P.childNodes[1].innerHTML+=E.text,G&&E.children.length&&E.state.opened&&E.state.loaded){for(H=O.createElement("UL"),H.setAttribute("role","group"),H.className="jstree-children",D=0,L=E.children.length;L>D;D++){H.appendChild(this.redraw_node(E.children[D],G,!0))}P.appendChild(H)}if(K&&P.appendChild(K),!e){for(Q||(Q=this.element[0]),D=0,L=Q.childNodes.length;L>D;D++){if(Q.childNodes[D]&&Q.childNodes[D].className&&-1!==Q.childNodes[D].className.indexOf("jstree-children")){F=Q.childNodes[D];break}}F||(F=O.createElement("UL"),F.setAttribute("role","group"),F.className="jstree-children",Q.appendChild(F)),Q=F,Q.childNodes.length>M?Q.insertBefore(P,Q.childNodes[M]):Q.appendChild(P),J&&P.childNodes[1].focus()}return E.state.opened&&!E.state.loaded&&(E.state.opened=!1,setTimeout(v.proxy(function(){this.open_node(E.id,!1,0)},this),0)),P},open_node:function(e,h,u){var g,c,t,l;if(v.isArray(e)){for(e=e.slice(),g=0,c=e.length;c>g;g++){this.open_node(e[g],h,u)}return !0}if(e=this.get_node(e),!e||"#"===e.id){return !1}if(u=u===B?this.settings.core.animation:u,!this.is_closed(e)){return h&&h.call(this,e,!1),!1}if(this.is_loaded(e)){t=this.get_node(e,!0),l=this,t.length&&(e.children.length&&!this._firstChild(t.children(".jstree-children")[0])&&(e.state.opened=!0,this.redraw_node(e,!0),t=this.get_node(e,!0)),u?(this.trigger("before_open",{node:e}),t.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(u,function(){this.style.display="",l.trigger("after_open",{node:e})})):(this.trigger("before_open",{node:e}),t[0].className=t[0].className.replace("jstree-closed","jstree-open"),t[0].setAttribute("aria-expanded",!0))),e.state.opened=!0,h&&h.call(this,e,!0),t.length||this.trigger("before_open",{node:e}),this.trigger("open_node",{node:e}),u&&t.length||this.trigger("after_open",{node:e})}else{if(this.is_loading(e)){return setTimeout(v.proxy(function(){this.open_node(e,h,u)},this),500)}this.load_node(e,function(d,a){return a?this.open_node(d,h,u):h?h.call(this,d,!1):!1})}},_open_to:function(c){if(c=this.get_node(c),!c||"#"===c.id){return !1}var a,d,e=c.parents;for(a=0,d=e.length;d>a;a+=1){"#"!==a&&this.open_node(e[a],!1,0)}return v("#"+c.id.replace(v.jstree.idregex,"\\$&"),this.element)},close_node:function(e,h){var o,g,c,l;if(v.isArray(e)){for(e=e.slice(),o=0,g=e.length;g>o;o++){this.close_node(e[o],h)}return !0}return e=this.get_node(e),e&&"#"!==e.id?this.is_closed(e)?!1:(h=h===B?this.settings.core.animation:h,c=this,l=this.get_node(e,!0),l.length&&(h?l.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(h,function(){this.style.display="",l.children(".jstree-children").remove(),c.trigger("after_close",{node:e})}):(l[0].className=l[0].className.replace("jstree-open","jstree-closed"),l.attr("aria-expanded",!1).children(".jstree-children").remove())),e.state.opened=!1,this.trigger("close_node",{node:e}),h&&l.length||this.trigger("after_close",{node:e}),B):!1},toggle_node:function(a){var c,d;if(v.isArray(a)){for(a=a.slice(),c=0,d=a.length;d>c;c++){this.toggle_node(a[c])}return !0}return this.is_closed(a)?this.open_node(a):this.is_open(a)?this.close_node(a):B},open_all:function(o,g,d){if(o||(o="#"),o=this.get_node(o),!o){return !1}var l="#"===o.id?this.get_container_ul():this.get_node(o,!0),u,h,c;if(!l.length){for(u=0,h=o.children_d.length;h>u;u++){this.is_closed(this._model.data[o.children_d[u]])&&(this._model.data[o.children_d[u]].state.opened=!0)}return this.trigger("open_all",{node:o})}d=d||l,c=this,l=this.is_closed(o)?l.find(".jstree-closed").addBack():l.find(".jstree-closed"),l.each(function(){c.open_node(this,function(i,a){a&&this.is_parent(i)&&this.open_all(i,g,d)},g||0)}),0===d.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(d)})},close_all:function(e,d){if(e||(e="#"),e=this.get_node(e),!e){return !1}var h="#"===e.id?this.get_container_ul():this.get_node(e,!0),l=this,g,c;if(!h.length){for(g=0,c=e.children_d.length;c>g;g++){this._model.data[e.children_d[g]].state.opened=!1}return this.trigger("close_all",{node:e})}h=this.is_open(e)?h.find(".jstree-open").addBack():h.find(".jstree-open"),v(h.get().reverse()).each(function(){l.close_node(this,d||0)}),this.trigger("close_all",{node:e})},is_disabled:function(a){return a=this.get_node(a),a&&a.state&&a.state.disabled},enable_node:function(a){var c,d;if(v.isArray(a)){for(a=a.slice(),c=0,d=a.length;d>c;c++){this.enable_node(a[c])}return !0}return a=this.get_node(a),a&&"#"!==a.id?(a.state.disabled=!1,this.get_node(a,!0).children(".jstree-anchor").removeClass("jstree-disabled"),this.trigger("enable_node",{node:a}),B):!1},disable_node:function(a){var c,d;if(v.isArray(a)){for(a=a.slice(),c=0,d=a.length;d>c;c++){this.disable_node(a[c])}return !0}return a=this.get_node(a),a&&"#"!==a.id?(a.state.disabled=!0,this.get_node(a,!0).children(".jstree-anchor").addClass("jstree-disabled"),this.trigger("disable_node",{node:a}),B):!1},activate_node:function(t,g){if(this.is_disabled(t)){return !1}if(this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==B?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(g.metaKey||g.ctrlKey||g.shiftKey)&&(!g.shiftKey||this._data.core.last_clicked&&this.get_parent(t)&&this.get_parent(t)===this._data.core.last_clicked.parent)){if(g.shiftKey){var l=this.get_node(t).id,E=this._data.core.last_clicked.id,h=this.get_node(this._data.core.last_clicked.parent).children,c=!1,D,u;for(D=0,u=h.length;u>D;D+=1){h[D]===l&&(c=!c),h[D]===E&&(c=!c),c||h[D]===l||h[D]===E?this.select_node(h[D],!1,!1,g):this.deselect_node(h[D],!1,g)}}else{this.is_selected(t)?this.deselect_node(t,!1,g):this.select_node(t,!1,!1,g)}}else{!this.settings.core.multiple&&(g.metaKey||g.ctrlKey||g.shiftKey)&&this.is_selected(t)?this.deselect_node(t,!1,g):(this.deselect_all(!0),this.select_node(t,!1,!1,g),this._data.core.last_clicked=this.get_node(t))}this.trigger("activate_node",{node:this.get_node(t)})},hover_node:function(d){if(d=this.get_node(d,!0),!d||!d.length||d.children(".jstree-hovered").length){return !1}var c=this.element.find(".jstree-hovered"),a=this.element;c&&c.length&&this.dehover_node(c),d.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(d)}),setTimeout(function(){a.attr("aria-activedescendant",d[0].id),d.attr("aria-selected",!0)},0)},dehover_node:function(a){return a=this.get_node(a,!0),a&&a.length&&a.children(".jstree-hovered").length?(a.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(a)}),B):!1},select_node:function(g,t,E,h){var e,D,u,c;if(v.isArray(g)){for(g=g.slice(),D=0,u=g.length;u>D;D++){this.select_node(g[D],t,E,h)}return !0}return g=this.get_node(g),g&&"#"!==g.id?(e=this.get_node(g,!0),g.state.selected||(g.state.selected=!0,this._data.core.selected.push(g.id),E||(e=this._open_to(g)),e&&e.length&&e.children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:g,selected:this._data.core.selected,event:h}),t||this.trigger("changed",{action:"select_node",node:g,selected:this._data.core.selected,event:h})),B):!1},deselect_node:function(e,h,o){var g,c,l;if(v.isArray(e)){for(e=e.slice(),g=0,c=e.length;c>g;g++){this.deselect_node(e[g],h,o)}return !0}return e=this.get_node(e),e&&"#"!==e.id?(l=this.get_node(e,!0),e.state.selected&&(e.state.selected=!1,this._data.core.selected=v.vakata.array_remove_item(this._data.core.selected,e.id),l.length&&l.children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:e,selected:this._data.core.selected,event:o}),h||this.trigger("changed",{action:"deselect_node",node:e,selected:this._data.core.selected,event:o})),B):!1},select_all:function(g){var c=this._data.core.selected.concat([]),a,d;for(this._data.core.selected=this._model.data["#"].children_d.concat(),a=0,d=this._data.core.selected.length;d>a;a++){this._model.data[this._data.core.selected[a]]&&(this._model.data[this._data.core.selected[a]].state.selected=!0)}this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),g||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:c})},deselect_all:function(g){var c=this._data.core.selected.concat([]),a,d;for(a=0,d=this._data.core.selected.length;d>a;a++){this._model.data[this._data.core.selected[a]]&&(this._model.data[this._data.core.selected[a]].state.selected=!1)}this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked"),this.trigger("deselect_all",{selected:this._data.core.selected,node:c}),g||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:c})},is_selected:function(a){return a=this.get_node(a),a&&"#"!==a.id?a.state.selected:!1},get_selected:function(a){return a?v.map(this._data.core.selected,v.proxy(function(c){return this.get_node(c)},this)):this._data.core.selected},get_top_selected:function(g){var e=this.get_selected(!0),l={},u,h,c,o;for(u=0,h=e.length;h>u;u++){l[e[u].id]=e[u]}for(u=0,h=e.length;h>u;u++){for(c=0,o=e[u].children_d.length;o>c;c++){l[e[u].children_d[c]]&&delete l[e[u].children_d[c]]}}e=[];for(u in l){l.hasOwnProperty(u)&&e.push(u)}return g?v.map(e,v.proxy(function(a){return this.get_node(a)},this)):e},get_bottom_selected:function(c){var a=this.get_selected(!0),e=[],g,d;for(g=0,d=a.length;d>g;g++){a[g].children.length||e.push(a[g].id)}return c?v.map(e,v.proxy(function(h){return this.get_node(h)},this)):e},get_state:function(){var c={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},a;for(a in this._model.data){this._model.data.hasOwnProperty(a)&&"#"!==a&&(this._model.data[a].state.opened&&c.core.open.push(a),this._model.data[a].state.selected&&c.core.selected.push(a))}return c},set_state:function(e,h){if(e){if(e.core){var o,g,c,l;if(e.core.open){return v.isArray(e.core.open)?(o=!0,g=!1,c=this,v.each(e.core.open.concat([]),function(a,i){g=c.get_node(i),g&&(c.is_loaded(i)?(c.is_closed(i)&&c.open_node(i,!1,0),e&&e.core&&e.core.open&&v.vakata.array_remove_item(e.core.open,i)):(c.is_loading(i)||c.open_node(i,v.proxy(function(d,r){!r&&e&&e.core&&e.core.open&&v.vakata.array_remove_item(e.core.open,d.id),this.set_state(e,h)},c),0),o=!1))}),o&&(delete e.core.open,this.set_state(e,h)),!1):(delete e.core.open,this.set_state(e,h),!1)}if(e.core.scroll){return e.core.scroll&&e.core.scroll.left!==B&&this.element.scrollLeft(e.core.scroll.left),e.core.scroll&&e.core.scroll.top!==B&&this.element.scrollTop(e.core.scroll.top),delete e.core.scroll,this.set_state(e,h),!1}if(e.core.selected){return l=this,this.deselect_all(),v.each(e.core.selected,function(d,a){l.select_node(a)}),delete e.core.selected,this.set_state(e,h),!1}if(v.isEmptyObject(e.core)){return delete e.core,this.set_state(e,h),!1}}return v.isEmptyObject(e)?(e=null,h&&h.call(this),this.trigger("set_state"),!1):!0}return !1},refresh:function(c){this._data.core.state=this.get_state(),this._cnt=0,this._model.data={"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}};var a=this.get_container_ul()[0].className;c||this.element.html("<ul class='"+a+"'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.load_node("#",function(d,e){e&&(this.get_container_ul()[0].className=a,this.set_state(v.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(c){if(c=this.get_node(c),!c||"#"===c.id){return !1}var a=[],d=this._data.core.selected.concat([]);c.state.opened===!0&&a.push(c.id),this.get_node(c,!0).find(".jstree-open").each(function(){a.push(this.id)}),this._load_nodes(a,v.proxy(function(g){this.open_node(g,!1,0),this.select_node(this._data.core.selected),this.trigger("refresh_node",{node:c,nodes:g})},this))},set_id:function(c,a){if(c=this.get_node(c),!c||"#"===c.id){return !1}var e,g,d=this._model.data;for(a=""+a,d[c.parent].children[v.inArray(c.id,d[c.parent].children)]=a,e=0,g=c.parents.length;g>e;e++){d[c.parents[e]].children_d[v.inArray(c.id,d[c.parents[e]].children_d)]=a}for(e=0,g=c.children.length;g>e;e++){d[c.children[e]].parent=a}for(e=0,g=c.children_d.length;g>e;e++){d[c.children_d[e]].parents[v.inArray(c.id,d[c.children_d[e]].parents)]=a}return e=v.inArray(c.id,this._data.core.selected),-1!==e&&(this._data.core.selected[e]=a),e=this.get_node(c.id,!0),e&&e.attr("id",a),delete d[c.id],c.id=a,d[a]=c,!0},get_text:function(a){return a=this.get_node(a),a&&"#"!==a.id?a.text:!1},set_text:function(e,d){var h,l,g,c;if(v.isArray(e)){for(e=e.slice(),h=0,l=e.length;l>h;h++){this.set_text(e[h],d)}return !0}return e=this.get_node(e),e&&"#"!==e.id?(e.text=d,g=this.get_node(e,!0),g.length&&(g=g.children(".jstree-anchor:eq(0)"),c=g.children("I").clone(),g.html(d).prepend(c),this.trigger("set_text",{obj:e,text:d})),!0):!1},get_json:function(h,c,a){if(h=this.get_node(h||"#"),!h){return !1}c&&c.flat&&!a&&(a=[]);var g={id:h.id,text:h.text,icon:this.get_icon(h),li_attr:h.li_attr,a_attr:h.a_attr,state:{},data:c&&c.no_data?!1:h.data},l,d;if(c&&c.flat?g.parent=h.parent:g.children=[],!c||!c.no_state){for(l in h.state){h.state.hasOwnProperty(l)&&(g.state[l]=h.state[l])}}if(c&&c.no_id&&(delete g.id,g.li_attr&&g.li_attr.id&&delete g.li_attr.id),c&&c.flat&&"#"!==h.id&&a.push(g),!c||!c.no_children){for(l=0,d=h.children.length;d>l;l++){c&&c.flat?this.get_json(h.children[l],c,a):g.children.push(this.get_json(h.children[l],c))}}return c&&c.flat?a:"#"===h.id?g.children:g},create_node:function(u,e,h,G,F){if(null===u&&(u="#"),u=this.get_node(u),!u){return !1}if(h=h===B?"last":h,!(""+h).match(/^(before|after)$/)&&!F&&!this.is_loaded(u)){return this.load_node(u,function(){this.create_node(u,e,h,G,!0)})}e||(e={text:this.get_string("New node")}),e.text===B&&(e.text=this.get_string("New node"));var D,g,t,E;switch("#"===u.id&&("before"===h&&(h="first"),"after"===h&&(h="last")),h){case"before":D=this.get_node(u.parent),h=v.inArray(u.id,D.children),u=D;break;case"after":D=this.get_node(u.parent),h=v.inArray(u.id,D.children)+1,u=D;break;case"inside":case"first":h=0;break;case"last":h=u.children.length;break;default:h||(h=0)}if(h>u.children.length&&(h=u.children.length),e.id||(e.id=!0),!this.check("create_node",e,u,h)){return this.settings.core.error.call(this,this._data.core.last_error),!1}if(e.id===!0&&delete e.id,e=this._parse_model_from_json(e,u.id,u.parents.concat()),!e){return !1}for(D=this.get_node(e),g=[],g.push(e),g=g.concat(D.children_d),this.trigger("model",{nodes:g,parent:u.id}),u.children_d=u.children_d.concat(g),t=0,E=u.parents.length;E>t;t++){this._model.data[u.parents[t]].children_d=this._model.data[u.parents[t]].children_d.concat(g)}for(e=D,D=[],t=0,E=u.children.length;E>t;t++){D[t>=h?t+1:t]=u.children[t]}return D[h]=e.id,u.children=D,this.redraw_node(u,!0),G&&G.call(this,this.get_node(e)),this.trigger("create_node",{node:this.get_node(e),parent:u.id,position:h}),e.id},rename_node:function(c,a){var e,g,d;if(v.isArray(c)){for(c=c.slice(),e=0,g=c.length;g>e;e++){this.rename_node(c[e],a)}return !0}return c=this.get_node(c),c&&"#"!==c.id?(d=c.text,this.check("rename_node",c,this.get_parent(c),a)?(this.set_text(c,a),this.trigger("rename_node",{node:c,text:a,old:d}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1)):!1},delete_node:function(J){var E,e,u,K,I,G,g,D,H,F;if(v.isArray(J)){for(J=J.slice(),E=0,e=J.length;e>E;E++){this.delete_node(J[E])}return !0}if(J=this.get_node(J),!J||"#"===J.id){return !1}if(u=this.get_node(J.parent),K=v.inArray(J.id,u.children),F=!1,!this.check("delete_node",J,u,K)){return this.settings.core.error.call(this,this._data.core.last_error),!1}for(-1!==K&&(u.children=v.vakata.array_remove(u.children,K)),I=J.children_d.concat([]),I.push(J.id),D=0,H=I.length;H>D;D++){for(G=0,g=J.parents.length;g>G;G++){K=v.inArray(I[D],this._model.data[J.parents[G]].children_d),-1!==K&&(this._model.data[J.parents[G]].children_d=v.vakata.array_remove(this._model.data[J.parents[G]].children_d,K))}this._model.data[I[D]].state.selected&&(F=!0,K=v.inArray(I[D],this._data.core.selected),-1!==K&&(this._data.core.selected=v.vakata.array_remove(this._data.core.selected,K)))}for(this.trigger("delete_node",{node:J,parent:u.id}),F&&this.trigger("changed",{action:"delete_node",node:J,selected:this._data.core.selected,parent:u.id}),D=0,H=I.length;H>D;D++){delete this._model.data[I[D]]}return this.redraw_node(u,!0),!0},check:function(g,e,l,u,h){e=e&&e.id?e:this.get_node(e),l=l&&l.id?l:this.get_node(l);var c=g.match(/^move_node|copy_node|create_node$/i)?l:e,o=this.settings.core.check_callback;return"move_node"!==g&&"copy_node"!==g||h&&h.is_multi||e.id!==l.id&&v.inArray(e.id,l.children)!==u&&-1===v.inArray(l.id,e.children_d)?(c&&c.data&&(c=c.data),c&&c.functions&&(c.functions[g]===!1||c.functions[g]===!0)?(c.functions[g]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+g,data:JSON.stringify({chk:g,pos:u,obj:e&&e.id?e.id:!1,par:l&&l.id?l.id:!1})}),c.functions[g]):o===!1||v.isFunction(o)&&o.call(this,g,e,l,u,h)===!1||o&&o[g]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+g,data:JSON.stringify({chk:g,pos:u,obj:e&&e.id?e.id:!1,par:l&&l.id?l.id:!1})},!1):!0):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:g,pos:u,obj:e&&e.id?e.id:!1,par:l&&l.id?l.id:!1})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(M,F,I,E,S){var Q,H,K,R,N,T,D,O,P,G,J,t,L,e;if(F=this.get_node(F),I=I===B?0:I,!F){return !1}if(!(""+I).match(/^(before|after)$/)&&!S&&!this.is_loaded(F)){return this.load_node(F,function(){this.move_node(M,F,I,E,!0)})}if(v.isArray(M)){for(M=M.reverse().slice(),Q=0,H=M.length;H>Q;Q++){this.move_node(M[Q],F,I,E,S)}return !0}if(M=M&&M.id?M:this.get_node(M),!M||"#"===M.id){return !1}if(K=""+(M.parent||"#"),N=(""+I).match(/^(before|after)$/)&&"#"!==F.id?this.get_node(F.parent):F,T=M.instance?M.instance:this._model.data[M.id]?this:v.jstree.reference(M.id),D=!T||!T._id||this._id!==T._id,R=T&&T._id&&K&&T._model.data[K]&&T._model.data[K].children?v.inArray(M.id,T._model.data[K].children):-1,D){return this.copy_node(M,F,I,E,S)?(T&&T.delete_node(M),!0):!1}switch("#"===N.id&&("before"===I&&(I="first"),"after"===I&&(I="last")),I){case"before":I=v.inArray(F.id,N.children);break;case"after":I=v.inArray(F.id,N.children)+1;break;case"inside":case"first":I=0;break;case"last":I=N.children.length;break;default:I||(I=0)}if(I>N.children.length&&(I=N.children.length),!this.check("move_node",M,N,I,{core:!0,is_multi:T&&T._id&&T._id!==this._id,is_foreign:!T||!T._id})){return this.settings.core.error.call(this,this._data.core.last_error),!1}if(M.parent===N.id){for(O=N.children.concat(),P=v.inArray(M.id,O),-1!==P&&(O=v.vakata.array_remove(O,P),I>P&&I--),P=[],G=0,J=O.length;J>G;G++){P[G>=I?G+1:G]=O[G]}P[I]=M.id,N.children=P,this._node_changed(N.id),this.redraw("#"===N.id)}else{for(P=M.children_d.concat(),P.push(M.id),G=0,J=M.parents.length;J>G;G++){for(O=[],e=T._model.data[M.parents[G]].children_d,t=0,L=e.length;L>t;t++){-1===v.inArray(e[t],P)&&O.push(e[t])}T._model.data[M.parents[G]].children_d=O}for(T._model.data[K].children=v.vakata.array_remove_item(T._model.data[K].children,M.id),G=0,J=N.parents.length;J>G;G++){this._model.data[N.parents[G]].children_d=this._model.data[N.parents[G]].children_d.concat(P)}for(O=[],G=0,J=N.children.length;J>G;G++){O[G>=I?G+1:G]=N.children[G]}for(O[I]=M.id,N.children=O,N.children_d.push(M.id),N.children_d=N.children_d.concat(M.children_d),M.parent=N.id,P=N.parents.concat(),P.unshift(N.id),e=M.parents.length,M.parents=P,P=P.concat(),G=0,J=M.children_d.length;J>G;G++){this._model.data[M.children_d[G]].parents=this._model.data[M.children_d[G]].parents.slice(0,-1*e),Array.prototype.push.apply(this._model.data[M.children_d[G]].parents,P)}this._node_changed(K),this._node_changed(N.id),this.redraw("#"===K||"#"===N.id)}return E&&E.call(this,M,N,I),this.trigger("move_node",{node:M,parent:N.id,position:I,old_parent:K,old_position:R,is_multi:T&&T._id&&T._id!==this._id,is_foreign:!T||!T._id,old_instance:T,new_instance:this}),!0},copy_node:function(H,e,E,Q,N){var L,D,G,M,I,O,P,J,K,t,F;if(e=this.get_node(e),E=E===B?0:E,!e){return !1}if(!(""+E).match(/^(before|after)$/)&&!N&&!this.is_loaded(e)){return this.load_node(e,function(){this.copy_node(H,e,E,Q,!0)})}if(v.isArray(H)){for(H=H.reverse().slice(),L=0,D=H.length;D>L;L++){this.copy_node(H[L],e,E,Q,N)}return !0}if(H=H&&H.id?H:this.get_node(H),!H||"#"===H.id){return !1}switch(J=""+(H.parent||"#"),K=(""+E).match(/^(before|after)$/)&&"#"!==e.id?this.get_node(e.parent):e,t=H.instance?H.instance:this._model.data[H.id]?this:v.jstree.reference(H.id),F=!t||!t._id||this._id!==t._id,"#"===K.id&&("before"===E&&(E="first"),"after"===E&&(E="last")),E){case"before":E=v.inArray(e.id,K.children);break;case"after":E=v.inArray(e.id,K.children)+1;break;case"inside":case"first":E=0;break;case"last":E=K.children.length;break;default:E||(E=0)}if(E>K.children.length&&(E=K.children.length),!this.check("copy_node",H,K,E,{core:!0,is_multi:t&&t._id&&t._id!==this._id,is_foreign:!t||!t._id})){return this.settings.core.error.call(this,this._data.core.last_error),!1}if(P=t?t.get_json(H,{no_id:!0,no_data:!0,no_state:!0}):H,!P){return !1}if(P.id===!0&&delete P.id,P=this._parse_model_from_json(P,K.id,K.parents.concat()),!P){return !1}for(M=this.get_node(P),H&&H.state&&H.state.loaded===!1&&(M.state.loaded=!1),G=[],G.push(P),G=G.concat(M.children_d),this.trigger("model",{nodes:G,parent:K.id}),I=0,O=K.parents.length;O>I;I++){this._model.data[K.parents[I]].children_d=this._model.data[K.parents[I]].children_d.concat(G)}for(G=[],I=0,O=K.children.length;O>I;I++){G[I>=E?I+1:I]=K.children[I]}return G[E]=M.id,K.children=G,K.children_d.push(M.id),K.children_d=K.children_d.concat(M.children_d),this._node_changed(K.id),this.redraw("#"===K.id),Q&&Q.call(this,M,K,E),this.trigger("copy_node",{node:M,original:H,parent:K.id,position:E,old_parent:J,old_position:t&&t._id&&J&&t._model.data[J]&&t._model.data[J].children?v.inArray(H.id,t._model.data[J].children):-1,is_multi:t&&t._id&&t._id!==this._id,is_foreign:!t||!t._id,old_instance:t,new_instance:this}),M.id},cut:function(g){if(g||(g=this._data.core.selected.concat()),v.isArray(g)||(g=[g]),!g.length){return !1}var e=[],n,h,c;for(h=0,c=g.length;c>h;h++){n=this.get_node(g[h]),n&&n.id&&"#"!==n.id&&e.push(n)}return e.length?(b=e,C=this,j="move_node",this.trigger("cut",{node:g}),B):!1},copy:function(g){if(g||(g=this._data.core.selected.concat()),v.isArray(g)||(g=[g]),!g.length){return !1}var e=[],n,h,c;for(h=0,c=g.length;c>h;h++){n=this.get_node(g[h]),n&&n.id&&"#"!==n.id&&e.push(n)}return e.length?(b=e,C=this,j="copy_node",this.trigger("copy",{node:g}),B):!1},get_buffer:function(){return{mode:j,node:b,inst:C}},can_paste:function(){return j!==!1&&b!==!1},paste:function(c,a){return c=this.get_node(c),c&&j&&j.match(/^(copy_node|move_node)$/)&&b?(this[j](b,c,a)&&this.trigger("paste",{parent:c.id,node:b,mode:j}),b=!1,j=!1,C=!1,B):!1},edit:function(D,e){if(D=this._open_to(D),!D||!D.length){return !1}if(this.settings.core.check_callback===!1){return this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1}var t=this._data.core.rtl,I=this.element.width(),H=D.children(".jstree-anchor"),F=v("<span>"),g="string"==typeof e?e:this.get_text(D),u=v("<div />",{css:{position:"absolute",top:"-200px",left:t?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),G=v("<input />",{value:g,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:v.proxy(function(){var c=F.children(".jstree-rename-input"),a=c.val();""===a&&(a=g),u.remove(),F.replaceWith(H),F.remove(),this.set_text(D,g),this.rename_node(D,a)===!1&&this.set_text(D,g)},this),keydown:function(c){var a=c.which;27===a&&(this.value=g),(27===a||13===a||37===a||38===a||39===a||40===a||32===a)&&c.stopImmediatePropagation(),(27===a||13===a)&&(c.preventDefault(),this.blur())},click:function(a){a.stopImmediatePropagation()},mousedown:function(a){a.stopImmediatePropagation()},keyup:function(a){G.width(Math.min(u.text("pW"+this.value).width(),I))},keypress:function(a){return 13===a.which?!1:B}}),E={fontFamily:H.css("fontFamily")||"",fontSize:H.css("fontSize")||"",fontWeight:H.css("fontWeight")||"",fontStyle:H.css("fontStyle")||"",fontStretch:H.css("fontStretch")||"",fontVariant:H.css("fontVariant")||"",letterSpacing:H.css("letterSpacing")||"",wordSpacing:H.css("wordSpacing")||""};this.set_text(D,""),F.attr("class",H.attr("class")).append(H.contents().clone()).append(G),H.replaceWith(F),u.css(E),G.css(E).width(Math.min(u.text("pW"+G[0].value).width(),I))[0].select()},set_theme:function(c,a){if(!c){return !1}if(a===!0){var d=this.settings.core.themes.dir;d||(d=v.jstree.path+"/themes"),a=d+"/"+c+"/style.css"}a&&-1===v.inArray(a,y)&&(v("head").append('<link rel="stylesheet" href="'+a+'" type="text/css" />'),y.push(a)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=c,this.element.addClass("jstree-"+c),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+c+"-responsive"),this.trigger("set_theme",{theme:c})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(a){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=a,a&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(e,d){var h,l,g,c;if(v.isArray(e)){for(e=e.slice(),h=0,l=e.length;l>h;h++){this.set_icon(e[h],d)}return !0}return e=this.get_node(e),e&&"#"!==e.id?(c=e.icon,e.icon=d,g=this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon"),d===!1?this.hide_icon(e):d===!0?g.removeClass("jstree-themeicon-custom "+c).css("background","").removeAttr("rel"):-1===d.indexOf("/")&&-1===d.indexOf(".")?(g.removeClass(c).css("background",""),g.addClass(d+" jstree-themeicon-custom").attr("rel",d)):(g.removeClass(c).css("background",""),g.addClass("jstree-themeicon-custom").css("background","url('"+d+"') center center no-repeat").attr("rel",d)),!0):!1},get_icon:function(a){return a=this.get_node(a),a&&"#"!==a.id?a.icon:!1},hide_icon:function(c){var a,d;if(v.isArray(c)){for(c=c.slice(),a=0,d=c.length;d>a;a++){this.hide_icon(c[a])}return !0}return c=this.get_node(c),c&&"#"!==c?(c.icon=!1,this.get_node(c,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0):!1},show_icon:function(c){var a,d,e;if(v.isArray(c)){for(c=c.slice(),a=0,d=c.length;d>a;a++){this.show_icon(c[a])}return !0}return c=this.get_node(c),c&&"#"!==c?(e=this.get_node(c,!0),c.icon=e.length?e.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,c.icon||(c.icon=!0),e.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0):!1}},v.vakata={},v.vakata.attributes=function(c,a){c=v(c)[0];var d=a?{}:[];return c&&c.attributes&&v.each(c.attributes,function(e,g){-1===v.inArray(g.nodeName.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==g.nodeValue&&""!==v.trim(g.nodeValue)&&(a?d[g.nodeName]=g.nodeValue:d.push(g.nodeName))}),d},v.vakata.array_unique=function(g){var c=[],a,d,h;for(a=0,h=g.length;h>a;a++){for(d=0;a>=d;d++){if(g[a]===g[d]){break}}d===a&&c.push(g[a])}return c},v.vakata.array_remove=function(g,c,a){var d=g.slice((a||c)+1||g.length);return g.length=0>c?g.length+c:c,g.push.apply(g,d),g},v.vakata.array_remove_item=function(c,a){var d=v.inArray(a,c);return -1!==d?v.vakata.array_remove(c,d):c};var z=document.createElement("I");z.className="jstree-icon jstree-checkbox",v.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:""},v.jstree.plugins.checkbox=function(c,a){this.bind=function(){a.bind.call(this),this._data.checkbox.uto=!1,this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",v.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked")},this)).on("loading.jstree",v.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",v.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(v.proxy(this._undetermined,this),50)},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",v.proxy(function(M,F){var e=this._model.data,D=e[F.parent],N=F.nodes,J=[],H,g,E,I,G,K,L=this.settings.checkbox.cascade;if(-1!==L.indexOf("down")){if(D.state.selected){for(g=0,E=N.length;E>g;g++){e[N[g]].state.selected=!0}this._data.core.selected=this._data.core.selected.concat(N)}else{for(g=0,E=N.length;E>g;g++){if(e[N[g]].state.selected){for(I=0,G=e[N[g]].children_d.length;G>I;I++){e[e[N[g]].children_d[I]].state.selected=!0}this._data.core.selected=this._data.core.selected.concat(e[N[g]].children_d)}}}}if(-1!==L.indexOf("up")){for(g=0,E=D.children_d.length;E>g;g++){e[D.children_d[g]].children.length||J.push(e[D.children_d[g]].parent)}for(J=v.vakata.array_unique(J),I=0,G=J.length;G>I;I++){D=e[J[I]];while(D&&"#"!==D.id){for(H=0,g=0,E=D.children.length;E>g;g++){H+=e[D.children[g]].state.selected}if(H!==E){break}D.state.selected=!0,this._data.core.selected.push(D.id),K=this.get_node(D,!0),K&&K.length&&K.children(".jstree-anchor").addClass("jstree-clicked"),D=this.get_node(D.parent)}}}this._data.core.selected=v.vakata.array_unique(this._data.core.selected)},this)).on("select_node.jstree",v.proxy(function(J,E){var e=E.node,u=this._model.data,K=this.get_node(e.parent),I=this.get_node(e,!0),G,g,D,H,F=this.settings.checkbox.cascade;if(-1!==F.indexOf("down")){for(this._data.core.selected=v.vakata.array_unique(this._data.core.selected.concat(e.children_d)),G=0,g=e.children_d.length;g>G;G++){H=u[e.children_d[G]],H.state.selected=!0,H&&H.original&&H.original.state&&H.original.state.undetermined&&(H.original.state.undetermined=!1)}}if(-1!==F.indexOf("up")){while(K&&"#"!==K.id){for(D=0,G=0,g=K.children.length;g>G;G++){D+=u[K.children[G]].state.selected}if(D!==g){break}K.state.selected=!0,this._data.core.selected.push(K.id),H=this.get_node(K,!0),H&&H.length&&H.children(".jstree-anchor").addClass("jstree-clicked"),K=this.get_node(K.parent)}}-1!==F.indexOf("down")&&I.length&&I.find(".jstree-anchor").addClass("jstree-clicked")},this)).on("deselect_all.jstree",v.proxy(function(u,h){var g=this.get_node("#"),o=this._model.data,D,l,d;for(D=0,l=g.children_d.length;l>D;D++){d=o[g.children_d[D]],d&&d.original&&d.original.state&&d.original.state.undetermined&&(d.original.state.undetermined=!1)}},this)).on("deselect_node.jstree",v.proxy(function(h,g){var u=g.node,F=this.get_node(u,!0),l,e,E,D=this.settings.checkbox.cascade;if(u&&u.original&&u.original.state&&u.original.state.undetermined&&(u.original.state.undetermined=!1),-1!==D.indexOf("down")){for(l=0,e=u.children_d.length;e>l;l++){E=this._model.data[u.children_d[l]],E.state.selected=!1,E&&E.original&&E.original.state&&E.original.state.undetermined&&(E.original.state.undetermined=!1)}}if(-1!==D.indexOf("up")){for(l=0,e=u.parents.length;e>l;l++){E=this._model.data[u.parents[l]],E.state.selected=!1,E&&E.original&&E.original.state&&E.original.state.undetermined&&(E.original.state.undetermined=!1),E=this.get_node(u.parents[l],!0),E&&E.length&&E.children(".jstree-anchor").removeClass("jstree-clicked")}}for(E=[],l=0,e=this._data.core.selected.length;e>l;l++){-1!==D.indexOf("down")&&-1!==v.inArray(this._data.core.selected[l],u.children_d)||-1!==D.indexOf("up")&&-1!==v.inArray(this._data.core.selected[l],u.parents)||E.push(this._data.core.selected[l])}this._data.core.selected=v.vakata.array_unique(E),-1!==D.indexOf("down")&&F.length&&F.find(".jstree-anchor").removeClass("jstree-clicked")},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",v.proxy(function(D,l){var h=this.get_node(l.parent),u=this._model.data,F,o,g,E;while(h&&"#"!==h.id){for(g=0,F=0,o=h.children.length;o>F;F++){g+=u[h.children[F]].state.selected}if(g!==o){break}h.state.selected=!0,this._data.core.selected.push(h.id),E=this.get_node(h,!0),E&&E.length&&E.children(".jstree-anchor").addClass("jstree-clicked"),h=this.get_node(h.parent)}},this)).on("move_node.jstree",v.proxy(function(J,E){var e=E.is_multi,u=E.old_parent,K=this.get_node(E.parent),I=this._model.data,G,g,D,H,F;if(!e){G=this.get_node(u);while(G&&"#"!==G.id){for(g=0,D=0,H=G.children.length;H>D;D++){g+=I[G.children[D]].state.selected}if(g!==H){break}G.state.selected=!0,this._data.core.selected.push(G.id),F=this.get_node(G,!0),F&&F.length&&F.children(".jstree-anchor").addClass("jstree-clicked"),G=this.get_node(G.parent)}}G=K;while(G&&"#"!==G.id){for(g=0,D=0,H=G.children.length;H>D;D++){g+=I[G.children[D]].state.selected}if(g===H){G.state.selected||(G.state.selected=!0,this._data.core.selected.push(G.id),F=this.get_node(G,!0),F&&F.length&&F.children(".jstree-anchor").addClass("jstree-clicked"))}else{if(!G.state.selected){break}G.state.selected=!1,this._data.core.selected=v.vakata.array_remove_item(this._data.core.selected,G.id),F=this.get_node(G,!0),F&&F.length&&F.children(".jstree-anchor").removeClass("jstree-clicked")}G=this.get_node(G.parent)}},this))},this._undetermined=function(){var g,e,l=this._model.data,o=this._data.core.selected,h=[],d=this;for(g=0,e=o.length;e>g;g++){l[o[g]]&&l[o[g]].parents&&(h=h.concat(l[o[g]].parents))}for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var i=d.get_node(this),r;if(i.state.loaded){for(g=0,e=i.children_d.length;e>g;g++){r=l[i.children_d[g]],!r.state.loaded&&r.original&&r.original.state&&r.original.state.undetermined&&r.original.state.undetermined===!0&&(h.push(r.id),h=h.concat(r.parents))}}else{i.original&&i.original.state&&i.original.state.undetermined&&i.original.state.undetermined===!0&&(h.push(i.id),h=h.concat(i.parents))}}),h=v.vakata.array_unique(h),h=v.vakata.array_remove_item(h,"#"),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),g=0,e=h.length;e>g;g++){l[h[g]].state.selected||(o=this.get_node(h[g],!0),o&&o.length&&o.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}},this.redraw_node=function(g,i,o){if(g=a.redraw_node.call(this,g,i,o)){var h,e,l=null;for(h=0,e=g.childNodes.length;e>h;h++){if(g.childNodes[h]&&g.childNodes[h].className&&-1!==g.childNodes[h].className.indexOf("jstree-anchor")){l=g.childNodes[h];break}}l&&l.insertBefore(z.cloneNode(!1),l.childNodes[0])}return o||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(v.proxy(this._undetermined,this),50)),g},this.activate_node=function(d,e){return(this.settings.checkbox.whole_node||v(e.target).hasClass("jstree-checkbox"))&&(e.ctrlKey=!0),a.activate_node.call(this,d,e)},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()}},v.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(c,a){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(e){var d=v.jstree.reference(e.reference),g=d.get_node(e.reference);d.create_node(g,{},"last",function(h){setTimeout(function(){d.edit(h)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(e){var d=v.jstree.reference(e.reference),g=d.get_node(e.reference);d.edit(g)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(e){var d=v.jstree.reference(e.reference),g=d.get_node(e.reference);d.is_selected(g)?d.delete_node(d.get_selected()):d.delete_node(g)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(e){var d=v.jstree.reference(e.reference),g=d.get_node(e.reference);d.is_selected(g)?d.cut(d.get_selected()):d.cut(g)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(e){var d=v.jstree.reference(e.reference),g=d.get_node(e.reference);d.is_selected(g)?d.copy(d.get_selected()):d.copy(g)}},paste:{separator_before:!1,icon:!1,_disabled:function(d){return !v.jstree.reference(d.reference).can_paste()},separator_after:!1,label:"Paste",action:function(e){var d=v.jstree.reference(e.reference),g=d.get_node(e.reference);d.paste(g)}}}}}}},v.jstree.plugins.contextmenu=function(a,c){this.bind=function(){c.bind.call(this);var d=0;this.element.on("contextmenu.jstree",".jstree-anchor",v.proxy(function(g){g.preventDefault(),d=g.ctrlKey?g.timeStamp:0,this.is_loading(g.currentTarget)||this.show_contextmenu(g.currentTarget,g.pageX,g.pageY,g)},this)).on("click.jstree",".jstree-anchor",v.proxy(function(e){this._data.contextmenu.visible&&(!d||e.timeStamp-d>250)&&v.vakata.context.hide()},this)),v(document).on("context_hide.vakata",v.proxy(function(){this._data.contextmenu.visible=!1},this))},this.teardown=function(){this._data.contextmenu.visible&&v.vakata.context.hide(),c.teardown.call(this)},this.show_contextmenu=function(u,e,h,G){if(u=this.get_node(u),!u||"#"===u.id){return !1}var F=this.settings.contextmenu,D=this.get_node(u,!0),g=D.children(".jstree-anchor"),t=!1,E=!1;(F.show_at_node||e===B||h===B)&&(t=g.offset(),e=t.left,h=t.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(u)&&this.activate_node(u,G),E=F.items,v.isFunction(E)&&(E=E.call(this,u,v.proxy(function(d){this._show_contextmenu(u,e,h,d)},this))),v.isPlainObject(E)&&this._show_contextmenu(u,e,h,E)},this._show_contextmenu=function(g,e,l,o){var h=this.get_node(g,!0),d=h.children(".jstree-anchor");v(document).one("context_show.vakata",v.proxy(function(s,n){var u="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";v(n.element).addClass(u)},this)),this._data.contextmenu.visible=!0,v.vakata.context.show(d,{x:e,y:l},o),this.trigger("show_contextmenu",{node:g,x:e,y:l})}},function(d){var a=!1,c={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};d.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(e){d(document).triggerHandler("context_"+e+".vakata",{reference:c.reference,element:c.element,position:{x:c.position_x,y:c.position_y}})},_execute:function(e){return e=c.items[e],e&&(!e._disabled||d.isFunction(e._disabled)&&!e._disabled({item:e,reference:c.reference,element:c.element}))&&e.action?e.action.call(null,{item:e,reference:c.reference,element:c.element,position:{x:c.position_x,y:c.position_y}}):!1},_parse:function(g,o){if(!g){return !1}o||(c.html="",c.items=[]);var h="",e=!1,l;return o&&(h+="<ul>"),d.each(g,function(r,s){return s?(c.items.push(s),!e&&s.separator_before&&(h+="<li class='vakata-context-separator'><a href='#' "+(d.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),e=!1,h+="<li class='"+(s._class||"")+(s._disabled===!0||d.isFunction(s._disabled)&&s._disabled({item:s,reference:c.reference,element:c.element})?" vakata-contextmenu-disabled ":"")+"' "+(s.shortcut?" data-shortcut='"+s.shortcut+"' ":"")+">",h+="<a href='#' rel='"+(c.items.length-1)+"'>",d.vakata.context.settings.icons&&(h+="<i ",s.icon&&(h+=-1!==s.icon.indexOf("/")||-1!==s.icon.indexOf(".")?" style='background:url(\""+s.icon+"\") center center no-repeat' ":" class='"+s.icon+"' "),h+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),h+=(d.isFunction(s.label)?s.label({item:r,reference:c.reference,element:c.element}):s.label)+(s.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+s.shortcut+'">'+(s.shortcut_label||"")+"</span>":"")+"</a>",s.submenu&&(l=d.vakata.context._parse(s.submenu,!0),l&&(h+=l)),h+="</li>",s.separator_after&&(h+="<li class='vakata-context-separator'><a href='#' "+(d.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",e=!0),B):!0}),h=h.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),o&&(h+="</ul>"),o||(c.html=h,d.vakata.context._trigger("parse")),h.length>10?h:!1},_show_submenu:function(h){if(h=d(h),h.length&&h.children("ul").length){var u=h.children("ul"),F=h.offset().left+h.outerWidth(),i=h.offset().top,g=u.width(),E=u.height(),D=d(window).width()+d(window).scrollLeft(),e=d(window).height()+d(window).scrollTop();a?h[0>F-(g+10+h.outerWidth())?"addClass":"removeClass"]("vakata-context-left"):h[F+g+10>D?"addClass":"removeClass"]("vakata-context-right"),i+E+10>e&&u.css("bottom","-1px"),u.show()}},show:function(K,i,L){var H,F,e,r,G,D,I,J,E=!0;switch(c.element&&c.element.length&&c.element.width(""),E){case !i&&!K:return !1;case !!i&&!!K:c.reference=K,c.position_x=i.x,c.position_y=i.y;break;case !i&&!!K:c.reference=K,H=K.offset(),c.position_x=H.left+K.outerHeight(),c.position_y=H.top;break;case !!i&&!K:c.position_x=i.x,c.position_y=i.y}K&&!L&&d(K).data("vakata_contextmenu")&&(L=d(K).data("vakata_contextmenu")),d.vakata.context._parse(L)&&c.element.html(c.html),c.items.length&&(F=c.element,e=c.position_x,r=c.position_y,G=F.width(),D=F.height(),I=d(window).width()+d(window).scrollLeft(),J=d(window).height()+d(window).scrollTop(),a&&(e-=F.outerWidth(),d(window).scrollLeft()+20>e&&(e=d(window).scrollLeft()+20)),e+G+20>I&&(e=I-(G+20)),r+D+20>J&&(r=J-(D+20)),c.element.css({left:e,top:r}).show().find("a:eq(0)").focus().parent().addClass("vakata-context-hover"),c.is_visible=!0,d.vakata.context._trigger("show"))},hide:function(){c.is_visible&&(c.element.hide().find("ul").hide().end().find(":focus").blur(),c.is_visible=!1,d.vakata.context._trigger("hide"))}},d(function(){a="rtl"===d("body").css("direction");var e=!1;c.element=d("<ul class='vakata-context'></ul>"),c.element.on("mouseenter","li",function(g){g.stopImmediatePropagation(),d.contains(this,g.relatedTarget)||(e&&clearTimeout(e),c.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),d(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),d.vakata.context._show_submenu(this))}).on("mouseleave","li",function(g){d.contains(this,g.relatedTarget)||d(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(g){d(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),d.vakata.context.settings.hide_onmouseleave&&(e=setTimeout(function(h){return function(){d.vakata.context.hide()}}(this),d.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(g){g.preventDefault(),d(this).blur().parent().hasClass("vakata-context-disabled")||d.vakata.context._execute(d(this).attr("rel"))===!1||d.vakata.context.hide()}).on("keydown","a",function(h){var g=null;switch(h.which){case 13:case 32:h.type="mouseup",h.preventDefault(),d(h.currentTarget).trigger(h);break;case 37:c.is_visible&&(c.element.find(".vakata-context-hover").last().parents("li:eq(0)").find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),h.stopImmediatePropagation(),h.preventDefault());break;case 38:c.is_visible&&(g=c.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),g.length||(g=c.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),g.addClass("vakata-context-hover").children("a").focus(),h.stopImmediatePropagation(),h.preventDefault());break;case 39:c.is_visible&&(c.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),h.stopImmediatePropagation(),h.preventDefault());break;case 40:c.is_visible&&(g=c.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),g.length||(g=c.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),g.addClass("vakata-context-hover").children("a").focus(),h.stopImmediatePropagation(),h.preventDefault());break;case 27:d.vakata.context.hide(),h.preventDefault();break;default:}}).on("keydown",function(h){h.preventDefault();var g=c.element.find(".vakata-contextmenu-shortcut-"+h.which).parent();g.parent().not(".vakata-context-disabled")&&g.mouseup()}).appendTo("body"),d(document).on("mousedown",function(g){c.is_visible&&!d.contains(c.element[0],g.target)&&d.vakata.context.hide()}).on("context_show.vakata",function(h,g){c.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),a&&c.element.addClass("vakata-context-rtl").css("direction","rtl"),c.element.find("ul").hide().end()})})}(v),v.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0},v.jstree.plugins.dnd=function(a,c){this.bind=function(){c.bind.call(this),this.element.on("mousedown.jstree touchstart.jstree",".jstree-anchor",v.proxy(function(d){var e=this.get_node(d.target),g=this.is_selected(e)?this.get_selected().length:1;return e&&e.id&&"#"!==e.id&&(1===d.which||"touchstart"===d.type)&&(this.settings.dnd.is_draggable===!0||v.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,g>1?this.get_selected(!0):[e]))?(this.element.trigger("mousedown.jstree"),v.vakata.dnd.start(d,{jstree:!0,origin:this,obj:this.get_node(e,!0),nodes:g>1?this.get_selected():[e.id]},'<div id="jstree-dnd" class="jstree-'+this.get_theme()+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+(g>1?g+" "+this.get_string("nodes"):this.get_text(d.currentTarget,!0))+'<ins class="jstree-copy" style="display:none;">+</ins></div>')):B},this))}},v(function(){var a=!1,d=!1,e=!1,c=v('<div id="jstree-marker">&#160;</div>').hide().appendTo("body");v(document).bind("dnd_start.vakata",function(h,g){a=!1}).bind("dnd_move.vakata",function(Q,N){if(e&&clearTimeout(e),N.data.jstree&&(!N.event.target.id||"jstree-marker"!==N.event.target.id)){var F=v.jstree.reference(N.event.target),H=!1,O=!1,K=!1,R,t,L,M,E,G,s,J,i,n,I,P,r,D;if(F&&F._data&&F._data.dnd){if(c.attr("class","jstree-"+F.get_theme()+(F.settings.core.themes.responsive?" jstree-dnd-responsive":"")),N.helper.children().attr("class","jstree-"+F.get_theme()+(F.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy:eq(0)")[N.data.origin&&(N.data.origin.settings.dnd.always_copy||N.data.origin.settings.dnd.copy&&(N.event.metaKey||N.event.ctrlKey))?"show":"hide"](),N.event.target!==F.element[0]&&N.event.target!==F.get_container_ul()[0]||0!==F.get_container_ul().children().length){if(H=v(N.event.target).closest(".jstree-anchor"),H&&H.length&&H.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(O=H.offset(),K=N.event.pageY-O.top,L=H.height(),G=L/3>K?["b","i","a"]:K>L-L/3?["a","i","b"]:K>L/2?["i","a","b"]:["i","b","a"],v.each(G,function(g,l){switch(l){case"b":R=O.left-6,t=O.top,M=F.get_parent(H),E=H.parent().index();break;case"i":r=F.settings.dnd.inside_pos,D=F.get_node(H.parent()),R=O.left-2,t=O.top+L/2+1,M=D.id,E="first"===r?0:"last"===r?D.children.length:Math.min(r,D.children.length);break;case"a":R=O.left-6,t=O.top+L,M=F.get_parent(H),E=H.parent().index()+1}for(s=!0,J=0,i=N.data.nodes.length;i>J;J++){if(n=N.data.origin&&(N.data.origin.settings.dnd.always_copy||N.data.origin.settings.dnd.copy&&(N.event.metaKey||N.event.ctrlKey))?"copy_node":"move_node",I=E,"move_node"===n&&"a"===l&&N.data.origin&&N.data.origin===F&&M===F.get_parent(N.data.nodes[J])&&(P=F.get_node(M),I>v.inArray(N.data.nodes[J],P.children)&&(I-=1)),s=s&&(F&&F.settings&&F.settings.dnd&&F.settings.dnd.check_while_dragging===!1||F.check(n,N.data.origin&&N.data.origin!==F?N.data.origin.get_node(N.data.nodes[J]):N.data.nodes[J],M,I,{dnd:!0,ref:F.get_node(H.parent()),pos:l,is_multi:N.data.origin&&N.data.origin!==F,is_foreign:!N.data.origin})),!s){F&&F.last_error&&(d=F.last_error());break}}return s?("i"===l&&H.parent().is(".jstree-closed")&&F.settings.dnd.open_timeout&&(e=setTimeout(function(o,h){return function(){o.open_node(h)}}(F,H),F.settings.dnd.open_timeout)),a={ins:F,par:M,pos:"i"!==l||"last"!==r||0!==E||F.is_loaded(D)?E:"last"},c.css({left:R+"px",top:t+"px"}).show(),N.helper.find(".jstree-icon:eq(0)").removeClass("jstree-er").addClass("jstree-ok"),d={},G=!0,!1):B}),G===!0)){return}}else{for(s=!0,J=0,i=N.data.nodes.length;i>J;J++){if(s=s&&F.check(N.data.origin&&(N.data.origin.settings.dnd.always_copy||N.data.origin.settings.dnd.copy&&(N.event.metaKey||N.event.ctrlKey))?"copy_node":"move_node",N.data.origin&&N.data.origin!==F?N.data.origin.get_node(N.data.nodes[J]):N.data.nodes[J],"#","last",{dnd:!0,ref:F.get_node("#"),pos:"i",is_multi:N.data.origin&&N.data.origin!==F,is_foreign:!N.data.origin}),!s){break}}if(s){return a={ins:F,par:"#",pos:"last"},c.hide(),N.helper.find(".jstree-icon:eq(0)").removeClass("jstree-er").addClass("jstree-ok"),B}}}a=!1,N.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),c.hide()}}).bind("dnd_scroll.vakata",function(h,g){g.data.jstree&&(c.hide(),a=!1,g.helper.find(".jstree-icon:eq(0)").removeClass("jstree-ok").addClass("jstree-er"))}).bind("dnd_stop.vakata",function(i,h){if(e&&clearTimeout(e),h.data.jstree){c.hide();var r,n,g=[];if(a){for(r=0,n=h.data.nodes.length;n>r;r++){g[r]=h.data.origin?h.data.origin.get_node(h.data.nodes[r]):h.data.nodes[r],h.data.origin&&(g[r].instance=h.data.origin)}a.ins[h.data.origin&&(h.data.origin.settings.dnd.always_copy||h.data.origin.settings.dnd.copy&&(h.event.metaKey||h.event.ctrlKey))?"copy_node":"move_node"](g,a.par,a.pos)}else{r=v(h.event.target).closest(".jstree"),r.length&&d&&d.error&&"check"===d.error&&(r=r.jstree(!0),r&&r.settings.core.error.call(this,d))}}}).bind("keyup keydown",function(h,g){g=v.vakata.dnd._get(),g.data&&g.data.jstree&&g.helper.find(".jstree-copy:eq(0)")[g.data.origin&&(g.data.origin.settings.dnd.always_copy||g.data.origin.settings.dnd.copy&&(h.metaKey||h.ctrlKey))?"show":"hide"]()})}),function(c){var a={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};c.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(e,d){var g=c.vakata.dnd._get();g.event=d,c(document).triggerHandler("dnd_"+e+".vakata",g)},_get:function(){return{data:a.data,element:a.element,helper:a.helper}},_clean:function(){a.helper&&a.helper.remove(),a.scroll_i&&(clearInterval(a.scroll_i),a.scroll_i=!1),a={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},c(document).off("mousemove touchmove",c.vakata.dnd.drag),c(document).off("mouseup touchend",c.vakata.dnd.stop)},_scroll:function(d){if(!a.scroll_e||!a.scroll_l&&!a.scroll_t){return a.scroll_i&&(clearInterval(a.scroll_i),a.scroll_i=!1),!1}if(!a.scroll_i){return a.scroll_i=setInterval(c.vakata.dnd._scroll,100),!1}if(d===!0){return !1}var e=a.scroll_e.scrollTop(),g=a.scroll_e.scrollLeft();a.scroll_e.scrollTop(e+a.scroll_t*c.vakata.dnd.settings.scroll_speed),a.scroll_e.scrollLeft(g+a.scroll_l*c.vakata.dnd.settings.scroll_speed),(e!==a.scroll_e.scrollTop()||g!==a.scroll_e.scrollLeft())&&c.vakata.dnd._trigger("scroll",a.scroll_e)},start:function(d,g,h){"touchstart"===d.type&&d.originalEvent&&d.originalEvent.changedTouches&&d.originalEvent.changedTouches[0]&&(d.pageX=d.originalEvent.changedTouches[0].pageX,d.pageY=d.originalEvent.changedTouches[0].pageY,d.target=document.elementFromPoint(d.originalEvent.changedTouches[0].pageX-window.pageXOffset,d.originalEvent.changedTouches[0].pageY-window.pageYOffset)),a.is_drag&&c.vakata.dnd.stop({});try{d.currentTarget.unselectable="on",d.currentTarget.onselectstart=function(){return !1},d.currentTarget.style&&(d.currentTarget.style.MozUserSelect="none")}catch(e){}return a.init_x=d.pageX,a.init_y=d.pageY,a.data=g,a.is_down=!0,a.element=d.currentTarget,a.target=d.target,a.is_touch="touchstart"===d.type,h!==!1&&(a.helper=c("<div id='vakata-dnd'></div>").html(h).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),c(document).bind("mousemove touchmove",c.vakata.dnd.drag),c(document).bind("mouseup touchend",c.vakata.dnd.stop),!1},drag:function(e){if("touchmove"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=document.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),a.is_down){if(!a.is_drag){if(!(Math.abs(e.pageX-a.init_x)>(a.is_touch?c.vakata.dnd.settings.threshold_touch:c.vakata.dnd.settings.threshold)||Math.abs(e.pageY-a.init_y)>(a.is_touch?c.vakata.dnd.settings.threshold_touch:c.vakata.dnd.settings.threshold))){return}a.helper&&(a.helper.appendTo("body"),a.helper_w=a.helper.outerWidth()),a.is_drag=!0,c.vakata.dnd._trigger("start",e)}var i=!1,J=!1,G=!1,E=!1,g=!1,t=!1,F=!1,D=!1,H=!1,I=!1;return a.scroll_t=0,a.scroll_l=0,a.scroll_e=!1,c(c(e.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(c(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var h=c(this),d=h.offset();return this.scrollHeight>this.offsetHeight&&(d.top+h.height()-e.pageY<c.vakata.dnd.settings.scroll_proximity&&(a.scroll_t=1),e.pageY-d.top<c.vakata.dnd.settings.scroll_proximity&&(a.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(d.left+h.width()-e.pageX<c.vakata.dnd.settings.scroll_proximity&&(a.scroll_l=1),e.pageX-d.left<c.vakata.dnd.settings.scroll_proximity&&(a.scroll_l=-1)),a.scroll_t||a.scroll_l?(a.scroll_e=c(this),!1):B}),a.scroll_e||(i=c(document),J=c(window),G=i.height(),E=J.height(),g=i.width(),t=J.width(),F=i.scrollTop(),D=i.scrollLeft(),G>E&&e.pageY-F<c.vakata.dnd.settings.scroll_proximity&&(a.scroll_t=-1),G>E&&E-(e.pageY-F)<c.vakata.dnd.settings.scroll_proximity&&(a.scroll_t=1),g>t&&e.pageX-D<c.vakata.dnd.settings.scroll_proximity&&(a.scroll_l=-1),g>t&&t-(e.pageX-D)<c.vakata.dnd.settings.scroll_proximity&&(a.scroll_l=1),(a.scroll_t||a.scroll_l)&&(a.scroll_e=i)),a.scroll_e&&c.vakata.dnd._scroll(!0),a.helper&&(H=parseInt(e.pageY+c.vakata.dnd.settings.helper_top,10),I=parseInt(e.pageX+c.vakata.dnd.settings.helper_left,10),G&&H+25>G&&(H=G-50),g&&I+a.helper_w>g&&(I=g-(a.helper_w+2)),a.helper.css({left:I+"px",top:H+"px"})),c.vakata.dnd._trigger("move",e),!1}},stop:function(d){if("touchend"===d.type&&d.originalEvent&&d.originalEvent.changedTouches&&d.originalEvent.changedTouches[0]&&(d.pageX=d.originalEvent.changedTouches[0].pageX,d.pageY=d.originalEvent.changedTouches[0].pageY,d.target=document.elementFromPoint(d.originalEvent.changedTouches[0].pageX-window.pageXOffset,d.originalEvent.changedTouches[0].pageY-window.pageYOffset)),a.is_drag){c.vakata.dnd._trigger("stop",d)}else{if("touchend"===d.type&&d.target===a.target){var e=setTimeout(function(){c(d.target).click()},100);c(d.target).one("click",function(){e&&clearTimeout(e)})}}return c.vakata.dnd._clean(),!1}}}(jQuery),v.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},v.jstree.plugins.search=function(a,c){this.bind=function(){c.bind.call(this),this._data.search.str="",this._data.search.dom=v(),this._data.search.res=[],this._data.search.opn=[],this.element.on("before_open.jstree",v.proxy(function(h,g){var u,F,l,e=this._data.search.res,E=[],D=v();if(e&&e.length&&(this._data.search.dom=v(this.element[0].querySelectorAll("#"+v.map(e,function(d){return -1!=="0123456789".indexOf(d[0])?"\\3"+d[0]+" "+d.substr(1).replace(v.jstree.idregex,"\\$&"):d.replace(v.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search"),this.settings.search.show_only_matches&&this._data.search.res.length)){for(u=0,F=e.length;F>u;u++){E=E.concat(this.get_node(e[u]).parents)}E=v.vakata.array_remove_item(v.vakata.array_unique(E),"#"),D=E.length?v(this.element[0].querySelectorAll("#"+v.map(E,function(d){return -1!=="0123456789".indexOf(d[0])?"\\3"+d[0]+" "+d.substr(1).replace(v.jstree.idregex,"\\$&"):d.replace(v.jstree.idregex,"\\$&")}).join(", #"))):v(),this.element.find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),D=D.add(this._data.search.dom),D.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){v(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")})}},this)),this.settings.search.show_only_matches&&this.element.on("search.jstree",function(e,d){d.nodes.length&&(v(this).find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),d.nodes.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){v(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")}))}).on("clear_search.jstree",function(e,d){d.nodes.length&&v(this).find(".jstree-node").css("display","").filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last")})},this.search=function(u,e){if(u===!1||""===v.trim(""+u)){return this.clear_search()}u=""+u;var h=this.settings.search,G=h.ajax?h.ajax:!1,F=null,D=[],g=[],t,E;return this._data.search.res.length&&this.clear_search(),e||G===!1?(this._data.search.str=u,this._data.search.dom=v(),this._data.search.res=[],this._data.search.opn=[],F=new v.vakata.search(u,!0,{caseSensitive:h.case_sensitive,fuzzy:h.fuzzy}),v.each(this._model.data,function(i,d){d.text&&(h.search_callback&&h.search_callback.call(this,u,d)||!h.search_callback&&F.search(d.text).isMatch)&&(!h.search_leaves_only||d.state.loaded&&0===d.children.length)&&(D.push(i),g=g.concat(d.parents))}),D.length&&(g=v.vakata.array_unique(g),this._search_open(g),this._data.search.dom=v(this.element[0].querySelectorAll("#"+v.map(D,function(d){return -1!=="0123456789".indexOf(d[0])?"\\3"+d[0]+" "+d.substr(1).replace(v.jstree.idregex,"\\$&"):d.replace(v.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=D,this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")),this.trigger("search",{nodes:this._data.search.dom,str:u,res:this._data.search.res}),B):v.isFunction(G)?G.call(this,u,v.proxy(function(d){d&&d.d&&(d=d.d),this._load_nodes(v.isArray(d)?v.vakata.array_unique(d):[],function(){this.search(u,!0)},!0)},this)):(G=v.extend({},G),G.data||(G.data={}),G.data.str=u,v.ajax(G).fail(v.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(G)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(v.proxy(function(d){d&&d.d&&(d=d.d),this._load_nodes(v.isArray(d)?v.vakata.array_unique(d):[],function(){this.search(u,!0)},!0)},this)))},this.clear_search=function(){this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search"),this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=v()},this._search_open=function(e){var d=this;v.each(e.concat([]),function(h,i){if("#"===i){return !0}try{i=v("#"+i.replace(v.jstree.idregex,"\\$&"),d.element)}catch(g){}i&&i.length&&d.is_closed(i)&&(d._data.search.opn.push(i[0].id),d.open_node(i,function(){d._search_open(e)},0))})}},function(a){a.vakata.search=function(F,J,E){E=E||{},E.fuzzy!==!1&&(E.fuzzy=!0),F=E.caseSensitive?F:F.toLowerCase();var g=E.location||0,u=E.distance||100,K=E.threshold||0.6,I=F.length,G,h,D,H;return I>32&&(E.fuzzy=!1),E.fuzzy&&(G=1<<I-1,h=function(){var d={},c=0;for(c=0;I>c;c++){d[F.charAt(c)]=0}for(c=0;I>c;c++){d[F.charAt(c)]|=1<<I-c-1}return d}(),D=function(n,d){var c=n/I,l=Math.abs(g-d);return u?c+l/u:l?1:c}),H=function(T){if(T=E.caseSensitive?T:T.toLowerCase(),F===T||-1!==T.indexOf(F)){return{isMatch:!0,score:0}}if(!E.fuzzy){return{isMatch:!1,score:1}}var e,M,r=T.length,R=K,S=T.indexOf(F,g),s,L,d=I+r,i,Q,o,O,P,l=1,N=[];for(-1!==S&&(R=Math.min(D(0,S),R),S=T.lastIndexOf(F,g+I),-1!==S&&(R=Math.min(D(0,S),R))),S=-1,e=0;I>e;e++){s=0,L=d;while(L>s){R>=D(e,g+L)?s=L:d=L,L=Math.floor((d-s)/2+s)}for(d=L,Q=Math.max(1,g-L+1),o=Math.min(g+L,r)+I,O=Array(o+2),O[o+1]=(1<<e)-1,M=o;M>=Q;M--){if(P=h[T.charAt(M-1)],O[M]=0===e?(1|O[M+1]<<1)&P:(1|O[M+1]<<1)&P|(1|(i[M+1]|i[M])<<1)|i[M+1],O[M]&G&&(l=D(e,M-1),R>=l)){if(R=l,S=M-1,N.push(S),!(S>g)){break}Q=Math.max(1,2*g-S)}}if(D(e+1,g)>R){break}i=O}return{isMatch:S>=0,score:l}},J===!0?{search:H}:H(J)}}(jQuery),v.jstree.defaults.sort=function(c,a){return this.get_text(c)>this.get_text(a)?1:-1},v.jstree.plugins.sort=function(c,a){this.bind=function(){a.bind.call(this),this.element.on("model.jstree",v.proxy(function(g,d){this.sort(d.parent,!0)},this)).on("rename_node.jstree create_node.jstree",v.proxy(function(g,d){this.sort(d.parent||d.node.parent,!1),this.redraw_node(d.parent||d.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",v.proxy(function(g,d){this.sort(d.parent,!1),this.redraw_node(d.parent,!0)},this))},this.sort=function(e,d){var g,h;if(e=this.get_node(e),e&&e.children&&e.children.length&&(e.children.sort(v.proxy(this.settings.sort,this)),d)){for(g=0,h=e.children_d.length;h>g;g++){this.sort(e.children_d[g],!1)}}}};var A=!1;v.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree",ttl:!1,filter:!1},v.jstree.plugins.state=function(c,a){this.bind=function(){a.bind.call(this);var d=v.proxy(function(){this.element.on(this.settings.state.events,v.proxy(function(){A&&clearTimeout(A),A=setTimeout(v.proxy(function(){this.save_state()},this),100)},this))},this);this.element.on("ready.jstree",v.proxy(function(h,g){this.element.one("restore_state.jstree",d),this.restore_state()||d()},this))},this.save_state=function(){var d={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};v.vakata.storage.set(this.settings.state.key,JSON.stringify(d))},this.restore_state=function(){var e=v.vakata.storage.get(this.settings.state.key);if(e){try{e=JSON.parse(e)}catch(d){return !1}}return e&&e.ttl&&e.sec&&+new Date-e.sec>e.ttl?!1:(e&&e.state&&(e=e.state),e&&v.isFunction(this.settings.state.filter)&&(e=this.settings.state.filter.call(this,e)),e?(this.element.one("set_state.jstree",function(g,h){h.instance.trigger("restore_state",{state:v.extend(!0,{},e)})}),this.set_state(e),!0):!1)},this.clear_state=function(){return v.vakata.storage.del(this.settings.state.key)}},function(c,a){c.vakata.storage={set:function(g,d){return window.localStorage.setItem(g,d)},get:function(d){return window.localStorage.getItem(d)},del:function(d){return window.localStorage.removeItem(d)}}}(jQuery),v.jstree.defaults.types={"#":{},"default":{}},v.jstree.plugins.types=function(a,c){this.init=function(h,d){var l,g;if(d&&d.types&&d.types["default"]){for(l in d.types){if("default"!==l&&"#"!==l&&d.types.hasOwnProperty(l)){for(g in d.types["default"]){d.types["default"].hasOwnProperty(g)&&d.types[l][g]===B&&(d.types[l][g]=d.types["default"][g])}}}}c.init.call(this,h,d),this._model.data["#"].type="#"},this.refresh=function(d){c.refresh.call(this,d),this._model.data["#"].type="#"},this.bind=function(){this.element.on("model.jstree",v.proxy(function(u,h){var t=this._model.data,F=h.nodes,l=this.settings.types,g,E,D="default";for(g=0,E=F.length;E>g;g++){D="default",t[F[g]].original&&t[F[g]].original.type&&l[t[F[g]].original.type]&&(D=t[F[g]].original.type),t[F[g]].data&&t[F[g]].data.jstree&&t[F[g]].data.jstree.type&&l[t[F[g]].data.jstree.type]&&(D=t[F[g]].data.jstree.type),t[F[g]].type=D,t[F[g]].icon===!0&&l[D].icon!==B&&(t[F[g]].icon=l[D].icon)}t["#"].type="#"},this)),c.bind.call(this)},this.get_json=function(r,h,F){var u,g,E=this._model.data,D=h?v.extend(!0,{},h,{no_id:!1}):{},e=c.get_json.call(this,r,D,F);if(e===!1){return !1}if(v.isArray(e)){for(u=0,g=e.length;g>u;u++){e[u].type=e[u].id&&E[e[u].id]&&E[e[u].id].type?E[e[u].id].type:"default",h&&h.no_id&&(delete e[u].id,e[u].li_attr&&e[u].li_attr.id&&delete e[u].li_attr.id)}}else{e.type=e.id&&E[e.id]&&E[e.id].type?E[e.id].type:"default",h&&h.no_id&&(e=this._delete_ids(e))}return e},this._delete_ids=function(e){if(v.isArray(e)){for(var d=0,g=e.length;g>d;d++){e[d]=this._delete_ids(e[d])}return e}return delete e.id,e.li_attr&&e.li_attr.id&&delete e.li_attr.id,e.children&&v.isArray(e.children)&&(e.children=this._delete_ids(e.children)),e},this.check=function(t,g,H,F,D){if(c.check.call(this,t,g,H,F,D)===!1){return !1}g=g&&g.id?g:this.get_node(g),H=H&&H.id?H:this.get_node(H);var e=g&&g.id?v.jstree.reference(g.id):null,r,E,u,G;switch(e=e&&e._model&&e._model.data?e._model.data:null,t){case"create_node":case"move_node":case"copy_node":if("move_node"!==t||-1===v.inArray(g.id,H.children)){if(r=this.get_rules(H),r.max_children!==B&&-1!==r.max_children&&r.max_children===H.children.length){return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+t,data:JSON.stringify({chk:t,pos:F,obj:g&&g.id?g.id:!1,par:H&&H.id?H.id:!1})},!1}if(r.valid_children!==B&&-1!==r.valid_children&&-1===v.inArray(g.type,r.valid_children)){return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+t,data:JSON.stringify({chk:t,pos:F,obj:g&&g.id?g.id:!1,par:H&&H.id?H.id:!1})},!1}if(e&&g.children_d&&g.parents){for(E=0,u=0,G=g.children_d.length;G>u;u++){E=Math.max(E,e[g.children_d[u]].parents.length)}E=E-g.parents.length+1}(0>=E||E===B)&&(E=1);do{if(r.max_depth!==B&&-1!==r.max_depth&&E>r.max_depth){return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+t,data:JSON.stringify({chk:t,pos:F,obj:g&&g.id?g.id:!1,par:H&&H.id?H.id:!1})},!1}H=this.get_node(H.parent),r=this.get_rules(H),E++}while(H)}}return !0},this.get_rules=function(g){if(g=this.get_node(g),!g){return !1}var d=this.get_type(g,!0);return d.max_depth===B&&(d.max_depth=-1),d.max_children===B&&(d.max_children=-1),d.valid_children===B&&(d.valid_children=-1),d},this.get_type=function(e,d){return e=this.get_node(e),e?d?v.extend({type:e.type},this.settings.types[e.type]):e.type:!1},this.set_type=function(g,l){var D,h,e,u,t;if(v.isArray(g)){for(g=g.slice(),h=0,e=g.length;e>h;h++){this.set_type(g[h],l)}return !0}return D=this.settings.types,g=this.get_node(g),D[l]&&g?(u=g.type,t=this.get_icon(g),g.type=l,(t===!0||D[u]&&D[u].icon&&t===D[u].icon)&&this.set_icon(g,D[l].icon!==B?D[l].icon:!0),!0):!1}},v.jstree.defaults.unique={case_sensitive:!1,duplicate:function(c,a){return c+" ("+a+")"}},v.jstree.plugins.unique=function(a,c){this.check=function(I,u,g,J,G){if(c.check.call(this,I,u,g,J,G)===!1){return !1}if(u=u&&u.id?u:this.get_node(u),g=g&&g.id?g:this.get_node(g),!g||!g.children){return !0}var E="rename_node"===I?J:u.text,e=[],r=this.settings.unique.case_sensitive,F=this._model.data,D,H;for(D=0,H=g.children.length;H>D;D++){e.push(r?F[g.children[D]].text:F[g.children[D]].text.toLowerCase())}switch(r||(E=E.toLowerCase()),I){case"delete_node":return !0;case"rename_node":return D=-1===v.inArray(E,e)||u.text&&u.text===E,D||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+E+" already exists. Preventing: "+I,data:JSON.stringify({chk:I,pos:J,obj:u&&u.id?u.id:!1,par:g&&g.id?g.id:!1})}),D;case"create_node":return D=-1===v.inArray(E,e),D||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+E+" already exists. Preventing: "+I,data:JSON.stringify({chk:I,pos:J,obj:u&&u.id?u.id:!1,par:g&&g.id?g.id:!1})}),D;case"copy_node":return D=-1===v.inArray(E,e),D||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+E+" already exists. Preventing: "+I,data:JSON.stringify({chk:I,pos:J,obj:u&&u.id?u.id:!1,par:g&&g.id?g.id:!1})}),D;case"move_node":return D=u.parent===g.id||-1===v.inArray(E,e),D||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+E+" already exists. Preventing: "+I,data:JSON.stringify({chk:I,pos:J,obj:u&&u.id?u.id:!1,par:g&&g.id?g.id:!1})}),D}return !0},this.create_node=function(D,r,M,J,H){if(!r||r.text===B){if(null===D&&(D="#"),D=this.get_node(D),!D){return c.create_node.call(this,D,r,M,J,H)}if(M=M===B?"last":M,!(""+M).match(/^(before|after)$/)&&!H&&!this.is_loaded(D)){return c.create_node.call(this,D,r,M,J,H)}r||(r={});var e,t,I,E,K,L=this._model.data,F=this.settings.unique.case_sensitive,G=this.settings.unique.duplicate;for(t=e=this.get_string("New node"),I=[],E=0,K=D.children.length;K>E;E++){I.push(F?L[D.children[E]].text:L[D.children[E]].text.toLowerCase())}E=1;while(-1!==v.inArray(F?t:t.toLowerCase(),I)){t=""+G.call(this,e,++E)}r.text=t}return c.create_node.call(this,D,r,M,J,H)}};var q=document.createElement("DIV");q.setAttribute("unselectable","on"),q.className="jstree-wholerow",q.innerHTML="&#160;",v.jstree.plugins.wholerow=function(c,a){this.bind=function(){a.bind.call(this),this.element.on("ready.jstree set_state.jstree",v.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",v.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",v.proxy(function(g,d){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",v.proxy(function(l,g){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var d=!1,h,o;for(h=0,o=g.selected.length;o>h;h++){d=this.get_node(g.selected[h],!0),d&&d.length&&d.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}},this)).on("open_node.jstree",v.proxy(function(g,d){this.get_node(d.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",v.proxy(function(g,d){this.get_node(d.node,!0).children(".jstree-wholerow")["hover_node"===g.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",v.proxy(function(e){e.preventDefault();var d=v.Event("contextmenu",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,pageX:e.pageX,pageY:e.pageY});v(e.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(d)},this)).on("click.jstree",".jstree-wholerow",function(e){e.stopImmediatePropagation();var d=v.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});v(e.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(d).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",v.proxy(function(e){e.stopImmediatePropagation();var d=v.Event("click",{metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey});v(e.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(d).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",v.proxy(function(d){return d.stopImmediatePropagation(),this.hover_node(d.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",v.proxy(function(d){this.dehover_node(d.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),a.teardown.call(this)},this.redraw_node=function(d,g,h){if(d=a.redraw_node.call(this,d,g,h)){var e=q.cloneNode(!0);-1!==v.inArray(d.id,this._data.core.selected)&&(e.className+=" jstree-wholerow-clicked"),d.insertBefore(e,d.childNodes[0])}return d}}}});!function(){var g5={version:"3.4.11"};if(!Date.now){Date.now=function(){return +new Date()}}var bH=[].slice,dE=function(e){return bH.call(e)};var bG=document,dW=bG.documentElement,fm=window;try{dE(dW.childNodes)[0].nodeType}catch(gU){dE=function(d3){var e=d3.length,hU=new Array(e);while(e--){hU[e]=d3[e]}return hU}}try{bG.createElement("div").style.setProperty("opacity",0,"")}catch(fk){var dC=fm.Element.prototype,bV=dC.setAttribute,gN=dC.setAttributeNS,dp=fm.CSSStyleDeclaration.prototype,gx=dp.setProperty;dC.setAttribute=function(e,d3){bV.call(this,e,d3+"")};dC.setAttributeNS=function(hU,e,d3){gN.call(this,hU,e,d3+"")};dp.setProperty=function(e,hU,d3){gx.call(this,e,hU+"",d3)}}g5.ascending=e6;function e6(d3,e){return d3<e?-1:d3>e?1:d3>=e?0:NaN}g5.descending=function(d3,e){return e<d3?-1:e>d3?1:e>=d3?0:NaN};g5.min=function(hX,hV){var hU=-1,hW=hX.length,d3,e;if(arguments.length===1){while(++hU<hW&&!((d3=hX[hU])!=null&&d3<=d3)){d3=undefined}while(++hU<hW){if((e=hX[hU])!=null&&d3>e){d3=e}}}else{while(++hU<hW&&!((d3=hV.call(hX,hX[hU],hU))!=null&&d3<=d3)){d3=undefined}while(++hU<hW){if((e=hV.call(hX,hX[hU],hU))!=null&&d3>e){d3=e}}}return d3};g5.max=function(hX,hV){var hU=-1,hW=hX.length,d3,e;if(arguments.length===1){while(++hU<hW&&!((d3=hX[hU])!=null&&d3<=d3)){d3=undefined}while(++hU<hW){if((e=hX[hU])!=null&&e>d3){d3=e}}}else{while(++hU<hW&&!((d3=hV.call(hX,hX[hU],hU))!=null&&d3<=d3)){d3=undefined}while(++hU<hW){if((e=hV.call(hX,hX[hU],hU))!=null&&e>d3){d3=e}}}return d3};g5.extent=function(hY,hV){var hU=-1,hX=hY.length,d3,e,hW;if(arguments.length===1){while(++hU<hX&&!((d3=hW=hY[hU])!=null&&d3<=d3)){d3=hW=undefined}while(++hU<hX){if((e=hY[hU])!=null){if(d3>e){d3=e}if(hW<e){hW=e}}}}else{while(++hU<hX&&!((d3=hW=hV.call(hY,hY[hU],hU))!=null&&d3<=d3)){d3=undefined}while(++hU<hX){if((e=hV.call(hY,hY[hU],hU))!=null){if(d3>e){d3=e}if(hW<e){hW=e}}}}return[d3,hW]};g5.sum=function(hX,hV){var hU=0,hW=hX.length,e,d3=-1;if(arguments.length===1){while(++d3<hW){if(!isNaN(e=+hX[d3])){hU+=e}}}else{while(++d3<hW){if(!isNaN(e=+hV.call(hX,hX[d3],d3))){hU+=e}}}return hU};function ha(e){return e!=null&&!isNaN(e)}g5.mean=function(hY,hW){var hV=0,hX=hY.length,e,hU=-1,d3=hX;if(arguments.length===1){while(++hU<hX){if(ha(e=hY[hU])){hV+=e}else{--d3}}}else{while(++hU<hX){if(ha(e=hW.call(hY,hY[hU],hU))){hV+=e}else{--d3}}}return d3?hV/d3:undefined};g5.quantile=function(hU,hY){var hV=(hU.length-1)*hY+1,hW=Math.floor(hV),d3=+hU[hW-1],hX=hV-hW;return hX?d3+hX*(hU[hW]-d3):d3};g5.median=function(d3,e){if(arguments.length>1){d3=d3.map(e)}d3=d3.filter(ha);return d3.length?g5.quantile(d3.sort(e6),0.5):undefined};function f9(e){return{left:function(hU,d3,hX,hW){if(arguments.length<3){hX=0}if(arguments.length<4){hW=hU.length}while(hX<hW){var hV=hX+hW>>>1;if(e(hU[hV],d3)<0){hX=hV+1}else{hW=hV}}return hX},right:function(hU,d3,hX,hW){if(arguments.length<3){hX=0}if(arguments.length<4){hW=hU.length}while(hX<hW){var hV=hX+hW>>>1;if(e(hU[hV],d3)>0){hW=hV}else{hX=hV+1}}return hX}}}var cR=f9(e6);g5.bisectLeft=cR.left;g5.bisect=g5.bisectRight=cR.right;g5.bisector=function(e){return f9(e.length===1?function(hU,d3){return e6(e(hU),d3)}:e)};g5.shuffle=function(hV){var e=hV.length,hU,d3;while(e){d3=Math.random()*e--|0;hU=hV[e],hV[e]=hV[d3],hV[d3]=hU}return hV};g5.permute=function(hV,d3){var hU=d3.length,e=new Array(hU);while(hU--){e[hU]=hV[d3[hU]]}return e};g5.pairs=function(hX){var e=0,hW=hX.length-1,hV,hU=hX[0],d3=new Array(hW<0?0:hW);while(e<hW){d3[e]=[hV=hU,hU=hX[++e]]}return d3};g5.zip=function(){if(!(hX=arguments.length)){return[]}for(var hV=-1,e=g5.min(arguments,e1),hU=new Array(e);++hV<e;){for(var d3=-1,hX,hW=hU[hV]=new Array(hX);++d3<hX;){hW[d3]=arguments[d3][hV]}}return hU};function e1(e){return e.length}g5.transpose=function(e){return g5.zip.apply(g5,e)};g5.keys=function(hU){var d3=[];for(var e in hU){d3.push(e)}return d3};g5.values=function(hU){var e=[];for(var d3 in hU){e.push(hU[d3])}return e};g5.entries=function(hU){var e=[];for(var d3 in hU){e.push({key:d3,value:hU[d3]})}return e};g5.merge=function(hW){var hY=hW.length,d3,hV=-1,hU=0,e,hX;while(++hV<hY){hU+=hW[hV].length}e=new Array(hU);while(--hY>=0){hX=hW[hY];d3=hX.length;while(--d3>=0){e[--hU]=hX[d3]}}return e};var cy=Math.abs;g5.range=function(hY,hW,hX){if(arguments.length<3){hX=1;if(arguments.length<2){hW=hY;hY=0}}if((hW-hY)/hX===Infinity){throw new Error("infinite range")}var d3=[],e=f5(cy(hX)),hV=-1,hU;hY*=e,hW*=e,hX*=e;if(hX<0){while((hU=hY+hX*++hV)>hW){d3.push(hU/e)}}else{while((hU=hY+hX*++hV)<hW){d3.push(hU/e)}}return d3};function f5(e){var d3=1;while(e*d3%1){d3*=10}return d3}function hL(hV,hU){try{for(var d3 in hU){Object.defineProperty(hV.prototype,d3,{value:hU[d3],enumerable:false})}}catch(hW){hV.prototype=hU}}g5.map=function(e){var hU=new aF();if(e instanceof aF){e.forEach(function(hV,hW){hU.set(hV,hW)})}else{for(var d3 in e){hU.set(d3,e[d3])}}return hU};function aF(){}hL(aF,{has:gr,get:function(e){return this[hN+e]},set:function(e,d3){return this[hN+e]=d3},remove:cO,keys:fj,values:function(){var e=[];this.forEach(function(d3,hU){e.push(hU)});return e},entries:function(){var e=[];this.forEach(function(d3,hU){e.push({key:d3,value:hU})});return e},size:hm,empty:ax,forEach:function(d3){for(var e in this){if(e.charCodeAt(0)===dt){d3.call(this,e.substring(1),this[e])}}}});var hN="\x00",dt=hN.charCodeAt(0);function gr(e){return hN+e in this}function cO(e){e=hN+e;return e in this&&delete this[e]}function fj(){var e=[];this.forEach(function(d3){e.push(d3)});return e}function hm(){var d3=0;for(var e in this){if(e.charCodeAt(0)===dt){++d3}}return d3}function ax(){for(var e in this){if(e.charCodeAt(0)===dt){return false}}return true}g5.nest=function(){var hV={},hU=[],hY=[],d3,hW;function hX(h0,h7,h5){if(h5>=hU.length){return hW?hW.call(hV,h7):d3?h7.sort(d3):h7}var h6=-1,hZ=h7.length,h9=hU[h5++],h4,h3,h2,h1=new aF(),h8;while(++h6<hZ){if(h8=h1.get(h4=h9(h3=h7[h6]))){h8.push(h3)}else{h1.set(h4,[h3])}}if(h0){h3=h0();h2=function(ib,ia){h3.set(ib,hX(h0,ia,h5))}}else{h3={};h2=function(ib,ia){h3[ib]=hX(h0,ia,h5)}}h1.forEach(h2);return h3}function e(h0,h1){if(h1>=hU.length){return h0}var h2=[],hZ=hY[h1++];h0.forEach(function(h3,h4){h2.push({key:h3,values:e(h4,h1)})});return hZ?h2.sort(function(h4,h3){return hZ(h4.key,h3.key)}):h2}hV.map=function(h0,hZ){return hX(hZ,h0,0)};hV.entries=function(hZ){return e(hX(g5.map,hZ,0),0)};hV.key=function(hZ){hU.push(hZ);return hV};hV.sortKeys=function(hZ){hY[hU.length-1]=hZ;return hV};hV.sortValues=function(hZ){d3=hZ;return hV};hV.rollup=function(hZ){hW=hZ;return hV};return hV};g5.set=function(hV){var hU=new dg();if(hV){for(var e=0,d3=hV.length;e<d3;++e){hU.add(hV[e])}}return hU};function dg(){}hL(dg,{has:gr,add:function(e){this[hN+e]=true;return e},remove:function(e){e=hN+e;return e in this&&delete this[e]},values:fj,size:hm,empty:ax,forEach:function(d3){for(var e in this){if(e.charCodeAt(0)===dt){d3.call(this,e.substring(1))}}}});g5.behavior={};g5.rebind=function(hU,d3){var e=1,hW=arguments.length,hV;while(++e<hW){hU[hV=arguments[e]]=eo(hU,d3,d3[hV])}return hU};function eo(d3,e,hU){return function(){var hV=hU.apply(e,arguments);return hV===e?d3:hV}}function c7(hU,d3){if(d3 in hU){return d3}d3=d3.charAt(0).toUpperCase()+d3.substring(1);for(var hV=0,hW=H.length;hV<hW;++hV){var e=H[hV]+d3;if(e in hU){return e}}}var H=["webkit","ms","moz","Moz","o","O"];function aE(){}g5.dispatch=function(){var e=new eJ(),d3=-1,hU=arguments.length;while(++d3<hU){e[arguments[d3]]=e4(e)}return e};function eJ(){}eJ.prototype.on=function(hU,hV){var d3=hU.indexOf("."),e="";if(d3>=0){e=hU.substring(d3+1);hU=hU.substring(0,d3)}if(hU){return arguments.length<2?this[hU].on(e):this[hU].on(e,hV)}if(arguments.length===2){if(hV==null){for(hU in this){if(this.hasOwnProperty(hU)){this[hU].on(e,null)}}}return this}};function e4(e){var hU=[],d3=new aF();function hV(){var hY=hU,hX=-1,hZ=hY.length,hW;while(++hX<hZ){if(hW=hY[hX].on){hW.apply(this,arguments)}}return e}hV.on=function(hX,hZ){var hW=d3.get(hX),hY;if(arguments.length<2){return hW&&hW.on}if(hW){hW.on=null;hU=hU.slice(0,hY=hU.indexOf(hW)).concat(hU.slice(hY+1));d3.remove(hX)}if(hZ){hU.push(d3.set(hX,{on:hZ}))}return e};return hV}g5.event=null;function t(){g5.event.preventDefault()}function ab(){var hU=g5.event,d3;while(d3=hU.sourceEvent){hU=d3}return hU}function gZ(hU){var e=new eJ(),d3=0,hV=arguments.length;while(++d3<hV){e[arguments[d3]]=e4(e)}e.of=function(hX,hW){return function(hY){try{var hZ=hY.sourceEvent=g5.event;hY.target=hU;g5.event=hY;e[hY.type].apply(hX,hW)}finally{g5.event=hZ}}};return e}g5.requote=function(e){return e.replace(c0,"\\$&")};var c0=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var hO={}.__proto__?function(d3,e){d3.__proto__=e}:function(d3,e){for(var hU in e){d3[hU]=e[hU]}};function dP(e){hO(e,dO);return e}var df=function(e,d3){return d3.querySelector(e)},fS=function(e,d3){return d3.querySelectorAll(e)},c=dW.matches||dW[c7(dW,"matchesSelector")],a=function(d3,e){return c.call(d3,e)};if(typeof Sizzle==="function"){df=function(e,d3){return Sizzle(e,d3)[0]||null};fS=Sizzle;a=Sizzle.matchesSelector}g5.selection=function(){return gC};var dO=g5.selection.prototype=[];dO.select=function(hX){var hU=[],h1,e,h0,hV;hX=w(hX);for(var hY=-1,hW=this.length;++hY<hW;){hU.push(h1=[]);h1.parentNode=(h0=this[hY]).parentNode;for(var hZ=-1,d3=h0.length;++hZ<d3;){if(hV=h0[hZ]){h1.push(e=hX.call(hV,hV.__data__,hZ,hY));if(e&&"__data__" in hV){e.__data__=hV.__data__}}else{h1.push(null)}}}return dP(hU)};function w(e){return typeof e==="function"?e:function(){return df(e,this)}}dO.selectAll=function(hW){var d3=[],h0,hU;hW=cT(hW);for(var hX=-1,hV=this.length;++hX<hV;){for(var hZ=this[hX],hY=-1,e=hZ.length;++hY<e;){if(hU=hZ[hY]){d3.push(h0=dE(hW.call(hU,hU.__data__,hY,hX)));h0.parentNode=hU}}}return dP(d3)};function cT(e){return typeof e==="function"?e:function(){return fS(e,this)}}var d2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};g5.ns={prefix:d2,qualify:function(e){var d3=e.indexOf(":"),hU=e;if(d3>=0){hU=e.substring(0,d3);e=e.substring(d3+1)}return d2.hasOwnProperty(hU)?{space:d2[hU],local:e}:e}};dO.attr=function(e,hU){if(arguments.length<2){if(typeof e==="string"){var d3=this.node();e=g5.ns.qualify(e);return e.local?d3.getAttributeNS(e.space,e.local):d3.getAttribute(e)}for(hU in e){this.each(bo(hU,e[hU]))}return this}return this.each(bo(e,hU))};function bo(hU,hY){hU=g5.ns.qualify(hU);function d3(){this.removeAttribute(hU)}function hZ(){this.removeAttributeNS(hU.space,hU.local)}function hX(){this.setAttribute(hU,hY)}function hW(){this.setAttributeNS(hU.space,hU.local,hY)}function e(){var h0=hY.apply(this,arguments);if(h0==null){this.removeAttribute(hU)}else{this.setAttribute(hU,h0)}}function hV(){var h0=hY.apply(this,arguments);if(h0==null){this.removeAttributeNS(hU.space,hU.local)}else{this.setAttributeNS(hU.space,hU.local,h0)}}return hY==null?hU.local?hZ:d3:typeof hY==="function"?hU.local?hV:e:hU.local?hW:hX}function cz(e){return e.trim().replace(/\s+/g," ")}dO.classed=function(e,hV){if(arguments.length<2){if(typeof e==="string"){var hU=this.node(),hW=(e=gg(e)).length,d3=-1;if(hV=hU.classList){while(++d3<hW){if(!hV.contains(e[d3])){return false}}}else{hV=hU.getAttribute("class");while(++d3<hW){if(!gz(e[d3]).test(hV)){return false}}}return true}for(hV in e){this.each(go(hV,e[hV]))}return this}return this.each(go(e,hV))};function gz(e){return new RegExp("(?:^|\\s+)"+g5.requote(e)+"(?:\\s+|$)","g")}function gg(e){return(e+"").trim().split(/^|\s+/)}function go(d3,hV){d3=gg(d3).map(hJ);var hW=d3.length;function e(){var hX=-1;while(++hX<hW){d3[hX](this,hV)}}function hU(){var hY=-1,hX=hV.apply(this,arguments);while(++hY<hW){d3[hY](this,hX)}}return typeof hV==="function"?hU:e}function hJ(e){var d3=gz(e);return function(hU,hV){if(hW=hU.classList){return hV?hW.add(e):hW.remove(e)}var hW=hU.getAttribute("class")||"";if(hV){d3.lastIndex=0;if(!d3.test(hW)){hU.setAttribute("class",cz(hW+" "+e))}}else{hU.setAttribute("class",cz(hW.replace(d3," ")))}}}dO.style=function(e,hU,d3){var hV=arguments.length;if(hV<3){if(typeof e!=="string"){if(hV<2){hU=""}for(d3 in e){this.each(fy(d3,e[d3],hU))}return this}if(hV<2){return fm.getComputedStyle(this.node(),null).getPropertyValue(e)}d3=""}return this.each(fy(e,hU,d3))};function fy(hU,hX,hV){function d3(){this.style.removeProperty(hU)}function hW(){this.style.setProperty(hU,hX,hV)}function e(){var hY=hX.apply(this,arguments);if(hY==null){this.style.removeProperty(hU)}else{this.style.setProperty(hU,hY,hV)}}return hX==null?d3:typeof hX==="function"?e:hW}dO.property=function(e,d3){if(arguments.length<2){if(typeof e==="string"){return this.node()[e]}for(d3 in e){this.each(ho(d3,e[d3]))}return this}return this.each(ho(e,d3))};function ho(d3,hV){function e(){delete this[d3]}function hU(){this[d3]=hV}function hW(){var hX=hV.apply(this,arguments);if(hX==null){delete this[d3]}else{this[d3]=hX}}return hV==null?e:typeof hV==="function"?hW:hU}dO.text=function(e){return arguments.length?this.each(typeof e==="function"?function(){var d3=e.apply(this,arguments);this.textContent=d3==null?"":d3}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent};dO.html=function(e){return arguments.length?this.each(typeof e==="function"?function(){var d3=e.apply(this,arguments);this.innerHTML=d3==null?"":d3}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML};dO.append=function(e){e=aA(e);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function aA(e){return typeof e==="function"?e:(e=g5.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}dO.insert=function(e,d3){e=aA(e);d3=w(d3);return this.select(function(){return this.insertBefore(e.apply(this,arguments),d3.apply(this,arguments)||null)})};dO.remove=function(){return this.each(function(){var e=this.parentNode;if(e){e.removeChild(this)}})};dO.data=function(hZ,h1){var hW=-1,d3=this.length,h0,hU;if(!arguments.length){hZ=new Array(d3=(h0=this[0]).length);while(++hW<d3){if(hU=h0[hW]){hZ[hW]=hU.__data__}}return hZ}function hX(ib,h6){var h8,h3=ib.length,h5=h6.length,ia=Math.min(h3,h5),ig=new Array(h5),ic=new Array(h5),h9=new Array(h3),h4,h2;if(h1){var ih=new aF(),id=new aF(),ie=[],h7;for(h8=-1;++h8<h3;){h7=h1.call(h4=ib[h8],h4.__data__,h8);if(ih.has(h7)){h9[h8]=h4}else{ih.set(h7,h4)}ie.push(h7)}for(h8=-1;++h8<h5;){h7=h1.call(h6,h2=h6[h8],h8);if(h4=ih.get(h7)){ig[h8]=h4;h4.__data__=h2}else{if(!id.has(h7)){ic[h8]=I(h2)}}id.set(h7,h2);ih.remove(h7)}for(h8=-1;++h8<h3;){if(ih.has(ie[h8])){h9[h8]=ib[h8]}}}else{for(h8=-1;++h8<ia;){h4=ib[h8];h2=h6[h8];if(h4){h4.__data__=h2;ig[h8]=h4}else{ic[h8]=I(h2)}}for(;h8<h5;++h8){ic[h8]=I(h6[h8])}for(;h8<h3;++h8){h9[h8]=ib[h8]}}ic.update=ig;ic.parentNode=ig.parentNode=h9.parentNode=ib.parentNode;hY.push(ic);hV.push(ig);e.push(h9)}var hY=bO([]),hV=dP([]),e=dP([]);if(typeof hZ==="function"){while(++hW<d3){hX(h0=this[hW],hZ.call(h0,h0.parentNode.__data__,hW))}}else{while(++hW<d3){hX(h0=this[hW],hZ)}}hV.enter=function(){return hY};hV.exit=function(){return e};return hV};function I(e){return{__data__:e}}dO.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};dO.filter=function(e){var hU=[],h0,hZ,hV;if(typeof e!=="function"){e=a3(e)}for(var hX=0,hW=this.length;hX<hW;hX++){hU.push(h0=[]);h0.parentNode=(hZ=this[hX]).parentNode;for(var hY=0,d3=hZ.length;hY<d3;hY++){if((hV=hZ[hY])&&e.call(hV,hV.__data__,hY,hX)){h0.push(hV)}}}return dP(hU)};function a3(e){return function(){return a(this,e)}}dO.order=function(){for(var d3=-1,e=this.length;++d3<e;){for(var hX=this[d3],hU=hX.length-1,hV=hX[hU],hW;--hU>=0;){if(hW=hX[hU]){if(hV&&hV!==hW.nextSibling){hV.parentNode.insertBefore(hW,hV)}hV=hW}}}return this};dO.sort=function(d3){d3=gw.apply(this,arguments);for(var hU=-1,e=this.length;++hU<e;){this[hU].sort(d3)}return this.order()};function gw(e){if(!arguments.length){e=e6}return function(hU,d3){return hU&&d3?e(hU.__data__,d3.__data__):!hU-!d3}}dO.each=function(e){return cA(this,function(hV,hU,d3){e.call(hV,hV.__data__,hU,d3)})};function cA(d3,hZ){for(var hU=0,e=d3.length;hU<e;hU++){for(var hX=d3[hU],hV=0,hY=hX.length,hW;hV<hY;hV++){if(hW=hX[hV]){hZ(hW,hV,hU)}}}return d3}dO.call=function(d3){var e=dE(arguments);d3.apply(e[0]=this,e);return this};dO.empty=function(){return !this.node()};dO.node=function(){for(var d3=0,e=this.length;d3<e;d3++){for(var hW=this[d3],hU=0,hX=hW.length;hU<hX;hU++){var hV=hW[hU];if(hV){return hV}}}return null};dO.size=function(){var e=0;this.each(function(){++e});return e};function bO(e){hO(e,eS);return e}var eS=[];g5.selection.enter=bO;g5.selection.enter.prototype=eS;eS.append=dO.append;eS.empty=dO.empty;eS.node=dO.node;eS.call=dO.call;eS.size=dO.size;eS.select=function(hX){var hU=[],h2,e,h0,h1,hW;for(var hY=-1,hV=this.length;++hY<hV;){h0=(h1=this[hY]).update;hU.push(h2=[]);h2.parentNode=h1.parentNode;for(var hZ=-1,d3=h1.length;++hZ<d3;){if(hW=h1[hZ]){h2.push(h0[hZ]=e=hX.call(h1.parentNode,hW.__data__,hZ,hY));e.__data__=hW.__data__}else{h2.push(null)}}}return dP(hU)};eS.insert=function(e,d3){if(arguments.length<2){d3=gf(this)}return dO.insert.call(this,e,d3)};function gf(hU){var e,d3;return function(hZ,hW,hV){var hY=hU[hV].update,h0=hY.length,hX;if(hV!=d3){d3=hV,e=0}if(hW>=e){e=hW+1}while(!(hX=hY[e])&&++e<h0){}return hX}}dO.transition=function(){var e=ao||++gS,hU=[],h1,hV,hZ=dT||{time:Date.now(),ease:at,delay:0,duration:250};for(var hX=-1,hW=this.length;++hX<hW;){hU.push(h1=[]);for(var h0=this[hX],hY=-1,d3=h0.length;++hY<d3;){if(hV=h0[hY]){fp(hV,hY,e,hZ)}h1.push(hV)}}return gA(hU,e)};dO.interrupt=function(){return this.each(cM)};function cM(){var e=this.__transition__;if(e){++e.active}}g5.select=function(e){var d3=[typeof e==="string"?df(e,bG):e];d3.parentNode=dW;return dP([d3])};g5.selectAll=function(e){var d3=dE(typeof e==="string"?fS(e,bG):e);d3.parentNode=dW;return dP([d3])};var gC=g5.select(dW);dO.on=function(d3,hU,e){var hV=arguments.length;if(hV<3){if(typeof d3!=="string"){if(hV<2){hU=false}for(e in d3){this.each(j(e,d3[e],hU))}return this}if(hV<2){return(hV=this.node()["__on"+d3])&&hV._}e=false}return this.each(j(d3,hU,e))};function j(h0,hV,h1){var e="__on"+h0,hX=h0.indexOf("."),d3=fe;if(hX>0){h0=h0.substring(0,hX)}var hU=bD.get(h0);if(hU){h0=hU,d3=am}function hW(){var h2=this[e];if(h2){this.removeEventListener(h0,h2,h2.$);delete this[e]}}function hZ(){var h2=d3(hV,dE(arguments));hW.call(this);this.addEventListener(h0,this[e]=h2,h2.$=h1);h2._=hV}function hY(){var h5=new RegExp("^__on([^.]+)"+g5.requote(h0)+"$"),h4;for(var h3 in this){if(h4=h3.match(h5)){var h2=this[h3];this.removeEventListener(h4[1],h2,h2.$);delete this[h3]}}}return hX?hV?hZ:hW:hV?aE:hY}var bD=g5.map({mouseenter:"mouseover",mouseleave:"mouseout"});bD.forEach(function(e){if("on"+e in bG){bD.remove(e)}});function fe(d3,e){return function(hU){var hV=g5.event;g5.event=hU;e[0]=this.__data__;try{d3.apply(this,e)}finally{g5.event=hV}}}function am(hU,e){var d3=fe(hU,e);return function(hX){var hW=this,hV=hX.relatedTarget;if(!hV||hV!==hW&&!(hV.compareDocumentPosition(hW)&8)){d3.call(hW,hX)}}}var b5="onselectstart" in bG?null:c7(dW.style,"userSelect"),gt=0;function bE(){var hU=".dragsuppress-"+ ++gt,hW="click"+hU,d3=g5.select(fm).on("touchmove"+hU,t).on("dragstart"+hU,t).on("selectstart"+hU,t);if(b5){var hV=dW.style,e=hV[b5];hV[b5]="none"}return function(hX){d3.on(hU,null);if(b5){hV[b5]=e}if(hX){function hY(){d3.on(hW,null)}d3.on(hW,function(){t();hY()},true);setTimeout(hY,0)}}}g5.mouse=function(e){return aU(e,ab())};var cw=/WebKit/.test(fm.navigator.userAgent)?-1:0;function aU(hV,hY){if(hY.changedTouches){hY=hY.changedTouches[0]}var hW=hV.ownerSVGElement||hV;if(hW.createSVGPoint){var d3=hW.createSVGPoint();if(cw<0&&(fm.scrollX||fm.scrollY)){hW=g5.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var hU=hW[0][0].getScreenCTM();cw=!(hU.f||hU.e);hW.remove()}if(cw){d3.x=hY.pageX,d3.y=hY.pageY}else{d3.x=hY.clientX,d3.y=hY.clientY}d3=d3.matrixTransform(hV.getScreenCTM().inverse());return[d3.x,d3.y]}var hX=hV.getBoundingClientRect();return[hY.clientX-hX.left-hV.clientLeft,hY.clientY-hX.top-hV.clientTop]}g5.touches=function(e,d3){if(arguments.length<2){d3=ab().touches}return d3?dE(d3).map(function(hV){var hU=aU(e,hV);hU.identifier=hV.identifier;return hU}):[]};g5.behavior.drag=function(){var hW=gZ(hV,"drag","dragstart","dragend"),e=null,d3=hU(aE,g5.mouse,bM,"mousemove","mouseup"),hX=hU(g3,g5.touch,eh,"touchmove","touchend");function hV(){this.on("mousedown.drag",d3).on("touchstart.drag",hX)}function hU(h2,hY,h1,h0,hZ){return function(){var h9=this,ia=g5.event.target,ig=h9.parentNode,ib=hW.of(h9,arguments),id=0,h4=h2(),h3=".drag"+(h4==null?"":"-"+h4),h7,h5=g5.select(h1()).on(h0+h3,ic).on(hZ+h3,ie),h8=bE(),h6=hY(ig,h4);if(e){h7=e.apply(h9,arguments);h7=[h7.x-h6[0],h7.y-h6[1]]}else{h7=[0,0]}ib({type:"dragstart"});function ic(){var ii=hY(ig,h4),ij,ih;if(!ii){return}ij=ii[0]-h6[0];ih=ii[1]-h6[1];id|=ij|ih;h6=ii;ib({type:"drag",x:ii[0]+h7[0],y:ii[1]+h7[1],dx:ij,dy:ih})}function ie(){if(!hY(ig,h4)){return}h5.on(h0+h3,null).on(hZ+h3,null);h8(id&&g5.event.target===ia);ib({type:"dragend"})}}}hV.origin=function(hY){if(!arguments.length){return e}e=hY;return hV};return g5.rebind(hV,hW,"on")};function g3(){return g5.event.changedTouches[0].identifier}function eh(){return g5.event.target}function bM(){return fm}var fZ=Math.PI,fT=2*fZ,ed=fZ/2,f8=0.000001,es=f8*f8,G=fZ/180,hl=180/fZ;function b2(e){return e>0?1:e<0?-1:0}function eO(d3,e,hU){return(e[0]-d3[0])*(hU[1]-d3[1])-(e[1]-d3[1])*(hU[0]-d3[0])}function aa(e){return e>1?0:e<-1?fZ:Math.acos(e)}function b8(e){return e>1?ed:e<-1?-ed:Math.asin(e)}function dM(e){return((e=Math.exp(e))-1/e)/2}function by(e){return((e=Math.exp(e))+1/e)/2}function fg(e){return((e=Math.exp(2*e))-1)/(e+1)}function aB(e){return(e=Math.sin(e/2))*e}var fW=Math.SQRT2,X=2,V=4;g5.interpolateZoom=function(d3,e){var h3=d3[0],h8=d3[1],h1=d3[2],h2=e[0],h7=e[1],hZ=e[2];var h0=h2-h3,hY=h7-h8,h9=h0*h0+hY*hY,ia=Math.sqrt(h9),hW=(hZ*hZ-h1*h1+V*h9)/(2*h1*X*ia),hV=(hZ*hZ-h1*h1-V*h9)/(2*hZ*X*ia),h6=Math.log(Math.sqrt(hW*hW+1)-hW),h5=Math.log(Math.sqrt(hV*hV+1)-hV),h4=h5-h6,hU=(h4||Math.log(hZ/h1))/fW;function hX(ic){var id=ic*hU;if(h4){var ie=by(h6),ib=h1/(X*ia)*(ie*fg(fW*id+h6)-dM(h6));return[h3+ib*h0,h8+ib*hY,h1*ie/by(fW*id+h6)]}return[h3+ic*h0,h8+ic*hY,h1*Math.exp(fW*id)]}hX.duration=hU*1000;return hX};g5.behavior.zoom=function(){var h4={x:0,y:0,k:1},ij,h1,il,h8=[960,500],hU=fG,ic="mousedown.zoom",ik="mousemove.zoom",id="mouseup.zoom",h9,ih="touchstart.zoom",h0,ie=gZ(d3,"zoomstart","zoom","zoomend"),ii,ig,hY,hW;function d3(io){io.on(ic,hV).on(gM+".zoom",h5).on("dblclick.zoom",h2).on(ih,hX)}d3.event=function(io){io.each(function(){var iq=ie.of(this,arguments),ip=h4;if(ao){g5.select(this).transition().each("start.zoom",function(){h4=this.__chart__||{x:0,y:0,k:1};ia(iq)}).tween("zoom:zoom",function(){var iu=h8[0],it=h8[1],ir=iu/2,iw=it/2,iv=g5.interpolateZoom([(ir-h4.x)/h4.k,(iw-h4.y)/h4.k,iu/h4.k],[(ir-ip.x)/ip.k,(iw-ip.y)/ip.k,iu/ip.k]);return function(iz){var ix=iv(iz),iy=iu/ix[2];this.__chart__=h4={x:ir-ix[0]*iy,y:iw-ix[1]*iy,k:iy};h7(iq)}}).each("end.zoom",function(){h6(iq)})}else{this.__chart__=h4;ia(iq);h7(iq);h6(iq)}})};d3.translate=function(io){if(!arguments.length){return[h4.x,h4.y]}h4={x:+io[0],y:+io[1],k:h4.k};h3();return d3};d3.scale=function(io){if(!arguments.length){return h4.k}h4={x:h4.x,y:h4.y,k:+io};h3();return d3};d3.scaleExtent=function(io){if(!arguments.length){return hU}hU=io==null?fG:[+io[0],+io[1]];return d3};d3.center=function(io){if(!arguments.length){return il}il=io&&[+io[0],+io[1]];return d3};d3.size=function(io){if(!arguments.length){return h8}h8=io&&[+io[0],+io[1]];return d3};d3.x=function(io){if(!arguments.length){return ig}ig=io;ii=io.copy();h4={x:0,y:0,k:1};return d3};d3.y=function(io){if(!arguments.length){return hW}hW=io;hY=io.copy();h4={x:0,y:0,k:1};return d3};function e(io){return[(io[0]-h4.x)/h4.k,(io[1]-h4.y)/h4.k]}function ib(io){return[io[0]*h4.k+h4.x,io[1]*h4.k+h4.y]}function hZ(io){h4.k=Math.max(hU[0],Math.min(hU[1],io))}function im(ip,io){io=ib(io);h4.x+=ip[0]-io[0];h4.y+=ip[1]-io[1]}function h3(){if(ig){ig.domain(ii.range().map(function(io){return(io-h4.x)/h4.k}).map(ii.invert))}if(hW){hW.domain(hY.range().map(function(io){return(io-h4.y)/h4.k}).map(hY.invert))}}function ia(io){io({type:"zoomstart"})}function h7(io){h3();io({type:"zoom",scale:h4.k,translate:[h4.x,h4.y]})}function h6(io){io({type:"zoomend"})}function hV(){var ip=this,ir=g5.event.target,it=ie.of(ip,arguments),iw=0,iu=g5.select(fm).on(ik,iv).on(id,ix),iq=e(g5.mouse(ip)),io=bE();cM.call(ip);ia(it);function iv(){iw=1;im(g5.mouse(ip),iq);h7(it)}function ix(){iu.on(ik,null).on(id,null);io(iw&&g5.event.target===ir);h6(it)}}function hX(){var iv=this,ix=ie.of(iv,arguments),it={},iz=0,iw,ip=".zoom-"+g5.event.changedTouches[0].identifier,iq="touchmove"+ip,iD="touchend"+ip,iu=[],iA=g5.select(iv).on(ic,null).on(ih,iy),ir=bE();cM.call(iv);iy();ia(ix);function io(){var iE=g5.touches(iv);iw=h4.k;iE.forEach(function(iF){if(iF.identifier in it){it[iF.identifier]=e(iF)}});return iE}function iy(){var iM=g5.event.target;g5.select(iM).on(iq,iB).on(iD,iC);iu.push(iM);var iJ=g5.event.changedTouches;for(var iK=0,iH=iJ.length;iK<iH;++iK){it[iJ[iK].identifier]=null}var iL=io(),iG=Date.now();if(iL.length===1){if(iG-h0<500){var iF=iL[0],iI=it[iF.identifier];hZ(h4.k*2);im(iF,iI);t();h7(ix)}h0=iG}else{if(iL.length>1){var iF=iL[0],iE=iL[1],iO=iF[0]-iE[0],iN=iF[1]-iE[1];iz=iO*iO+iN*iN}}}function iB(){var iI=g5.touches(iv),iM,iG,iL,iF;for(var iH=0,iE=iI.length;iH<iE;++iH,iF=null){iL=iI[iH];if(iF=it[iL.identifier]){if(iG){break}iM=iL,iG=iF}}if(iF){var iK=(iK=iL[0]-iM[0])*iK+(iK=iL[1]-iM[1])*iK,iJ=iz&&Math.sqrt(iK/iz);iM=[(iM[0]+iL[0])/2,(iM[1]+iL[1])/2];iG=[(iG[0]+iF[0])/2,(iG[1]+iF[1])/2];hZ(iJ*iw)}h0=null;im(iM,iG);h7(ix)}function iC(){if(g5.event.touches.length){var iG=g5.event.changedTouches;for(var iF=0,iH=iG.length;iF<iH;++iF){delete it[iG[iF].identifier]}for(var iE in it){return void io()}}g5.selectAll(iu).on(ip,null);iA.on(ic,hV).on(ih,hX);ir();h6(ix)}}function h5(){var io=ie.of(this,arguments);if(h9){clearTimeout(h9)}else{ij=e(h1=il||g5.mouse(this)),cM.call(this),ia(io)}h9=setTimeout(function(){h9=null;h6(io)},50);t();hZ(Math.pow(2,cq()*0.002)*h4.k);im(h1,ij);h7(io)}function h2(){var iq=ie.of(this,arguments),ir=g5.mouse(this),io=e(ir),ip=Math.log(h4.k)/Math.LN2;ia(iq);hZ(Math.pow(2,g5.event.shiftKey?Math.ceil(ip)-1:Math.floor(ip)+1));im(ir,io);h7(iq);h6(iq)}return g5.rebind(d3,ie,"on")};var fG=[0,Infinity];var cq,gM="onwheel" in bG?(cq=function(){return -g5.event.deltaY*(g5.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bG?(cq=function(){return g5.event.wheelDelta},"mousewheel"):(cq=function(){return -g5.event.detail},"MozMousePixelScroll");g5.color=gF;function gF(){}gF.prototype.toString=function(){return this.rgb()+""};g5.hsl=ew;function ew(hU,d3,e){return this instanceof ew?void (this.h=+hU,this.s=+d3,this.l=+e):arguments.length<2?hU instanceof ew?new ew(hU.h,hU.s,hU.l):aT(""+hU,gi,ew):new ew(hU,d3,e)}var em=ew.prototype=new gF();em.brighter=function(e){e=Math.pow(0.7,arguments.length?e:1);return new ew(this.h,this.s,this.l/e)};em.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return new ew(this.h,this.s,e*this.l)};em.rgb=function(){return ba(this.h,this.s,this.l)};function ba(hX,hW,e){var hV,hU;hX=isNaN(hX)?0:(hX%=360)<0?hX+360:hX;hW=isNaN(hW)?0:hW<0?0:hW>1?1:hW;e=e<0?0:e>1?1:e;hU=e<=0.5?e*(1+hW):e+hW-e*hW;hV=2*e-hU;function d3(hZ){if(hZ>360){hZ-=360}else{if(hZ<0){hZ+=360}}if(hZ<60){return hV+(hU-hV)*hZ/60}if(hZ<180){return hU}if(hZ<240){return hV+(hU-hV)*(240-hZ)/60}return hV}function hY(hZ){return Math.round(d3(hZ)*255)}return new ef(hY(hX+120),hY(hX),hY(hX-120))}g5.hcl=bw;function bw(d3,hU,e){return this instanceof bw?void (this.h=+d3,this.c=+hU,this.l=+e):arguments.length<2?d3 instanceof bw?new bw(d3.h,d3.c,d3.l):d3 instanceof cg?gq(d3.l,d3.a,d3.b):gq((d3=dQ((d3=g5.rgb(d3)).r,d3.g,d3.b)).l,d3.a,d3.b):new bw(d3,hU,e)}var gX=bw.prototype=new gF();gX.brighter=function(e){return new bw(this.h,this.c,Math.min(100,this.l+bm*(arguments.length?e:1)))};gX.darker=function(e){return new bw(this.h,this.c,Math.max(0,this.l-bm*(arguments.length?e:1)))};gX.rgb=function(){return bx(this.h,this.c,this.l).rgb()};function bx(d3,hU,e){if(isNaN(d3)){d3=0}if(isNaN(hU)){hU=0}return new cg(e,Math.cos(d3*=G)*hU,Math.sin(d3)*hU)}g5.lab=cg;function cg(hU,d3,e){return this instanceof cg?void (this.l=+hU,this.a=+d3,this.b=+e):arguments.length<2?hU instanceof cg?new cg(hU.l,hU.a,hU.b):hU instanceof bw?bx(hU.l,hU.c,hU.h):dQ((hU=ef(hU)).r,hU.g,hU.b):new cg(hU,d3,e)}var bm=18;var bb=0.95047,a9=1,a6=1.08883;var gj=cg.prototype=new gF();gj.brighter=function(e){return new cg(Math.min(100,this.l+bm*(arguments.length?e:1)),this.a,this.b)};gj.darker=function(e){return new cg(Math.max(0,this.l-bm*(arguments.length?e:1)),this.a,this.b)};gj.rgb=function(){return az(this.l,this.a,this.b)};function az(hV,hU,d3){var hX=(hV+16)/116,e=hX+hU/500,hW=hX-d3/200;e=gK(e)*bb;hX=gK(hX)*a9;hW=gK(hW)*a6;return new ef(d(3.2404542*e-1.5371385*hX-0.4985314*hW),d(-0.969266*e+1.8760108*hX+0.041556*hW),d(0.0556434*e-0.2040259*hX+1.0572252*hW))}function gq(hU,d3,e){return hU>0?new bw(Math.atan2(e,d3)*hl,Math.sqrt(d3*d3+e*e),hU):new bw(NaN,NaN,hU)}function gK(e){return e>0.206893034?e*e*e:(e-4/29)/7.787037}function gb(e){return e>0.008856?Math.pow(e,1/3):7.787037*e+4/29}function d(e){return Math.round(255*(e<=0.00304?12.92*e:1.055*Math.pow(e,1/2.4)-0.055))}g5.rgb=ef;function ef(hU,d3,e){return this instanceof ef?void (this.r=~~hU,this.g=~~d3,this.b=~~e):arguments.length<2?hU instanceof ef?new ef(hU.r,hU.g,hU.b):aT(""+hU,ef,ba):new ef(hU,d3,e)}function c5(e){return new ef(e>>16,e>>8&255,e&255)}function dk(e){return c5(e)+""}var ex=ef.prototype=new gF();ex.brighter=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);var hW=this.r,hV=this.g,e=this.b,hU=30;if(!hW&&!hV&&!e){return new ef(hU,hU,hU)}if(hW&&hW<hU){hW=hU}if(hV&&hV<hU){hV=hU}if(e&&e<hU){e=hU}return new ef(Math.min(255,hW/d3),Math.min(255,hV/d3),Math.min(255,e/d3))};ex.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return new ef(e*this.r,e*this.g,e*this.b)};ex.hsl=function(){return gi(this.r,this.g,this.b)};ex.toString=function(){return"#"+co(this.r)+co(this.g)+co(this.b)};function co(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function aT(hX,hV,hY){var e=0,hU=0,hW=0,h0,hZ,d3;h0=/([a-z]+)\((.*)\)/i.exec(hX);if(h0){hZ=h0[2].split(",");switch(h0[1]){case"hsl":return hY(parseFloat(hZ[0]),parseFloat(hZ[1])/100,parseFloat(hZ[2])/100);case"rgb":return hV(eL(hZ[0]),eL(hZ[1]),eL(hZ[2]))}}if(d3=aj.get(hX)){return hV(d3.r,d3.g,d3.b)}if(hX!=null&&hX.charAt(0)==="#"&&!isNaN(d3=parseInt(hX.substring(1),16))){if(hX.length===4){e=(d3&3840)>>4;e=e>>4|e;hU=d3&240;hU=hU>>4|hU;hW=d3&15;hW=hW<<4|hW}else{if(hX.length===7){e=(d3&16711680)>>16;hU=(d3&65280)>>8;hW=d3&255}}}return hV(e,hU,hW)}function gi(e,hW,hY){var hU=Math.min(e/=255,hW/=255,hY/=255),hZ=Math.max(e,hW,hY),hX=hZ-hU,hV,h0,d3=(hZ+hU)/2;if(hX){h0=d3<0.5?hX/(hZ+hU):hX/(2-hZ-hU);if(e==hZ){hV=(hW-hY)/hX+(hW<hY?6:0)}else{if(hW==hZ){hV=(hY-e)/hX+2}else{hV=(e-hW)/hX+4}}hV*=60}else{hV=NaN;h0=d3>0&&d3<1?0:hV}return new ew(hV,h0,d3)}function dQ(hV,hU,d3){hV=ds(hV);hU=ds(hU);d3=ds(d3);var e=gb((0.4124564*hV+0.3575761*hU+0.1804375*d3)/bb),hX=gb((0.2126729*hV+0.7151522*hU+0.072175*d3)/a9),hW=gb((0.0193339*hV+0.119192*hU+0.9503041*d3)/a6);return cg(116*hX-16,500*(e-hX),200*(hX-hW))}function ds(e){return(e/=255)<=0.04045?e/12.92:Math.pow((e+0.055)/1.055,2.4)}function eL(d3){var e=parseFloat(d3);return d3.charAt(d3.length-1)==="%"?Math.round(e*2.55):e}var aj=g5.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});aj.forEach(function(e,d3){aj.set(e,c5(d3))});function O(e){return typeof e==="function"?e:function(){return e}}g5.functor=O;function f6(e){return e}g5.xhr=U(f6);function U(e){return function(d3,hU,hV){if(arguments.length===2&&typeof hU==="function"){hV=hU,hU=null}return hG(d3,hU,e,hV)}}function hG(e,hU,hW,h0){var h1={},hZ=g5.dispatch("beforesend","progress","load","error"),hV={},hX=new XMLHttpRequest(),hY=null;if(fm.XDomainRequest&&!("withCredentials" in hX)&&/^(http(s)?:)?\/\//.test(e)){hX=new XDomainRequest()}"onload" in hX?hX.onload=hX.onerror=d3:hX.onreadystatechange=function(){hX.readyState>3&&d3()};function d3(){var h3=hX.status,h2;if(!h3&&hX.responseText||h3>=200&&h3<300||h3===304){try{h2=hW.call(h1,hX)}catch(h4){hZ.error.call(h1,h4);return}hZ.load.call(h1,h2)}else{hZ.error.call(h1,hX)}}hX.onprogress=function(h2){var h3=g5.event;g5.event=h2;try{hZ.progress.call(h1,hX)}finally{g5.event=h3}};h1.header=function(h2,h3){h2=(h2+"").toLowerCase();if(arguments.length<2){return hV[h2]}if(h3==null){delete hV[h2]}else{hV[h2]=h3+""}return h1};h1.mimeType=function(h2){if(!arguments.length){return hU}hU=h2==null?null:h2+"";return h1};h1.responseType=function(h2){if(!arguments.length){return hY}hY=h2;return h1};h1.response=function(h2){hW=h2;return h1};["get","post"].forEach(function(h2){h1[h2]=function(){return h1.send.apply(h1,[h2].concat(dE(arguments)))}});h1.send=function(h5,h3,h4){if(arguments.length===2&&typeof h3==="function"){h4=h3,h3=null}hX.open(h5,e,true);if(hU!=null&&!("accept" in hV)){hV.accept=hU+",*/*"}if(hX.setRequestHeader){for(var h2 in hV){hX.setRequestHeader(h2,hV[h2])}}if(hU!=null&&hX.overrideMimeType){hX.overrideMimeType(hU)}if(hY!=null){hX.responseType=hY}if(h4!=null){h1.on("error",h4).on("load",function(h6){h4(null,h6)})}hZ.beforesend.call(h1,hX);hX.send(h3==null?null:h3);return h1};h1.abort=function(){hX.abort();return h1};g5.rebind(h1,hZ,"on");return h0==null?h1:h1.get(dV(h0))}function dV(e){return e.length===1?function(d3,hU){e(d3==null?hU:null)}:e}g5.dsv=function(e,d3){var hV=new RegExp('["'+e+"\n]"),hX=e.charCodeAt(0);function hZ(h1,h3,h4){if(arguments.length<3){h4=h3,h3=null}var h2=hG(h1,d3,h3==null?hW:hU(h3),h4);h2.row=function(h5){return arguments.length?h2.response((h3=h5)==null?hW:hU(h5)):h3};return h2}function hW(h1){return hZ.parse(h1.responseText)}function hU(h1){return function(h2){return hZ.parse(h2.responseText,h1)}}hZ.parse=function(h3,h1){var h2;return hZ.parseRows(h3,function(h6,h5){if(h2){return h2(h6,h5-1)}var h4=new Function("d","return {"+h6.map(function(h7,h8){return JSON.stringify(h7)+": d["+h8+"]"}).join(",")+"}");h2=h1?function(h8,h7){return h1(h4(h8),h7)}:h4})};hZ.parseRows=function(ia,h5){var h2={},h4={},ic=[],h6=ia.length,h9=0,h1=0,ib,h7;function h3(){if(h9>=h6){return h4}if(h7){return h7=false,h2}var ie=h9;if(ia.charCodeAt(ie)===34){var ig=ie;while(ig++<h6){if(ia.charCodeAt(ig)===34){if(ia.charCodeAt(ig+1)!==34){break}++ig}}h9=ig+2;var ih=ia.charCodeAt(ig+1);if(ih===13){h7=true;if(ia.charCodeAt(ig+2)===10){++h9}}else{if(ih===10){h7=true}}return ia.substring(ie+1,ig).replace(/""/g,'"')}while(h9<h6){var ih=ia.charCodeAt(h9++),id=1;if(ih===10){h7=true}else{if(ih===13){h7=true;if(ia.charCodeAt(h9)===10){++h9,++id}}else{if(ih!==hX){continue}}}return ia.substring(ie,h9-id)}return ia.substring(ie)}while((ib=h3())!==h4){var h8=[];while(ib!==h2&&ib!==h4){h8.push(ib);ib=h3()}if(h5&&!(h8=h5(h8,h1++))){continue}ic.push(h8)}return ic};hZ.format=function(h3){if(Array.isArray(h3[0])){return hZ.formatRows(h3)}var h2=new dg(),h1=[];h3.forEach(function(h5){for(var h4 in h5){if(!h2.has(h4)){h1.push(h2.add(h4))}}});return[h1.map(hY).join(e)].concat(h3.map(function(h4){return h1.map(function(h5){return hY(h4[h5])}).join(e)})).join("\n")};hZ.formatRows=function(h1){return h1.map(h0).join("\n")};function h0(h1){return h1.map(hY).join(e)}function hY(h1){return hV.test(h1)?'"'+h1.replace(/\"/g,'""')+'"':h1}return hZ};g5.csv=g5.dsv(",","text/csv");g5.tsv=g5.dsv("	","text/tab-separated-values");g5.touch=function(e,hV,d3){if(arguments.length<3){d3=hV,hV=ab().changedTouches}if(hV){for(var hU=0,hX=hV.length,hW;hU<hX;++hU){if((hW=hV[hU]).identifier===d3){return aU(e,hW)}}}};var dR,ac,cj,e3,da,hb=fm[c7(fm,"requestAnimationFrame")]||function(e){setTimeout(e,17)};g5.timer=function(hX,e,hU){var hW=arguments.length;if(hW<2){e=0}if(hW<3){hU=Date.now()}var d3=hU+e,hV={c:hX,t:d3,f:false,n:null};if(ac){ac.n=hV}else{dR=hV}ac=hV;if(!cj){e3=clearTimeout(e3);cj=1;hb(hc)}};function hc(){var d3=bz(),e=Z()-d3;if(e>24){if(isFinite(e)){clearTimeout(e3);e3=setTimeout(hc,e)}cj=0}else{cj=1;hb(hc)}}g5.timer.flush=function(){bz();Z()};function bz(){var e=Date.now();da=dR;while(da){if(e>=da.t){da.f=da.c(e-da.t)}da=da.n}return e}function Z(){var d3,e=dR,hU=Infinity;while(e){if(e.f){e=d3?d3.n=e.n:dR=e.n}else{if(e.t<hU){hU=e.t}e=(d3=e).n}}ac=d3;return hU}function d5(e,d3){return d3-(e?Math.ceil(Math.log(e)/Math.LN10):1)}g5.round=function(e,d3){return d3?Math.round(e*(d3=Math.pow(10,d3)))/d3:Math.round(e)};var cn=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(dD);g5.formatPrefix=function(hU,e){var d3=0;if(hU){if(hU<0){hU*=-1}if(e){hU=g5.round(hU,d5(hU,e))}d3=1+Math.floor(1e-12+Math.log(hU)/Math.LN10);d3=Math.max(-24,Math.min(24,Math.floor((d3-1)/3)*3))}return cn[8+d3/3]};function dD(hU,d3){var e=Math.pow(10,cy(8-d3)*3);return{scale:d3>8?function(hV){return hV/e}:function(hV){return hV*e},symbol:hU}}function bi(e){var hV=e.decimal,hX=e.thousands,hW=e.grouping,hU=e.currency,d3=hW?function(h2){var h0=h2.length,hZ=[],hY=0,h1=hW[0];while(h0>0&&h1>0){hZ.push(h2.substring(h0-=h1,h0+h1));h1=hW[hY=(hY+1)%hW.length]}return hZ.reverse().join(hX)}:f6;return function(ia){var h6=cs.exec(ia),ic=h6[1]||" ",h8=h6[2]||">",hZ=h6[3]||"",h1=h6[4]||"",h2=h6[5],hY=+h6[6],id=h6[7],h5=h6[8],h9=h6[9],h0=1,h7="",ib="",h4=false;if(h5){h5=+h5.substring(1)}if(h2||ic==="0"&&h8==="="){h2=ic="0";h8="=";if(id){hY-=Math.floor((hY-1)/4)}}switch(h9){case"n":id=true;h9="g";break;case"%":h0=100;ib="%";h9="f";break;case"p":h0=100;ib="%";h9="r";break;case"b":case"o":case"x":case"X":if(h1==="#"){h7="0"+h9.toLowerCase()}case"c":case"d":h4=true;h5=0;break;case"s":h0=-1;h9="r";break}if(h1==="$"){h7=hU[0],ib=hU[1]}if(h9=="r"&&!h5){h9="g"}if(h5!=null){if(h9=="g"){h5=Math.max(1,Math.min(21,h5))}else{if(h9=="e"||h9=="f"){h5=Math.max(0,Math.min(20,h5))}}}h9=u.get(h9)||bh;var h3=h2&&id;return function(im){var ik=ib;if(h4&&im%1){return""}var ih=im<0||im===0&&1/im<0?(im=-im,"-"):hZ;if(h0<0){var io=g5.formatPrefix(im,h5);im=io.scale(im);ik=io.symbol+ib}else{im*=h0}im=h9(im,h5);var ii=im.lastIndexOf("."),il=ii<0?im:im.substring(0,ii),ie=ii<0?"":hV+im.substring(ii+1);if(!h2&&id){il=d3(il)}var ig=h7.length+il.length+ie.length+(h3?0:ih.length),ij=ig<hY?new Array(ig=hY-ig+1).join(ic):"";if(h3){il=d3(ij+il)}ih+=h7;im=il+ie;return(h8==="<"?ih+im+ij:h8===">"?ij+ih+im:h8==="^"?ij.substring(0,ig>>=1)+ih+im+ij.substring(ig):ih+(h3?im:ij+im))+ik}}}var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var u=g5.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,d3){return e.toPrecision(d3)},e:function(e,d3){return e.toExponential(d3)},f:function(e,d3){return e.toFixed(d3)},r:function(e,d3){return(e=g5.round(e,d5(e,d3))).toFixed(Math.max(0,Math.min(20,d5(e*(1+1e-15),d3))))}});function bh(e){return e+""}var fu=g5.time={},g9=Date;function ce(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}ce.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fM.setUTCDate.apply(this._,arguments)},setDay:function(){fM.setUTCDay.apply(this._,arguments)},setFullYear:function(){fM.setUTCFullYear.apply(this._,arguments)},setHours:function(){fM.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fM.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fM.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fM.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fM.setUTCSeconds.apply(this._,arguments)},setTime:function(){fM.setTime.apply(this._,arguments)}};var fM=Date.prototype;function cS(hX,e,d3){function h0(h1){var h3=hX(h1),h2=hV(h3,1);return h1-h3<h2-h1?h3:h2}function hZ(h1){e(h1=hX(new g9(h1-1)),1);return h1}function hV(h2,h1){e(h2=new g9(+h2),h1);return h2}function hW(h3,h2,h1){var h4=hZ(h3),h5=[];if(h1>1){while(h4<h2){if(!(d3(h4)%h1)){h5.push(new Date(+h4))}e(h4,1)}}else{while(h4<h2){h5.push(new Date(+h4)),e(h4,1)}}return h5}function hU(h4,h3,h2){try{g9=ce;var h1=new ce();h1._=h4;return hW(h1,h3,h2)}finally{g9=Date}}hX.floor=hX;hX.round=h0;hX.ceil=hZ;hX.offset=hV;hX.range=hW;var hY=hX.utc=dI(hX);hY.floor=hY;hY.round=dI(h0);hY.ceil=dI(hZ);hY.offset=dI(hV);hY.range=hU;return hX}function dI(e){return function(hU,d3){try{g9=ce;var hV=new ce();hV._=hU;return e(hV,d3)._}finally{g9=Date}}}fu.year=cS(function(e){e=fu.day(e);e.setMonth(0,1);return e},function(e,d3){e.setFullYear(e.getFullYear()+d3)},function(e){return e.getFullYear()});fu.years=fu.year.range;fu.years.utc=fu.year.utc.range;fu.day=cS(function(d3){var e=new g9(2000,0);e.setFullYear(d3.getFullYear(),d3.getMonth(),d3.getDate());return e},function(e,d3){e.setDate(e.getDate()+d3)},function(e){return e.getDate()-1});fu.days=fu.day.range;fu.days.utc=fu.day.utc.range;fu.dayOfYear=function(e){var d3=fu.year(e);return Math.floor((e-d3-(e.getTimezoneOffset()-d3.getTimezoneOffset())*60000)/86400000)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(d3,hU){hU=7-hU;var e=fu[d3]=cS(function(hV){(hV=fu.day(hV)).setDate(hV.getDate()-(hV.getDay()+hU)%7);return hV},function(hV,hW){hV.setDate(hV.getDate()+Math.floor(hW)*7)},function(hW){var hV=fu.year(hW).getDay();return Math.floor((fu.dayOfYear(hW)+(hV+hU)%7)/7)-(hV!==hU)});fu[d3+"s"]=e.range;fu[d3+"s"].utc=e.utc.range;fu[d3+"OfYear"]=function(hW){var hV=fu.year(hW).getDay();return Math.floor((fu.dayOfYear(hW)+(hV+hU)%7)/7)}});fu.week=fu.sunday;fu.weeks=fu.sunday.range;fu.weeks.utc=fu.sunday.utc.range;fu.weekOfYear=fu.sundayOfYear;function an(ia){var ig=ia.dateTime,h5=ia.date,d3=ia.time,h0=ia.periods,e=ia.days,h1=ia.shortDays,h4=ia.months,hW=ia.shortMonths;function ie(io){var iq=io.length;function ip(iu){var it=[],iv=-1,ir=0,iy,ix,iw;while(++iv<iq){if(io.charCodeAt(iv)===37){it.push(io.substring(ir,iv));if((ix=aL[iy=io.charAt(++iv)])!=null){iy=io.charAt(++iv)}if(iw=ic[iy]){iy=iw(iu,ix==null?iy==="e"?" ":"0":ix)}it.push(iy);ir=iv+1}}it.push(io.substring(ir,iv));return it.join("")}ip.parse=function(iu){var iw={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},iv=h8(iw,io,iu,0);if(iv!=iu.length){return null}if("p" in iw){iw.H=iw.H%12+iw.p*12}var ir=iw.Z!=null&&g9!==ce,it=new (ir?ce:g9)();if("j" in iw){it.setFullYear(iw.y,0,iw.j)}else{if("w" in iw&&("W" in iw||"U" in iw)){it.setFullYear(iw.y,0,1);it.setFullYear(iw.y,0,"W" in iw?(iw.w+6)%7+iw.W*7-(it.getDay()+5)%7:iw.w+iw.U*7-(it.getDay()+6)%7)}else{it.setFullYear(iw.y,iw.m,iw.d)}}it.setHours(iw.H+Math.floor(iw.Z/100),iw.M+iw.Z%100,iw.S,iw.L);return ir?it._:it};ip.toString=function(){return io};return ip}function h8(ir,ix,iv,it){var iw,io,iy,iu=0,ip=ix.length,iq=iv.length;while(iu<ip){if(it>=iq){return -1}iw=ix.charCodeAt(iu++);if(iw===37){iy=ix.charAt(iu++);io=ib[iy in aL?ix.charAt(iu++):iy];if(!io||(it=io(ir,iv,it))<0){return -1}}else{if(iw!=iv.charCodeAt(it++)){return -1}}}return it}ie.utc=function(ip){var io=ie(ip);function iq(ir){try{g9=ce;var it=new g9();it._=ir;return io(it)}finally{g9=Date}}iq.parse=function(it){try{g9=ce;var ir=io.parse(it);return ir&&ir._}finally{g9=Date}};iq.toString=io.toString;return iq};ie.multi=ie.utc.multi=ga;var h6=g5.map(),ij=cC(e),ik=gE(e),ii=cC(h1),hX=gE(h1),il=cC(h4),im=gE(h4),h2=cC(hW),hV=gE(hW);h0.forEach(function(ip,io){h6.set(ip.toLowerCase(),io)});var ic={a:function(io){return h1[io.getDay()]},A:function(io){return e[io.getDay()]},b:function(io){return hW[io.getMonth()]},B:function(io){return h4[io.getMonth()]},c:ie(ig),d:function(ip,io){return dm(ip.getDate(),io,2)},e:function(ip,io){return dm(ip.getDate(),io,2)},H:function(ip,io){return dm(ip.getHours(),io,2)},I:function(ip,io){return dm(ip.getHours()%12||12,io,2)},j:function(ip,io){return dm(1+fu.dayOfYear(ip),io,3)},L:function(ip,io){return dm(ip.getMilliseconds(),io,3)},m:function(ip,io){return dm(ip.getMonth()+1,io,2)},M:function(ip,io){return dm(ip.getMinutes(),io,2)},p:function(io){return h0[+(io.getHours()>=12)]},S:function(ip,io){return dm(ip.getSeconds(),io,2)},U:function(ip,io){return dm(fu.sundayOfYear(ip),io,2)},w:function(io){return io.getDay()},W:function(ip,io){return dm(fu.mondayOfYear(ip),io,2)},x:ie(h5),X:ie(d3),y:function(ip,io){return dm(ip.getFullYear()%100,io,2)},Y:function(ip,io){return dm(ip.getFullYear()%10000,io,4)},Z:fH,"%":function(){return"%"}};var ib={a:h3,A:hU,b:ih,B:h9,c:hZ,d:bW,e:bW,H:aN,I:aN,j:C,L:gH,m:gs,M:cN,p:h7,S:dN,U:bn,w:dK,W:dx,x:id,X:hY,y:L,Y:bu,Z:aZ,"%":fh};function h3(ip,io,iq){ii.lastIndex=0;var ir=ii.exec(io.substring(iq));return ir?(ip.w=hX.get(ir[0].toLowerCase()),iq+ir[0].length):-1}function hU(ip,io,iq){ij.lastIndex=0;var ir=ij.exec(io.substring(iq));return ir?(ip.w=ik.get(ir[0].toLowerCase()),iq+ir[0].length):-1}function ih(ip,io,iq){h2.lastIndex=0;var ir=h2.exec(io.substring(iq));return ir?(ip.m=hV.get(ir[0].toLowerCase()),iq+ir[0].length):-1}function h9(ip,io,iq){il.lastIndex=0;var ir=il.exec(io.substring(iq));return ir?(ip.m=im.get(ir[0].toLowerCase()),iq+ir[0].length):-1}function hZ(ip,io,iq){return h8(ip,ic.c.toString(),io,iq)}function id(ip,io,iq){return h8(ip,ic.x.toString(),io,iq)}function hY(ip,io,iq){return h8(ip,ic.X.toString(),io,iq)}function h7(ip,io,iq){var ir=h6.get(io.substring(iq,iq+=2).toLowerCase());return ir==null?-1:(ip.p=ir,iq)}return ie}var aL={"-":"",_:" ","0":"0"},fR=/^\s*\d+/,eW=/^%/;function dm(hW,hX,hU){var e=hW<0?"-":"",d3=(e?-hW:hW)+"",hV=d3.length;return e+(hV<hU?new Array(hU-hV+1).join(hX)+d3:d3)}function cC(e){return new RegExp("^(?:"+e.map(g5.requote).join("|")+")","i")}function gE(hU){var d3=new aF(),e=-1,hV=hU.length;while(++e<hV){d3.set(hU[e].toLowerCase(),e)}return d3}function dK(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU,hU+1));return hV?(d3.w=+hV[0],hU+hV[0].length):-1}function bn(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU));return hV?(d3.U=+hV[0],hU+hV[0].length):-1}function dx(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU));return hV?(d3.W=+hV[0],hU+hV[0].length):-1}function bu(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU,hU+4));return hV?(d3.y=+hV[0],hU+hV[0].length):-1}function L(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU,hU+2));return hV?(d3.y=cU(+hV[0]),hU+hV[0].length):-1}function aZ(d3,e,hU){return/^[+-]\d{4}$/.test(e=e.substring(hU,hU+5))?(d3.Z=-e,hU+5):-1}function cU(e){return e+(e>68?1900:2000)}function gs(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU,hU+2));return hV?(d3.m=hV[0]-1,hU+hV[0].length):-1}function bW(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU,hU+2));return hV?(d3.d=+hV[0],hU+hV[0].length):-1}function C(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU,hU+3));return hV?(d3.j=+hV[0],hU+hV[0].length):-1}function aN(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU,hU+2));return hV?(d3.H=+hV[0],hU+hV[0].length):-1}function cN(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU,hU+2));return hV?(d3.M=+hV[0],hU+hV[0].length):-1}function dN(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU,hU+2));return hV?(d3.S=+hV[0],hU+hV[0].length):-1}function gH(d3,e,hU){fR.lastIndex=0;var hV=fR.exec(e.substring(hU,hU+3));return hV?(d3.L=+hV[0],hU+hV[0].length):-1}function fH(hW){var hV=hW.getTimezoneOffset(),hU=hV>0?"-":"+",d3=~~(cy(hV)/60),e=cy(hV)%60;return hU+dm(d3,"0",2)+dm(e,"0",2)}function fh(d3,e,hU){eW.lastIndex=0;var hV=eW.exec(e.substring(hU,hU+1));return hV?hU+hV[0].length:-1}function ga(e){var hU=e.length,d3=-1;while(++d3<hU){e[d3][0]=this(e[d3][0])}return function(hV){var hW=0,hX=e[hW];while(!hX[1](hV)){hX=e[++hW]}return hX[0](hV)}}g5.locale=function(e){return{numberFormat:bi(e),timeFormat:an(e)}};var c8=g5.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});g5.format=c8.numberFormat;g5.geo={};function e0(){}e0.prototype={s:0,t:0,add:function(e){de(e,this.t,hx);de(hx.s,this.s,this);if(this.s){this.t+=hx.t}else{this.s=hx.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hx=new e0();function de(hV,hU,hX){var d3=hX.s=hV+hU,e=d3-hV,hW=d3-e;hX.t=hV-hW+(hU-e)}g5.geo.stream=function(e,d3){if(e&&x.hasOwnProperty(e.type)){x[e.type](e,d3)}else{aM(e,d3)}};function aM(d3,e){if(d3&&eG.hasOwnProperty(d3.type)){eG[d3.type](d3,e)}}var x={Feature:function(e,d3){aM(e.geometry,d3)},FeatureCollection:function(e,hV){var hU=e.features,d3=-1,hW=hU.length;while(++d3<hW){aM(hU[d3].geometry,hV)}}};var eG={Sphere:function(e,d3){d3.sphere()},Point:function(e,d3){e=e.coordinates;d3.point(e[0],e[1],e[2])},MultiPoint:function(e,hU){var hV=e.coordinates,d3=-1,hW=hV.length;while(++d3<hW){e=hV[d3],hU.point(e[0],e[1],e[2])}},LineString:function(e,d3){ch(e.coordinates,d3,0)},MultiLineString:function(e,hU){var hV=e.coordinates,d3=-1,hW=hV.length;while(++d3<hW){ch(hV[d3],hU,0)}},Polygon:function(e,d3){gW(e.coordinates,d3)},MultiPolygon:function(e,hU){var hV=e.coordinates,d3=-1,hW=hV.length;while(++d3<hW){gW(hV[d3],hU)}},GeometryCollection:function(e,hV){var hU=e.geometries,d3=-1,hW=hU.length;while(++d3<hW){aM(hU[d3],hV)}}};function ch(hV,hU,e){var d3=-1,hX=hV.length-e,hW;hU.lineStart();while(++d3<hX){hW=hV[d3],hU.point(hW[0],hW[1],hW[2])}hU.lineEnd()}function gW(hU,d3){var e=-1,hV=hU.length;d3.polygonStart();while(++e<hV){ch(hU[e],d3,1)}d3.polygonEnd()}g5.geo.area=function(e){a4=0;g5.geo.stream(e,g2);return a4};var a4,fC=new e0();var g2={sphere:function(){a4+=4*fZ},point:aE,lineStart:aE,lineEnd:aE,polygonStart:function(){fC.reset();g2.lineStart=bZ},polygonEnd:function(){var e=2*fC;a4+=e<0?4*fZ+e:e;g2.lineStart=g2.lineEnd=g2.point=aE}};function bZ(){var d3,e,hV,hU,hW;g2.point=function(hZ,hY){g2.point=hX;hV=(d3=hZ)*G,hU=Math.cos(hY=(e=hY)*G/2+fZ/4),hW=Math.sin(hY)};function hX(h0,h7){h0*=G;h7=h7*G/2+fZ/4;var h3=h0-hV,h2=h3>=0?1:-1,h4=h2*h3,hY=Math.cos(h7),h1=Math.sin(h7),hZ=hW*h1,h6=hU*hY+hZ*Math.cos(h4),h5=hZ*h2*Math.sin(h4);fC.add(Math.atan2(h5,h6));hV=h0,hU=hY,hW=h1}g2.lineEnd=function(){hX(d3,e)}}function ar(e){var hU=e[0],d3=e[1],hV=Math.cos(d3);return[hV*Math.cos(hU),hV*Math.sin(hU),Math.sin(d3)]}function av(d3,e){return d3[0]*e[0]+d3[1]*e[1]+d3[2]*e[2]}function cQ(d3,e){return[d3[1]*e[2]-d3[2]*e[1],d3[2]*e[0]-d3[0]*e[2],d3[0]*e[1]-d3[1]*e[0]]}function cu(d3,e){d3[0]+=e[0];d3[1]+=e[1];d3[2]+=e[2]}function f0(e,d3){return[e[0]*d3,e[1]*d3,e[2]*d3]}function e8(d3){var e=Math.sqrt(d3[0]*d3[0]+d3[1]*d3[1]+d3[2]*d3[2]);d3[0]/=e;d3[1]/=e;d3[2]/=e}function hQ(e){return[Math.atan2(e[1],e[0]),b8(e[2])]}function eH(d3,e){return cy(d3[0]-e[0])<f8&&cy(d3[1]-e[1])<f8}g5.geo.bounds=function(){var hV,ib,d3,h9,hW,h3,h5,hX,h0,hY,h1;var e={point:h6,lineStart:h2,lineEnd:h8,polygonStart:function(){e.point=h7;e.lineStart=hZ;e.lineEnd=h4;h0=0;g2.polygonStart()},polygonEnd:function(){g2.polygonEnd();e.point=h6;e.lineStart=h2;e.lineEnd=h8;if(fC<0){hV=-(d3=180),ib=-(h9=90)}else{if(h0>f8){h9=90}else{if(h0<-f8){ib=-90}}}h1[0]=hV,h1[1]=d3}};function h6(ig,ie){hY.push(h1=[hV=ig,d3=ig]);if(ie<ib){ib=ie}if(ie>h9){h9=ie}}function hU(ij,iq){var ie=ar([ij*G,iq*G]);if(hX){var il=cQ(hX,ie),im=[il[1],-il[0],0],ik=cQ(im,il);e8(ik);ik=hQ(ik);var io=ij-hW,ip=io>0?1:-1,ig=ik[0]*hl*ip,ii=cy(io)>180;if(ii^(ip*hW<ig&&ig<ip*ij)){var ih=ik[1]*hl;if(ih>h9){h9=ih}}else{if(ig=(ig+360)%360-180,ii^(ip*hW<ig&&ig<ip*ij)){var ih=-ik[1]*hl;if(ih<ib){ib=ih}}else{if(iq<ib){ib=iq}if(iq>h9){h9=iq}}}if(ii){if(ij<hW){if(ia(hV,ij)>ia(hV,d3)){d3=ij}}else{if(ia(ij,d3)>ia(hV,d3)){hV=ij}}}else{if(d3>=hV){if(ij<hV){hV=ij}if(ij>d3){d3=ij}}else{if(ij>hW){if(ia(hV,ij)>ia(hV,d3)){d3=ij}}else{if(ia(ij,d3)>ia(hV,d3)){hV=ij}}}}}else{h6(ij,iq)}hX=ie,hW=ij}function h2(){e.point=hU}function h8(){h1[0]=hV,h1[1]=d3;e.point=h6;hX=null}function h7(ig,ie){if(hX){var ih=ig-hW;h0+=cy(ih)>180?ih+(ih>0?360:-360):ih}else{h3=ig,h5=ie}g2.point(ig,ie);hU(ig,ie)}function hZ(){g2.lineStart()}function h4(){h7(h3,h5);g2.lineEnd();if(cy(h0)>f8){hV=-(d3=180)}h1[0]=hV,h1[1]=d3;hX=null}function ia(ig,ie){return(ie-=ig)<0?ie+360:ie}function id(ig,ie){return ig[0]-ie[0]}function ic(ie,ig){return ig[0]<=ig[1]?ig[0]<=ie&&ie<=ig[1]:ie<ig[0]||ig[1]<ie}return function(ik){h9=d3=-(hV=ib=Infinity);hY=[];g5.geo.stream(ik,e);var im=hY.length;if(im){hY.sort(id);for(var ij=1,ih=hY[0],ig,ie=[ih];ij<im;++ij){ig=hY[ij];if(ic(ig[0],ih)||ic(ig[1],ih)){if(ia(ih[0],ig[1])>ia(ih[0],ih[1])){ih[1]=ig[1]}if(ia(ig[0],ih[1])>ia(ih[0],ih[1])){ih[0]=ig[0]}}else{ie.push(ih=ig)}}var il=-Infinity,ii;for(var im=ie.length-1,ij=0,ih=ie[im],ig;ij<=im;ih=ig,++ij){ig=ie[ij];if((ii=ia(ih[1],ig[0]))>il){il=ii,hV=ig[0],d3=ih[1]}}}hY=h1=null;return hV===Infinity||ib===Infinity?[[NaN,NaN],[NaN,NaN]]:[[hV,ib],[d3,h9]]}}();g5.geo.centroid=function(hU){d0=dY=dA=dd=cY=dz=dc=cW=dy=db=cV=0;g5.geo.stream(hU,f2);var d3=dy,hW=db,hV=cV,e=d3*d3+hW*hW+hV*hV;if(e<es){d3=dz,hW=dc,hV=cW;if(dY<f8){d3=dA,hW=dd,hV=cY}e=d3*d3+hW*hW+hV*hV;if(e<es){return[NaN,NaN]}}return[Math.atan2(hW,d3)*hl,b8(hV/Math.sqrt(e))*hl]};var d0,dY,dA,dd,cY,dz,dc,cW,dy,db,cV;var f2={sphere:aE,point:b3,lineStart:e7,lineEnd:aC,polygonStart:function(){f2.lineStart=bl},polygonEnd:function(){f2.lineStart=e7}};function b3(d3,e){d3*=G;var hU=Math.cos(e*=G);ge(hU*Math.cos(d3),hU*Math.sin(d3),Math.sin(e))}function ge(e,hU,d3){++d0;dA+=(e-dA)/d0;dd+=(hU-dd)/d0;cY+=(d3-cY)/d0}function e7(){var e,d3,hV;f2.point=function(hX,hW){hX*=G;var hY=Math.cos(hW*=G);e=hY*Math.cos(hX);d3=hY*Math.sin(hX);hV=Math.sin(hW);f2.point=hU;ge(e,d3,hV)};function hU(hZ,hY){hZ*=G;var h0=Math.cos(hY*=G),hW=h0*Math.cos(hZ),h2=h0*Math.sin(hZ),h1=Math.sin(hY),hX=Math.atan2(Math.sqrt((hX=d3*h1-hV*h2)*hX+(hX=hV*hW-e*h1)*hX+(hX=e*h2-d3*hW)*hX),e*hW+d3*h2+hV*h1);dY+=hX;dz+=hX*(e+(e=hW));dc+=hX*(d3+(d3=h2));cW+=hX*(hV+(hV=h1));ge(e,d3,hV)}}function aC(){f2.point=b3}function bl(){var d3,e,hU,hV,hX;f2.point=function(hZ,hY){d3=hZ,e=hY;f2.point=hW;hZ*=G;var h0=Math.cos(hY*=G);hU=h0*Math.cos(hZ);hV=h0*Math.sin(hZ);hX=Math.sin(hY);ge(hU,hV,hX)};f2.lineEnd=function(){hW(d3,e);f2.lineEnd=aC;f2.point=b3};function hW(h3,ia){h3*=G;var h1=Math.cos(ia*=G),h6=h1*Math.cos(h3),h5=h1*Math.sin(h3),h4=Math.sin(ia),h2=hV*h4-hX*h5,h0=hX*h6-hU*h4,hZ=hU*h5-hV*h6,hY=Math.sqrt(h2*h2+h0*h0+hZ*hZ),h9=hU*h6+hV*h5+hX*h4,h8=hY&&-aa(h9)/hY,h7=Math.atan2(hY,h9);dy+=h8*h2;db+=h8*h0;cV+=h8*hZ;dY+=h7;dz+=h7*(hU+(hU=h6));dc+=h7*(hV+(hV=h5));cW+=h7*(hX+(hX=h4));ge(hU,hV,hX)}}function ae(){return true}function ck(hY,d3,h2,h0,hV){var h1=[],hW=[];hY.forEach(function(ia){if((id=ia.length-1)<=0){return}var id,ic=ia[0],ib=ia[id];if(eH(ic,ib)){hV.lineStart();for(var h9=0;h9<id;++h9){hV.point((ic=ia[h9])[0],ic[1])}hV.lineEnd();return}var h8=new b(ic,ia,null,true),h7=new b(ic,null,h8,false);h8.o=h7;h1.push(h8);hW.push(h7);h8=new b(ib,ia,null,false);h7=new b(ib,null,h8,true);h8.o=h7;h1.push(h8);hW.push(h7)});hW.sort(d3);hr(h1);hr(hW);if(!h1.length){return}for(var hX=0,h4=h2,hU=hW.length;hX<hU;++hX){hW[hX].e=h4=!h4}var e=h1[0],h5,h3;while(1){var hZ=e,h6=true;while(hZ.v){if((hZ=hZ.n)===e){return}}h5=hZ.z;hV.lineStart();do{hZ.v=hZ.o.v=true;if(hZ.e){if(h6){for(var hX=0,hU=h5.length;hX<hU;++hX){hV.point((h3=h5[hX])[0],h3[1])}}else{h0(hZ.x,hZ.n.x,1,hV)}hZ=hZ.n}else{if(h6){h5=hZ.p.z;for(var hX=h5.length-1;hX>=0;--hX){hV.point((h3=h5[hX])[0],h3[1])}}else{h0(hZ.x,hZ.p.x,-1,hV)}hZ=hZ.p}hZ=hZ.o;h5=hZ.z;h6=!h6}while(!hZ.v);hV.lineEnd()}}function hr(hW){if(!(hV=hW.length)){return}var hV,hU=0,d3=hW[0],e;while(++hU<hV){d3.n=e=hW[hU];e.p=d3;d3=e}d3.n=e=hW[0];e.p=d3}function b(d3,hU,e,hV){this.x=d3;this.z=hU;this.o=e;this.e=hV;this.v=false;this.n=this.p=null}function d7(e,hV,d3,hU){return function(ib,h0){var h4=hV(h0),hZ=ib.invert(hU[0],hU[1]);var id={point:h8,lineStart:h6,lineEnd:ic,polygonStart:function(){id.point=hX;id.lineStart=h1;id.lineEnd=h7;h9=[];h5=[]},polygonEnd:function(){id.point=h8;id.lineStart=h6;id.lineEnd=ic;h9=g5.merge(h9);var ie=fz(hZ,h5);if(h9.length){if(!hY){h0.polygonStart(),hY=true}ck(h9,dL,ie,d3,h0)}else{if(ie){if(!hY){h0.polygonStart(),hY=true}h0.lineStart();d3(null,null,1,h0);h0.lineEnd()}}if(hY){h0.polygonEnd(),hY=false}h9=h5=null},sphere:function(){h0.polygonStart();h0.lineStart();d3(null,null,1,h0);h0.lineEnd();h0.polygonEnd()}};function h8(ih,ig){var ie=ib(ih,ig);if(e(ih=ie[0],ig=ie[1])){h0.point(ih,ig)}}function h2(ih,ig){var ie=ib(ih,ig);h4.point(ie[0],ie[1])}function h6(){id.point=h2;h4.lineStart()}function ic(){id.point=h8;h4.lineEnd()}var h9;var ia=N(),hW=hV(ia),hY=false,h5,h3;function hX(ih,ig){h3.push([ih,ig]);var ie=ib(ih,ig);hW.point(ie[0],ie[1])}function h1(){hW.lineStart();h3=[]}function h7(){hX(h3[0][0],h3[0][1]);hW.lineEnd();var ih=hW.clean(),ij=ia.buffer(),ii,ik=ij.length;h3.pop();h5.push(h3);h3=null;if(!ik){return}if(ih&1){ii=ij[0];var ik=ii.length-1,ig=-1,ie;if(ik>0){if(!hY){h0.polygonStart(),hY=true}h0.lineStart();while(++ig<ik){h0.point((ie=ii[ig])[0],ie[1])}h0.lineEnd()}return}if(ik>1&&ih&2){ij.push(ij.pop().concat(ij.shift()))}h9.push(ij.filter(eC))}return id}}function eC(e){return e.length>1}function N(){var d3=[],e;return{lineStart:function(){d3.push(e=[])},point:function(hV,hU){e.push([hV,hU])},lineEnd:aE,buffer:function(){var hU=d3;d3=[];e=null;return hU},rejoin:function(){if(d3.length>1){d3.push(d3.pop().concat(d3.shift()))}}}}function dL(d3,e){return((d3=d3.x)[0]<0?d3[1]-ed-f8:ed-d3[1])-((e=e.x)[0]<0?e[1]-ed-f8:ed-e[1])}function fz(ib,h7){var ik=ib[0],il=ib[1],e=[Math.sin(ik),-Math.cos(ik),0],h6=0,ii=0;fC.reset();for(var ih=0,h8=h7.length;ih<h8;++ih){var h0=h7[ih],ia=h0.length;if(!ia){continue}var hX=h0[0],hU=hX[0],ij=hX[1]/2+fZ/4,hZ=Math.sin(ij),d3=Math.cos(ij),ig=1;while(true){if(ig===ia){ig=0}ib=h0[ig];var h9=ib[0],h5=ib[1]/2+fZ/4,hV=Math.sin(h5),ie=Math.cos(h5),id=h9-hU,h1=id>=0?1:-1,h3=h1*id,hW=h3>fZ,ic=hZ*hV;fC.add(Math.atan2(ic*h1*Math.sin(h3),d3*ie+ic*Math.cos(h3)));h6+=hW?id+h1*fT:id;if(hW^hU>=ik^h9>=ik){var h2=cQ(ar(hX),ar(ib));e8(h2);var h4=cQ(e,h2);e8(h4);var hY=(hW^id>=0?-1:1)*b8(h4[2]);if(il>hY||il===hY&&(h2[0]||h2[1])){ii+=hW^id>=0?1:-1}}if(!ig++){break}hU=h9,hZ=hV,d3=ie,hX=ib}}return(h6<-f8||h6<f8&&fC<0)^ii&1}var i=d7(ae,et,c3,[-fZ,-fZ/2]);function et(hW){var d3=NaN,e=NaN,hV=NaN,hU;return{lineStart:function(){hW.lineStart();hU=1},point:function(hY,hX){var h0=hY>0?fZ:-fZ,hZ=cy(hY-d3);if(cy(hZ-fZ)<f8){hW.point(d3,e=(e+hX)/2>0?ed:-ed);hW.point(hV,e);hW.lineEnd();hW.lineStart();hW.point(h0,e);hW.point(hY,e);hU=0}else{if(hV!==h0&&hZ>=fZ){if(cy(d3-hV)<f8){d3-=hV*f8}if(cy(hY-h0)<f8){hY-=h0*f8}e=s(d3,e,hY,hX);hW.point(hV,e);hW.lineEnd();hW.lineStart();hW.point(h0,e);hU=0}}hW.point(d3=hY,e=hX);hV=h0},lineEnd:function(){hW.lineEnd();d3=e=NaN},clean:function(){return 2-hU}}}function s(hX,hW,hV,hU){var d3,e,hY=Math.sin(hX-hV);return cy(hY)>f8?Math.atan((Math.sin(hW)*(e=Math.cos(hU))*Math.sin(hV)-Math.sin(hU)*(d3=Math.cos(hW))*Math.sin(hX))/(d3*e*hY)):(hW+hU)/2}function c3(hX,hW,hV,hU){var e;if(hX==null){e=hV*ed;hU.point(-fZ,e);hU.point(0,e);hU.point(fZ,e);hU.point(fZ,0);hU.point(fZ,-e);hU.point(0,-e);hU.point(-fZ,-e);hU.point(-fZ,0);hU.point(-fZ,e)}else{if(cy(hX[0]-hW[0])>f8){var d3=hX[0]<hW[0]?fZ:-fZ;e=hV*d3/2;hU.point(-d3,e);hU.point(0,e);hU.point(d3,e)}else{hU.point(hW[0],hW[1])}}}function aI(hW){var hX=Math.cos(hW),hV=hX>0,hY=cy(hX)>f8,hZ=bY(hW,6*G);return d7(hU,h0,hZ,hV?[0,-hW]:[-fZ,hW-fZ]);function hU(h2,h1){return Math.cos(h2)*Math.cos(h1)>hX}function h0(h6){var h5,h4,h1,h3,h2;return{lineStart:function(){h3=h1=false;h2=1},point:function(h8,h7){var ic=[h8,h7],ib,h9=hU(h8,h7),id=hV?h9?0:e(h8,h7):h9?e(h8+(h8<0?fZ:-fZ),h7):0;if(!h5&&(h3=h1=h9)){h6.lineStart()}if(h9!==h1){ib=d3(h5,ic);if(eH(h5,ib)||eH(ic,ib)){ic[0]+=f8;ic[1]+=f8;h9=hU(ic[0],ic[1])}}if(h9!==h1){h2=0;if(h9){h6.lineStart();ib=d3(ic,h5);h6.point(ib[0],ib[1])}else{ib=d3(h5,ic);h6.point(ib[0],ib[1]);h6.lineEnd()}h5=ib}else{if(hY&&h5&&hV^h9){var ia;if(!(id&h4)&&(ia=d3(ic,h5,true))){h2=0;if(hV){h6.lineStart();h6.point(ia[0][0],ia[0][1]);h6.point(ia[1][0],ia[1][1]);h6.lineEnd()}else{h6.point(ia[1][0],ia[1][1]);h6.lineEnd();h6.lineStart();h6.point(ia[0][0],ia[0][1])}}}}if(h9&&(!h5||!eH(h5,ic))){h6.point(ic[0],ic[1])}h5=ic,h1=h9,h4=id},lineEnd:function(){if(h1){h6.lineEnd()}h5=null},clean:function(){return h2|(h3&&h1)<<1}}}function d3(iv,iu,h5){var h3=ar(iv),h1=ar(iu);var ia=[1,0,0],h7=cQ(h3,h1),id=av(h7,h7),it=h7[0],ik=id-it*it;if(!ik){return !h5&&iv}var io=hX*id/ik,im=-hX*it/ik,iw=cQ(ia,h7),il=f0(ia,io),ij=f0(h7,im);cu(il,ij);var ig=iw,ie=av(il,ig),h6=av(ig,ig),ic=ie*ie-h6*(av(il,il)-1);if(ic<0){return}var ih=Math.sqrt(ic),ii=f0(ig,(-ie-ih)/h6);cu(ii,il);ii=hQ(ii);if(!h5){return ii}var h4=iv[0],h2=iu[0],iq=iv[1],ip=iu[1],h9;if(h2<h4){h9=h4,h4=h2,h2=h9}var h8=h2-h4,ix=cy(h8-fZ)<f8,ir=ix||h8<f8;if(!ix&&ip<iq){h9=iq,iq=ip,ip=h9}if(ir?ix?iq+ip>0^ii[1]<(cy(ii[0]-h4)<f8?iq:ip):iq<=ii[1]&&ii[1]<=ip:h8>fZ^(h4<=ii[0]&&ii[0]<=h2)){var ib=f0(ig,(-ie+ih)/h6);cu(ib,il);return[ii,hQ(ib)]}}function e(h2,h1){var h4=hV?hW:fZ-hW,h3=0;if(h2<-h4){h3|=1}else{if(h2>h4){h3|=2}}if(h1<-h4){h3|=4}else{if(h1>h4){h3|=8}}return h3}}function ah(d3,hV,e,hU){return function(h7){var h3=h7.a,h2=h7.b,hX=h3.x,h6=h3.y,h1=h2.x,h0=h2.y,hZ=0,hY=1,h5=h1-hX,h4=h0-h6,hW;hW=d3-hX;if(!h5&&hW>0){return}hW/=h5;if(h5<0){if(hW<hZ){return}if(hW<hY){hY=hW}}else{if(h5>0){if(hW>hY){return}if(hW>hZ){hZ=hW}}}hW=e-hX;if(!h5&&hW<0){return}hW/=h5;if(h5<0){if(hW>hY){return}if(hW>hZ){hZ=hW}}else{if(h5>0){if(hW<hZ){return}if(hW<hY){hY=hW}}}hW=hV-h6;if(!h4&&hW>0){return}hW/=h4;if(h4<0){if(hW<hZ){return}if(hW<hY){hY=hW}}else{if(h4>0){if(hW>hY){return}if(hW>hZ){hZ=hW}}}hW=hU-h6;if(!h4&&hW<0){return}hW/=h4;if(h4<0){if(hW>hY){return}if(hW>hZ){hZ=hW}}else{if(h4>0){if(hW<hZ){return}if(hW<hY){hY=hW}}}if(hZ>0){h7.a={x:hX+hZ*h5,y:h6+hZ*h4}}if(hY<1){h7.b={x:hX+hY*h5,y:h6+hY*h4}}return h7}}var cB=1000000000;g5.geo.clipExtent=function(){var hU,hX,d3,hV,hY,hW,e={stream:function(hZ){if(hY){hY.valid=false}hY=hW(hZ);hY.valid=true;return hY},extent:function(hZ){if(!arguments.length){return[[hU,hX],[d3,hV]]}hW=d4(hU=+hZ[0][0],hX=+hZ[0][1],d3=+hZ[1][0],hV=+hZ[1][1]);if(hY){hY.valid=false,hY=null}return e}};return e.extent([[0,0],[960,500]])};function d4(d3,hW,e,hU){return function(h4){var h0=h4,h9=N(),h1=ah(d3,hW,e,hU),ii,ia,h7;var im={point:ih,lineStart:id,lineEnd:ik,polygonStart:function(){h4=h9;ii=[];ia=[];ij=true},polygonEnd:function(){h4=h0;ii=g5.merge(ii);var ip=ic([d3,hU]),io=ij&&ip,iq=ii.length;if(io||iq){h4.polygonStart();if(io){h4.lineStart();h8(null,null,1,h4);h4.lineEnd()}if(iq){ck(ii,hX,ip,h8,h4)}h4.polygonEnd()}ii=ia=h7=null}};function ic(io){var ix=0,ip=ia.length,iv=io[1];for(var it=0;it<ip;++it){for(var ir=1,iy=ia[it],iq=iy.length,iw=iy[0],iu;ir<iq;++ir){iu=iy[ir];if(iw[1]<=iv){if(iu[1]>iv&&eO(iw,iu,io)>0){++ix}}else{if(iu[1]<=iv&&eO(iw,iu,io)<0){--ix}}iw=iu}}return ix!==0}function h8(iu,it,ir,iq){var ip=0,io=0;if(iu==null||(ip=hV(iu,ir))!==(io=hV(it,ir))||hY(iu,it)<0^ir>0){do{iq.point(ip===0||ip===3?d3:e,ip>1?hU:hW)}while((ip=(ip+ir+4)%4)!==io)}else{iq.point(it[0],it[1])}}function ib(io,ip){return d3<=io&&io<=e&&hW<=ip&&ip<=hU}function ih(io,ip){if(ib(io,ip)){h4.point(io,ip)}}var ig,h5,ie,il,h3,h2,h6,ij;function id(){im.point=hZ;if(ia){ia.push(h7=[])}h6=true;h2=false;il=h3=NaN}function ik(){if(ii){hZ(ig,h5);if(ie&&h2){h9.rejoin()}ii.push(h9.buffer())}im.point=ih;if(h2){h4.lineEnd()}}function hZ(io,ir){io=Math.max(-cB,Math.min(cB,io));ir=Math.max(-cB,Math.min(cB,ir));var iq=ib(io,ir);if(ia){h7.push([io,ir])}if(h6){ig=io,h5=ir,ie=iq;h6=false;if(iq){h4.lineStart();h4.point(io,ir)}}else{if(iq&&h2){h4.point(io,ir)}else{var ip={a:{x:il,y:h3},b:{x:io,y:ir}};if(h1(ip)){if(!h2){h4.lineStart();h4.point(ip.a.x,ip.a.y)}h4.point(ip.b.x,ip.b.y);if(!iq){h4.lineEnd()}ij=false}else{if(iq){h4.lineStart();h4.point(io,ir);ij=false}}}}il=io,h3=ir,h2=iq}return im};function hV(h0,hZ){return cy(h0[0]-d3)<f8?hZ>0?0:3:cy(h0[0]-e)<f8?hZ>0?2:1:cy(h0[1]-hW)<f8?hZ>0?1:0:hZ>0?3:2}function hX(h0,hZ){return hY(h0.x,hZ.x)}function hY(h2,h0){var h1=hV(h2,1),hZ=hV(h0,1);return h1!==hZ?h1-hZ:h1===0?h0[1]-h2[1]:h1===1?h2[0]-h0[0]:h1===2?h2[1]-h0[1]:h0[0]-h2[0]}}function eU(d3,e){function hU(hV,hW){return hV=d3(hV,hW),e(hV[0],hV[1])}if(d3.invert&&e.invert){hU.invert=function(hV,hW){return hV=e.invert(hV,hW),hV&&d3.invert(hV[0],hV[1])}}return hU}function b0(hV){var hU=0,d3=fZ/3,e=e5(hV),hW=e(hU,d3);hW.parallels=function(hX){if(!arguments.length){return[hU/fZ*180,d3/fZ*180]}return e(hU=hX[0]*fZ/180,d3=hX[1]*fZ/180)};return hW}function K(d3,e){var hW=Math.sin(d3),hY=(hW+Math.sin(e))/2,hX=1+hW*(2*hY-hW),hV=Math.sqrt(hX)/hY;function hU(h0,hZ){var h1=Math.sqrt(hX-2*hY*Math.sin(hZ))/hY;return[h1*Math.sin(h0*=hY),hV-h1*Math.cos(h0)]}hU.invert=function(hZ,h1){var h0=hV-h1;return[Math.atan2(hZ,h0)/hY,b8((hX-(hZ*hZ+h0*h0)*hY*hY)/(2*hY))]};return hU}(g5.geo.conicEqualArea=function(){return b0(K)}).raw=K;g5.geo.albers=function(){return g5.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};g5.geo.albersUsa=function(){var d3=g5.geo.albers();var hX=g5.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var hU=g5.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var hZ,e={point:function(h1,h2){hZ=[h1,h2]}},hW,hY,hV;function h0(h2){var h1=h2[0],h3=h2[1];hZ=null;(hW(h1,h3),hZ)||(hY(h1,h3),hZ)||hV(h1,h3);return hZ}h0.invert=function(h4){var h2=d3.scale(),h3=d3.translate(),h1=(h4[0]-h3[0])/h2,h5=(h4[1]-h3[1])/h2;return(h5>=0.12&&h5<0.234&&h1>=-0.425&&h1<-0.214?hX:h5>=0.166&&h5<0.234&&h1>=-0.214&&h1<-0.115?hU:d3).invert(h4)};h0.stream=function(h3){var h2=d3.stream(h3),h4=hX.stream(h3),h1=hU.stream(h3);return{point:function(h5,h6){h2.point(h5,h6);h4.point(h5,h6);h1.point(h5,h6)},sphere:function(){h2.sphere();h4.sphere();h1.sphere()},lineStart:function(){h2.lineStart();h4.lineStart();h1.lineStart()},lineEnd:function(){h2.lineEnd();h4.lineEnd();h1.lineEnd()},polygonStart:function(){h2.polygonStart();h4.polygonStart();h1.polygonStart()},polygonEnd:function(){h2.polygonEnd();h4.polygonEnd();h1.polygonEnd()}}};h0.precision=function(h1){if(!arguments.length){return d3.precision()}d3.precision(h1);hX.precision(h1);hU.precision(h1);return h0};h0.scale=function(h1){if(!arguments.length){return d3.scale()}d3.scale(h1);hX.scale(h1*0.35);hU.scale(h1);return h0.translate(d3.translate())};h0.translate=function(h3){if(!arguments.length){return d3.translate()}var h2=d3.scale(),h1=+h3[0],h4=+h3[1];hW=d3.translate(h3).clipExtent([[h1-0.455*h2,h4-0.238*h2],[h1+0.455*h2,h4+0.238*h2]]).stream(e).point;hY=hX.translate([h1-0.307*h2,h4+0.201*h2]).clipExtent([[h1-0.425*h2+f8,h4+0.12*h2+f8],[h1-0.214*h2-f8,h4+0.234*h2-f8]]).stream(e).point;hV=hU.translate([h1-0.205*h2,h4+0.212*h2]).clipExtent([[h1-0.214*h2+f8,h4+0.166*h2+f8],[h1-0.115*h2-f8,h4+0.234*h2-f8]]).stream(e).point;return h0};return h0.scale(1070)};var fA,y,dq={point:aE,lineStart:aE,lineEnd:aE,polygonStart:function(){y=0;dq.lineStart=cD},polygonEnd:function(){dq.lineStart=dq.lineEnd=dq.point=aE;fA+=cy(y/2)}};function cD(){var hV,e,d3,hU;dq.point=function(hX,hY){dq.point=hW;hV=d3=hX,e=hU=hY};function hW(hX,hY){y+=hU*hX-d3*hY;d3=hX,hU=hY}dq.lineEnd=function(){hW(hV,e)}}var eA,ec,ey,eb;var au={point:cL,lineStart:aE,lineEnd:aE,polygonStart:aE,polygonEnd:aE};function cL(e,d3){if(e<eA){eA=e}if(e>ey){ey=e}if(d3<ec){ec=d3}if(d3>eb){eb=d3}}function cc(){var hU=gP(4.5),d3=[];var hZ={point:e,lineStart:function(){hZ.point=hY},lineEnd:hX,polygonStart:function(){hZ.lineEnd=hV},polygonEnd:function(){hZ.lineEnd=hX;hZ.point=e},pointRadius:function(h0){hU=gP(h0);return hZ},result:function(){if(d3.length){var h0=d3.join("");d3=[];return h0}}};function e(h0,h1){d3.push("M",h0,",",h1,hU)}function hY(h0,h1){d3.push("M",h0,",",h1);hZ.point=hW}function hW(h0,h1){d3.push("L",h0,",",h1)}function hX(){hZ.point=e}function hV(){d3.push("Z")}return hZ}function gP(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var gO={point:cH,lineStart:fE,lineEnd:cG,polygonStart:function(){gO.lineStart=bT},polygonEnd:function(){gO.point=cH;gO.lineStart=fE;gO.lineEnd=cG}};function cH(e,d3){dA+=e;dd+=d3;++cY}function fE(){var e,d3;gO.point=function(hV,hW){gO.point=hU;cH(e=hV,d3=hW)};function hU(hV,hZ){var hX=hV-e,hW=hZ-d3,hY=Math.sqrt(hX*hX+hW*hW);dz+=hY*(e+hV)/2;dc+=hY*(d3+hZ)/2;cW+=hY;cH(e=hV,d3=hZ)}}function cG(){gO.point=cH}function bT(){var hV,e,d3,hU;gO.point=function(hX,hY){gO.point=hW;cH(hV=d3=hX,e=hU=hY)};function hW(hX,h1){var hZ=hX-d3,hY=h1-hU,h0=Math.sqrt(hZ*hZ+hY*hY);dz+=h0*(d3+hX)/2;dc+=h0*(hU+h1)/2;cW+=h0;h0=hU*hX-d3*h1;dy+=h0*(d3+hX);db+=h0*(hU+h1);cV+=h0*3;cH(d3=hX,hU=h1)}gO.lineEnd=function(){hW(hV,e)}}function cx(d3){var hW=4.5;var hZ={point:e,lineStart:function(){hZ.point=hY},lineEnd:hX,polygonStart:function(){hZ.lineEnd=hU},polygonEnd:function(){hZ.lineEnd=hX;hZ.point=e},pointRadius:function(h0){hW=h0;return hZ},result:aE};function e(h0,h1){d3.moveTo(h0,h1);d3.arc(h0,h1,hW,0,fT)}function hY(h0,h1){d3.moveTo(h0,h1);hZ.point=hV}function hV(h0,h1){d3.lineTo(h0,h1)}function hX(){hZ.point=e}function hU(){d3.closePath()}return hZ}function fB(hY){var hW=0.5,hX=Math.cos(30*G),hZ=16;function hU(h0){return(hZ?hV:e)(h0)}function e(h0){return ev(h0,function(h1,h2){h1=hY(h1,h2);h0.point(h1[0],h1[1])})}function hV(h6){var ib,ii,ih,h7,il,h9,h1,h2,ik,h3,im,h8,ic;var h4={point:ig,lineStart:ia,lineEnd:ij,polygonStart:function(){h6.polygonStart();h4.lineStart=h5},polygonEnd:function(){h6.polygonEnd();h4.lineStart=ia}};function ig(io,ip){io=hY(io,ip);h6.point(io[0],io[1])}function ia(){ik=NaN;h4.point=h0;h6.lineStart()}function h0(ip,io){var ir=ar([ip,io]),iq=hY(ip,io);d3(ik,h3,h2,im,h8,ic,ik=iq[0],h3=iq[1],h2=ip,im=ir[0],h8=ir[1],ic=ir[2],hZ,h6);h6.point(ik,h3)}function ij(){h4.point=ig;h6.lineEnd()}function h5(){ia();h4.point=ie;h4.lineEnd=id}function ie(ip,io){h0(ib=ip,ii=io),ih=ik,h7=h3,il=im,h9=h8,h1=ic;h4.point=h0}function id(){d3(ik,h3,h2,im,h8,ic,ih,h7,ib,il,h9,h1,hZ,h6);h4.lineEnd=ij;ij()}return h4}function d3(im,h6,h2,iv,h9,ii,il,h5,h1,it,h8,ig,ir,h7){var id=il-im,ic=h5-h6,iu=id*id+ic*ic;if(iu>4*hW&&ir--){var iq=iv+it,ip=h9+h8,io=ii+ig,ih=Math.sqrt(iq*iq+ip*ip+io*io),ik=Math.asin(io/=ih),h0=cy(cy(io)-1)<f8||cy(h2-h1)<f8?(h2+h1)/2:Math.atan2(ip,iq),ie=hY(h0,ik),ij=ie[0],h4=ie[1],h3=ij-im,ib=h4-h6,ia=ic*h3-id*ib;if(ia*ia/iu>hW||cy((id*h3+ic*ib)/iu-0.5)>0.3||iv*it+h9*h8+ii*ig<hX){d3(im,h6,h2,iv,h9,ii,ij,h4,h0,iq/=ih,ip/=ih,io,ir,h7);h7.point(ij,h4);d3(ij,h4,h0,iq,ip,io,il,h5,h1,it,h8,ig,ir,h7)}}}hU.precision=function(h0){if(!arguments.length){return Math.sqrt(hW)}hZ=(hW=h0*h0)>0&&16;return hU};return hU}g5.geo.path=function(){var hY=4.5,d3,hV,hW,e,hU;function hZ(h0){if(h0){if(typeof hY==="function"){e.pointRadius(+hY.apply(this,arguments))}if(!hU||!hU.valid){hU=hW(e)}g5.geo.stream(h0,hU)}return e.result()}hZ.area=function(h0){fA=0;g5.geo.stream(h0,hW(dq));return fA};hZ.centroid=function(h0){dA=dd=cY=dz=dc=cW=dy=db=cV=0;g5.geo.stream(h0,hW(gO));return cV?[dy/cV,db/cV]:cW?[dz/cW,dc/cW]:cY?[dA/cY,dd/cY]:[NaN,NaN]};hZ.bounds=function(h0){ey=eb=-(eA=ec=Infinity);g5.geo.stream(h0,hW(au));return[[eA,ec],[ey,eb]]};hZ.projection=function(h0){if(!arguments.length){return d3}hW=(d3=h0)?h0.stream||gY(h0):f6;return hX()};hZ.context=function(h0){if(!arguments.length){return hV}e=(hV=h0)==null?new cc():new cx(h0);if(typeof hY!=="function"){e.pointRadius(hY)}return hX()};hZ.pointRadius=function(h0){if(!arguments.length){return hY}hY=typeof h0==="function"?h0:(e.pointRadius(+h0),+h0);return hZ};function hX(){hU=null;return hZ}return hZ.projection(g5.geo.albersUsa()).context(null)};function gY(d3){var e=fB(function(hU,hV){return d3([hU*hl,hV*hl])});return function(hU){return ca(e(hU))}}g5.geo.transform=function(e){return{stream:function(hV){var hU=new dZ(hV);for(var d3 in e){hU[d3]=e[d3]}return hU}}};function dZ(e){this.stream=e}dZ.prototype={point:function(e,d3){this.stream.point(e,d3)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ev(d3,e){return{point:e,sphere:function(){d3.sphere()},lineStart:function(){d3.lineStart()},lineEnd:function(){d3.lineEnd()},polygonStart:function(){d3.polygonStart()},polygonEnd:function(){d3.polygonEnd()}}}g5.geo.projection=fo;g5.geo.projectionMutator=e5;function fo(e){return e5(function(){return e})()}function e5(h6){var hV,ib,hZ,h8=fB(function(ih,ii){ih=hV(ih,ii);return[ih[0]*ia+hX,hU-ih[1]*ia]}),ia=150,h4=480,h2=250,h9=0,h3=0,h0=0,hW=0,h7=0,hX,hU,ig=i,ic=f6,e=null,d3=null,hY;function ie(ih){ih=hZ(ih[0]*G,ih[1]*G);return[ih[0]*ia+hX,hU-ih[1]*ia]}function h5(ih){ih=hZ.invert((ih[0]-hX)/ia,(hU-ih[1])/ia);return ih&&[ih[0]*hl,ih[1]*hl]}ie.stream=function(ih){if(hY){hY.valid=false}hY=ca(ig(ib,h8(ic(ih))));hY.valid=true;return hY};ie.clipAngle=function(ih){if(!arguments.length){return e}ig=ih==null?(e=ih,i):aI((e=+ih)*G);return h1()};ie.clipExtent=function(ih){if(!arguments.length){return d3}d3=ih;ic=ih?d4(ih[0][0],ih[0][1],ih[1][0],ih[1][1]):f6;return h1()};ie.scale=function(ih){if(!arguments.length){return ia}ia=+ih;return id()};ie.translate=function(ih){if(!arguments.length){return[h4,h2]}h4=+ih[0];h2=+ih[1];return id()};ie.center=function(ih){if(!arguments.length){return[h9*hl,h3*hl]}h9=ih[0]%360*G;h3=ih[1]%360*G;return id()};ie.rotate=function(ih){if(!arguments.length){return[h0*hl,hW*hl,h7*hl]}h0=ih[0]%360*G;hW=ih[1]%360*G;h7=ih.length>2?ih[2]%360*G:0;return id()};g5.rebind(ie,h8,"precision");function id(){hZ=eU(ib=dw(h0,hW,h7),hV);var ih=hV(h9,h3);hX=h4-ih[0]*ia;hU=h2+ih[1]*ia;return h1()}function h1(){if(hY){hY.valid=false,hY=null}return ie}return function(){hV=h6.apply(this,arguments);ie.invert=hV.invert&&h5;return id()}}function ca(e){return ev(e,function(d3,hU){e.point(d3*G,hU*G)})}function bt(d3,e){return[d3,e]}(g5.geo.equirectangular=function(){return fo(bt)}).raw=bt.invert=bt;g5.geo.rotation=function(d3){d3=dw(d3[0]%360*G,d3[1]*G,d3.length>2?d3[2]*G:0);function e(hU){hU=d3(hU[0]*G,hU[1]*G);return hU[0]*=hl,hU[1]*=hl,hU}e.invert=function(hU){hU=d3.invert(hU[0]*G,hU[1]*G);return hU[0]*=hl,hU[1]*=hl,hU};return e};function bC(d3,e){return[d3>fZ?d3-fT:d3<-fZ?d3+fT:d3,e]}bC.invert=bt;function dw(hU,d3,e){return hU?d3||e?eU(eP(hU),bN(d3,e)):eP(hU):d3||e?bN(d3,e):bC}function gI(e){return function(hU,d3){return hU+=e,[hU>fZ?hU-fT:hU<-fZ?hU+fT:hU,d3]}}function eP(d3){var e=gI(d3);e.invert=gI(-d3);return e}function bN(hX,d3){var hW=Math.cos(hX),hY=Math.sin(hX),e=Math.cos(d3),hU=Math.sin(d3);function hV(h1,h0){var h3=Math.cos(h0),hZ=Math.cos(h1)*h3,h5=Math.sin(h1)*h3,h4=Math.sin(h0),h2=h4*hW+hZ*hY;return[Math.atan2(h5*e-h2*hU,hZ*hW-h4*hY),b8(h2*e+h5*hU)]}hV.invert=function(h1,h0){var h3=Math.cos(h0),hZ=Math.cos(h1)*h3,h5=Math.sin(h1)*h3,h4=Math.sin(h0),h2=h4*e-h5*hU;return[Math.atan2(h5*e+h4*hU,hZ*hW+h2*hY),b8(h2*hW-hZ*hY)]};return hV}g5.geo.circle=function(){var d3=[0,0],hW,e=6,hU;function hV(){var hX=typeof d3==="function"?d3.apply(this,arguments):d3,hZ=dw(-hX[0]*G,-hX[1]*G,0).invert,hY=[];hU(null,null,1,{point:function(h0,h1){hY.push(h0=hZ(h0,h1));h0[0]*=hl,h0[1]*=hl}});return{type:"Polygon",coordinates:[hY]}}hV.origin=function(hX){if(!arguments.length){return d3}d3=hX;return hV};hV.angle=function(hX){if(!arguments.length){return hW}hU=bY((hW=+hX)*G,e*G);return hV};hV.precision=function(hX){if(!arguments.length){return e}hU=bY(hW*G,(e=+hX)*G);return hV};return hV.angle(90)};function bY(e,d3){var hV=Math.cos(e),hU=Math.sin(e);return function(h2,h1,h0,hZ){var hY=h0*d3;if(h2!=null){h2=hA(hV,h2);h1=hA(hV,h1);if(h0>0?h2<h1:h2>h1){h2+=h0*fT}}else{h2=e+h0*fT;h1=e-0.5*hY}for(var hW,hX=h2;h0>0?hX>h1:hX<h1;hX-=hY){hZ.point((hW=hQ([hV,-hU*Math.cos(hX),-hU*Math.sin(hX)]))[0],hW[1])}}}function hA(hU,e){var d3=ar(e);d3[0]-=hU;e8(d3);var hV=aa(-d3[1]);return((-d3[2]<0?-hV:hV)+2*Math.PI-f8)%(2*Math.PI)}g5.geo.distance=function(hZ,hY){var h0=(hY[0]-hZ[0])*G,h2=hZ[1]*G,h1=hY[1]*G,hW=Math.sin(h0),d3=Math.cos(h0),hX=Math.sin(h2),hU=Math.cos(h2),hV=Math.sin(h1),e=Math.cos(h1),h3;return Math.atan2(Math.sqrt((h3=e*hW)*h3+(h3=hU*hV-hX*e*d3)*h3),hX*hV+hU*e*d3)};g5.geo.graticule=function(){var h6,h8,h9,ia,hV,hW,hX,hZ,h4=10,h3=h4,h0=90,hY=360,h2,h1,hU,d3,h5=2.5;function h7(){return{type:"MultiLineString",coordinates:e()}}function e(){return g5.range(Math.ceil(ia/h0)*h0,h9,h0).map(hU).concat(g5.range(Math.ceil(hZ/hY)*hY,hX,hY).map(d3)).concat(g5.range(Math.ceil(h8/h4)*h4,h6,h4).filter(function(ib){return cy(ib%h0)>f8}).map(h2)).concat(g5.range(Math.ceil(hW/h3)*h3,hV,h3).filter(function(ib){return cy(ib%hY)>f8}).map(h1))}h7.lines=function(){return e().map(function(ib){return{type:"LineString",coordinates:ib}})};h7.outline=function(){return{type:"Polygon",coordinates:[hU(ia).concat(d3(hX).slice(1),hU(h9).reverse().slice(1),d3(hZ).reverse().slice(1))]}};h7.extent=function(ib){if(!arguments.length){return h7.minorExtent()}return h7.majorExtent(ib).minorExtent(ib)};h7.majorExtent=function(ib){if(!arguments.length){return[[ia,hZ],[h9,hX]]}ia=+ib[0][0],h9=+ib[1][0];hZ=+ib[0][1],hX=+ib[1][1];if(ia>h9){ib=ia,ia=h9,h9=ib}if(hZ>hX){ib=hZ,hZ=hX,hX=ib}return h7.precision(h5)};h7.minorExtent=function(ib){if(!arguments.length){return[[h8,hW],[h6,hV]]}h8=+ib[0][0],h6=+ib[1][0];hW=+ib[0][1],hV=+ib[1][1];if(h8>h6){ib=h8,h8=h6,h6=ib}if(hW>hV){ib=hW,hW=hV,hV=ib}return h7.precision(h5)};h7.step=function(ib){if(!arguments.length){return h7.minorStep()}return h7.majorStep(ib).minorStep(ib)};h7.majorStep=function(ib){if(!arguments.length){return[h0,hY]}h0=+ib[0],hY=+ib[1];return h7};h7.minorStep=function(ib){if(!arguments.length){return[h4,h3]}h4=+ib[0],h3=+ib[1];return h7};h7.precision=function(ib){if(!arguments.length){return h5}h5=+ib;h2=aH(hW,hV,90);h1=aG(h8,h6,h5);hU=aH(hZ,hX,90);d3=aG(ia,h9,h5);return h7};return h7.majorExtent([[-180,-90+f8],[180,90-f8]]).minorExtent([[-180,-80-f8],[180,80+f8]])};function aH(hU,d3,e){var hV=g5.range(hU,d3-f8,e).concat(d3);return function(hW){return hV.map(function(hX){return[hW,hX]})}}function aG(hV,hU,d3){var e=g5.range(hV,hU-f8,d3).concat(hU);return function(hW){return e.map(function(hX){return[hX,hW]})}}function hq(e){return e.source}function hy(e){return e.target}g5.geo.greatArc=function(){var hU=hq,d3,hV=hy,hW;function e(){return{type:"LineString",coordinates:[d3||hU.apply(this,arguments),hW||hV.apply(this,arguments)]}}e.distance=function(){return g5.geo.distance(d3||hU.apply(this,arguments),hW||hV.apply(this,arguments))};e.source=function(hX){if(!arguments.length){return hU}hU=hX,d3=typeof hX==="function"?null:hX;return e};e.target=function(hX){if(!arguments.length){return hV}hV=hX,hW=typeof hX==="function"?null:hX;return e};e.precision=function(){return arguments.length?e:0};return e};g5.geo.interpolate=function(e,d3){return f(e[0]*G,e[1]*G,d3[0]*G,d3[1]*G)};function f(hV,h6,hU,h4){var hY=Math.cos(h6),h5=Math.sin(h6),hW=Math.cos(h4),h3=Math.sin(h4),h0=hY*Math.cos(hV),d3=hY*Math.sin(hV),hZ=hW*Math.cos(hU),e=hW*Math.sin(hU),h2=2*Math.asin(Math.sqrt(aB(h4-h6)+hY*hW*aB(hU-hV))),hX=1/Math.sin(h2);var h1=h2?function(h9){var ic=Math.sin(h9*=h2)*hX,h8=Math.sin(h2-h9)*hX,h7=h8*h0+ic*hZ,ib=h8*d3+ic*e,ia=h8*h5+ic*h3;return[Math.atan2(ib,h7)*hl,Math.atan2(ia,Math.sqrt(h7*h7+ib*ib))*hl]}:function(){return[hV*hl,h6*hl]};h1.distance=h2;return h1}g5.geo.length=function(e){dJ=0;g5.geo.stream(e,fI);return dJ};var dJ;var fI={sphere:aE,point:aE,lineStart:ht,lineEnd:aE,polygonStart:aE,polygonEnd:aE};function ht(){var d3,hU,e;fI.point=function(hX,hW){d3=hX*G,hU=Math.sin(hW*=G),e=Math.cos(hW);fI.point=hV};fI.lineEnd=function(){fI.point=fI.lineEnd=aE};function hV(hX,hW){var h0=Math.sin(hW*=G),h1=Math.cos(hW),hY=cy((hX*=G)-d3),hZ=Math.cos(hY);dJ+=Math.atan2(Math.sqrt((hY=h1*Math.sin(hY))*hY+(hY=e*h0-hU*h1*hZ)*hY),hU*h0+e*h1*hZ);d3=hX,hU=h0,e=h1}}function en(hU,d3){function e(hW,hV){var hZ=Math.cos(hW),hY=Math.cos(hV),hX=hU(hZ*hY);return[hX*hY*Math.sin(hW),hX*Math.sin(hV)]}e.invert=function(hV,h0){var hY=Math.sqrt(hV*hV+h0*h0),hZ=d3(hY),hW=Math.sin(hZ),hX=Math.cos(hZ);return[Math.atan2(hV*hW,hY*hX),Math.asin(hY&&h0*hW/hY)]};return e}var bp=en(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(g5.geo.azimuthalEqualArea=function(){return fo(bp)}).raw=bp;var bB=en(function(e){var d3=Math.acos(e);return d3&&d3/Math.sin(d3)},f6);(g5.geo.azimuthalEquidistant=function(){return fo(bB)}).raw=bB;function fw(hU,d3){var e=Math.cos(hU),hW=function(hZ){return Math.tan(fZ/4+hZ/2)},hY=hU===d3?Math.sin(hU):Math.log(e/Math.cos(d3))/Math.log(hW(d3)/hW(hU)),hX=e*Math.pow(hW(hU),hY)/hY;if(!hY){return aQ}function hV(h0,hZ){if(hX>0){if(hZ<-ed+f8){hZ=-ed+f8}}else{if(hZ>ed-f8){hZ=ed-f8}}var h1=hX/Math.pow(hW(hZ),hY);return[h1*Math.sin(hY*h0),hX-h1*Math.cos(hY*h0)]}hV.invert=function(hZ,h2){var h1=hX-h2,h0=b2(hY)*Math.sqrt(hZ*hZ+h1*h1);return[Math.atan2(hZ,h1)/hY,2*Math.atan(Math.pow(hX/h0,1/hY))-ed]};return hV}(g5.geo.conicConformal=function(){return b0(fw)}).raw=fw;function hi(hU,d3){var e=Math.cos(hU),hX=hU===d3?Math.sin(hU):(e-Math.cos(d3))/(d3-hU),hW=e/hX+hU;if(cy(hX)<f8){return bt}function hV(hZ,hY){var h0=hW-hY;return[h0*Math.sin(hX*hZ),hW-h0*Math.cos(hX*hZ)]}hV.invert=function(hY,h0){var hZ=hW-h0;return[Math.atan2(hY,hZ)/hX,hW-b2(hX)*Math.sqrt(hY*hY+hZ*hZ)]};return hV}(g5.geo.conicEquidistant=function(){return b0(hi)}).raw=hi;var eu=en(function(e){return 1/e},Math.atan);(g5.geo.gnomonic=function(){return fo(eu)}).raw=eu;function aQ(d3,e){return[d3,Math.log(Math.tan(fZ/4+e/2))]}aQ.invert=function(e,d3){return[e,2*Math.atan(Math.exp(d3))-ed]};function cX(hX){var e=fo(hX),hW=e.scale,hV=e.translate,d3=e.clipExtent,hU;e.scale=function(){var hY=hW.apply(e,arguments);return hY===e?hU?e.clipExtent(null):e:hY};e.translate=function(){var hY=hV.apply(e,arguments);return hY===e?hU?e.clipExtent(null):e:hY};e.clipExtent=function(h0){var hZ=d3.apply(e,arguments);if(hZ===e){if(hU=h0==null){var hY=fZ*hW(),h1=hV();d3([[h1[0]-hY,h1[1]-hY],[h1[0]+hY,h1[1]+hY]])}}else{if(hU){hZ=null}}return hZ};return e.clipExtent(null)}(g5.geo.mercator=function(){return cX(aQ)}).raw=aQ;var fK=en(function(){return 1},Math.asin);(g5.geo.orthographic=function(){return fo(fK)}).raw=fK;var b6=en(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(g5.geo.stereographic=function(){return fo(b6)}).raw=b6;function ag(d3,e){return[Math.log(Math.tan(fZ/4+e/2)),-d3]}ag.invert=function(e,d3){return[-d3,2*Math.atan(Math.exp(e))-ed]};(g5.geo.transverseMercator=function(){var d3=cX(ag),e=d3.center,hU=d3.rotate;d3.center=function(hV){return hV?e([-hV[1],hV[0]]):(hV=e(),[hV[1],-hV[0]])};d3.rotate=function(hV){return hV?hU([hV[0],hV[1],hV.length>2?hV[2]+90:90]):(hV=hU(),[hV[0],hV[1],hV[2]-90])};return hU([0,0,90])}).raw=ag;g5.geom={};function hC(e){return e[0]}function hB(e){return e[1]}g5.geom.hull=function(d3){var e=hC,hV=hB;if(arguments.length){return hU(d3)}function hU(h2){if(h2.length<3){return[]}var hY=O(e),hX=O(hV),h3,hW=h2.length,h5=[],h6=[];for(h3=0;h3<hW;h3++){h5.push([+hY.call(this,h2[h3],h3),+hX.call(this,h2[h3],h3),h3])}h5.sort(hK);for(h3=0;h3<hW;h3++){h6.push([h5[h3][0],-h5[h3][1]])}var h7=bj(h5),h1=bj(h6);var hZ=h1[0]===h7[0],h0=h1[h1.length-1]===h7[h7.length-1],h4=[];for(h3=h7.length-1;h3>=0;--h3){h4.push(h2[h5[h7[h3]][2]])}for(h3=+hZ;h3<h1.length-h0;++h3){h4.push(h2[h5[h1[h3]][2]])}return h4}hU.x=function(hW){return arguments.length?(e=hW,hU):e};hU.y=function(hW){return arguments.length?(hV=hW,hU):hV};return hU};function bj(hU){var hW=hU.length,hV=[0,1],d3=2;for(var e=2;e<hW;e++){while(d3>1&&eO(hU[hV[d3-2]],hU[hV[d3-1]],hU[e])<=0){--d3}hV[d3++]=e}return hV.slice(0,d3)}function hK(d3,e){return d3[0]-e[0]||d3[1]-e[1]}g5.geom.polygon=function(e){hO(e,ee);return e};var ee=g5.geom.polygon.prototype=[];ee.area=function(){var hU=-1,hW=this.length,d3,e=this[hW-1],hV=0;while(++hU<hW){d3=e;e=this[hU];hV+=d3[1]*e[0]-d3[0]*e[1]}return hV*0.5};ee.centroid=function(hV){var hW=-1,hZ=this.length,d3=0,hY=0,hU,e=this[hZ-1],hX;if(!arguments.length){hV=-1/(6*this.area())}while(++hW<hZ){hU=e;e=this[hW];hX=hU[0]*e[1]-e[0]*hU[1];d3+=(hU[0]+e[0])*hX;hY+=(hU[1]+e[1])*hX}return[d3*hV,hY*hV]};ee.clip=function(hZ){var h1,hW=gD(hZ),hV=-1,e=this.length-gD(this),hU,d3,h2=this[e-1],h0,hY,hX;while(++hV<e){h1=hZ.slice();hZ.length=0;h0=this[hV];hY=h1[(d3=h1.length-hW)-1];hU=-1;while(++hU<d3){hX=h1[hU];if(B(hX,h2,h0)){if(!B(hY,h2,h0)){hZ.push(f4(hY,hX,h2,h0))}hZ.push(hX)}else{if(B(hY,h2,h0)){hZ.push(f4(hY,hX,h2,h0))}}hY=hX}if(hW){hZ.push(hZ[0])}h2=h0}return hZ};function B(hU,d3,e){return(e[0]-d3[0])*(hU[1]-d3[1])<(e[1]-d3[1])*(hU[0]-d3[0])}function f4(hY,hW,h2,hZ){var hU=hY[0],e=h2[0],hV=hW[0]-hU,h3=hZ[0]-e,h1=hY[1],hX=h2[1],h0=hW[1]-h1,h4=hZ[1]-hX,d3=(h3*(h1-hX)-h4*(hU-e))/(h4*hV-h3*h0);return[hU+d3*hV,h1+d3*h0]}function gD(hU){var d3=hU[0],e=hU[hU.length-1];return !(d3[0]-e[0]||d3[1]-e[1])}var gy,el,cJ,c4=[],gV,dS,ei=[];function gn(){q(this);this.edge=this.site=this.circle=null}function eM(d3){var e=c4.pop()||new gn();e.site=d3;return e}function gm(e){eB(e);cJ.remove(e);c4.push(e);q(e)}function g7(d3){var e=d3.circle,h1=e.x,hY=e.cy,hW={x:h1,y:hY},hX=d3.P,hV=d3.N,h0=[d3];gm(d3);var h3=hX;while(h3.circle&&cy(h1-h3.circle.x)<f8&&cy(hY-h3.circle.cy)<f8){hX=h3.P;h0.unshift(h3);gm(h3);h3=hX}h0.unshift(h3);eB(h3);var hU=hV;while(hU.circle&&cy(h1-hU.circle.x)<f8&&cy(hY-hU.circle.cy)<f8){hV=hU.N;h0.push(hU);gm(hU);hU=hV}h0.push(hU);eB(hU);var h2=h0.length,hZ;for(hZ=1;hZ<h2;++hZ){hU=h0[hZ];h3=h0[hZ-1];ci(hU.edge,h3.site,hU.site,hW)}h3=h0[0];hU=h0[h2-1];hU.edge=g1(h3.site,hU.site,null,hW);T(h3);T(hU)}function dj(h2){var h0=h2.x,h4=h2.y,h6,h3,ic,h7,h5=cJ._;while(h5){ic=cZ(h5,h4)-h0;if(ic>f8){h5=h5.L}else{h7=h0-fY(h5,h4);if(h7>f8){if(!h5.R){h6=h5;break}h5=h5.R}else{if(ic>-f8){h6=h5.P;h3=h5}else{if(h7>-f8){h6=h5;h3=h5.N}else{h6=h3=h5}}break}}}var hV=eM(h2);cJ.insert(h6,hV);if(!h6&&!h3){return}if(h6===h3){eB(h6);h3=eM(h6.site);cJ.insert(hV,h3);hV.edge=h3.edge=g1(h6.site,hV.site);T(h6);T(h3);return}if(!h3){hV.edge=g1(h6.site,hV.site);return}eB(h6);eB(h3);var hY=h6.site,h1=hY.x,hZ=hY.y,ia=h2.x-h1,h8=h2.y-hZ,e=h3.site,hU=e.x-h1,d3=e.y-hZ,ib=2*(ia*d3-h8*hU),hX=ia*ia+h8*h8,hW=hU*hU+d3*d3,h9={x:(d3*hX-h8*hW)/ib+h1,y:(ia*hW-hU*hX)/ib+hZ};ci(h3.edge,hY,e,h9);hV.edge=g1(hY,h2,null,h9);h3.edge=g1(h2,e,null,h9);T(h6);T(h3)}function cZ(hV,hW){var e=hV.site,h3=e.x,h2=e.y,h1=h2-hW;if(!h1){return h3}var h4=hV.P;if(!h4){return -Infinity}e=h4.site;var hY=e.x,hX=e.y,hU=hX-hW;if(!hU){return hY}var d3=hY-h3,h0=1/h1-1/hU,hZ=d3/hU;if(h0){return(-hZ+Math.sqrt(hZ*hZ-2*h0*(d3*d3/(-2*hU)-hX+hU/2+h2-h1/2)))/h0+h3}return(h3+hY)/2}function fY(d3,hU){var hV=d3.N;if(hV){return cZ(hV,hU)}var e=d3.site;return e.y===hU?e.x:Infinity}function bR(e){this.site=e;this.edges=[]}bR.prototype.prepare=function(){var hU=this.edges,e=hU.length,d3;while(e--){d3=hU[e].edge;if(!d3.b||!d3.a){hU.splice(e,1)}}hU.sort(r);return hU.length};function bs(h8){var hY=h8[0][0],hX=h8[1][0],h4=h8[0][1],h3=h8[1][1],hV,h2,e,h1,h7=el,hU=h7.length,h6,h5,h0,d3,hW,hZ;while(hU--){h6=h7[hU];if(!h6||!h6.prepare()){continue}h0=h6.edges;d3=h0.length;h5=0;while(h5<d3){hZ=h0[h5].end(),e=hZ.x,h1=hZ.y;hW=h0[++h5%d3].start(),hV=hW.x,h2=hW.y;if(cy(e-hV)>f8||cy(h1-h2)>f8){h0.splice(h5,0,new hI(gQ(h6.site,hZ,cy(e-hY)<f8&&h3-h1>f8?{x:hY,y:cy(hV-hY)<f8?h2:h3}:cy(h1-h3)<f8&&hX-e>f8?{x:cy(h2-h3)<f8?hV:hX,y:h3}:cy(e-hX)<f8&&h1-h4>f8?{x:hX,y:cy(hV-hX)<f8?h2:h4}:cy(h1-h4)<f8&&e-hY>f8?{x:cy(h2-h4)<f8?hV:hY,y:h4}:null),h6.site,null));++d3}}}}function r(d3,e){return e.angle-d3.angle}function aS(){q(this);this.x=this.y=this.arc=this.site=this.cy=null}function T(hY){var h7=hY.P,h5=hY.N;if(!h7||!h5){return}var h0=h7.site,ia=hY.site,e=h5.site;if(h0===e){return}var h9=ia.x,h8=ia.y,h3=h0.x-h9,h1=h0.y-h8,hU=e.x-h9,d3=e.y-h8;var ib=2*(h3*d3-h1*hU);if(ib>=-es){return}var hX=h3*h3+h1*h1,hW=hU*hU+d3*d3,h2=(d3*hX-h1*hW)/ib,hZ=(h3*hW-hU*hX)/ib,d3=hZ+h8;var hV=ei.pop()||new aS();hV.arc=hY;hV.site=ia;hV.x=h2+h9;hV.y=d3+Math.sqrt(h2*h2+hZ*hZ);hV.cy=d3;hY.circle=hV;var h4=null,h6=dS._;while(h6){if(hV.y<h6.y||hV.y===h6.y&&hV.x<=h6.x){if(h6.L){h6=h6.L}else{h4=h6.P;break}}else{if(h6.R){h6=h6.R}else{h4=h6;break}}}dS.insert(h4,hV);if(!h4){gV=hV}}function eB(e){var d3=e.circle;if(d3){if(!d3.P){gV=d3.N}dS.remove(d3);ei.push(d3);q(d3);e.circle=null}}function hk(hV){var d3=gy,hW=ah(hV[0][0],hV[0][1],hV[1][0],hV[1][1]),hU=d3.length,hX;while(hU--){hX=d3[hU];if(!bg(hX,hV)||!hW(hX)||cy(hX.a.x-hX.b.x)<f8&&cy(hX.a.y-hX.b.y)<f8){hX.a=hX.b=null;d3.splice(hU,1)}}}function bg(h3,h6){var e=h3.b;if(e){return true}var d3=h3.a,h9=h6[0][0],h8=h6[1][0],hX=h6[0][1],hV=h6[1][1],h5=h3.l,hU=h3.r,h0=h5.x,hZ=h5.y,h2=hU.x,h1=hU.y,hY=(h0+h2)/2,hW=(hZ+h1)/2,h4,h7;if(h1===hZ){if(hY<h9||hY>=h8){return}if(h0>h2){if(!d3){d3={x:hY,y:hX}}else{if(d3.y>=hV){return}}e={x:hY,y:hV}}else{if(!d3){d3={x:hY,y:hV}}else{if(d3.y<hX){return}}e={x:hY,y:hX}}}else{h4=(h0-h2)/(h1-hZ);h7=hW-h4*hY;if(h4<-1||h4>1){if(h0>h2){if(!d3){d3={x:(hX-h7)/h4,y:hX}}else{if(d3.y>=hV){return}}e={x:(hV-h7)/h4,y:hV}}else{if(!d3){d3={x:(hV-h7)/h4,y:hV}}else{if(d3.y<hX){return}}e={x:(hX-h7)/h4,y:hX}}}else{if(hZ<h1){if(!d3){d3={x:h9,y:h4*h9+h7}}else{if(d3.x>=h8){return}}e={x:h8,y:h4*h8+h7}}else{if(!d3){d3={x:h8,y:h4*h8+h7}}else{if(d3.x<h9){return}}e={x:h9,y:h4*h9+h7}}}}h3.a=d3;h3.b=e;return true}function D(d3,e){this.l=d3;this.r=e;this.a=this.b=null}function g1(hW,e,hV,d3){var hU=new D(hW,e);gy.push(hU);if(hV){ci(hU,hW,e,hV)}if(d3){ci(hU,e,hW,d3)}el[hW.i].edges.push(new hI(hU,hW,e));el[e.i].edges.push(new hI(hU,e,hW));return hU}function gQ(hV,hU,e){var d3=new D(hV,null);d3.a=hU;d3.b=e;gy.push(d3);return d3}function ci(d3,hV,e,hU){if(!d3.a&&!d3.b){d3.a=hU;d3.l=hV;d3.r=e}else{if(d3.l===e){d3.b=hU}else{d3.a=hU}}}function hI(hV,hW,e){var hU=hV.a,d3=hV.b;this.edge=hV;this.site=hW;this.angle=e?Math.atan2(e.y-hW.y,e.x-hW.x):hV.l===hW?Math.atan2(d3.x-hU.x,hU.y-d3.y):Math.atan2(hU.x-d3.x,d3.y-hU.y)}hI.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function a5(){this._=null}function q(e){e.U=e.C=e.L=e.R=e.P=e.N=null}a5.prototype={insert:function(hW,hV){var hU,d3,e;if(hW){hV.P=hW;hV.N=hW.N;if(hW.N){hW.N.P=hV}hW.N=hV;if(hW.R){hW=hW.R;while(hW.L){hW=hW.L}hW.L=hV}else{hW.R=hV}hU=hW}else{if(this._){hW=c2(this._);hV.P=null;hV.N=hW;hW.P=hW.L=hV;hU=hW}else{hV.P=hV.N=null;this._=hV;hU=null}}hV.L=hV.R=null;hV.U=hU;hV.C=true;hW=hV;while(hU&&hU.C){d3=hU.U;if(hU===d3.L){e=d3.R;if(e&&e.C){hU.C=e.C=false;d3.C=true;hW=d3}else{if(hW===hU.R){af(this,hU);hW=hU;hU=hW.U}hU.C=false;d3.C=true;eF(this,d3)}}else{e=d3.L;if(e&&e.C){hU.C=e.C=false;d3.C=true;hW=d3}else{if(hW===hU.L){eF(this,hU);hW=hU;hU=hW.U}hU.C=false;d3.C=true;af(this,d3)}}hU=hW.U}this._.C=false},remove:function(hW){if(hW.N){hW.N.P=hW.P}if(hW.P){hW.P.N=hW.N}hW.N=hW.P=null;var hV=hW.U,hU,hY=hW.L,e=hW.R,d3,hX;if(!hY){d3=e}else{if(!e){d3=hY}else{d3=c2(e)}}if(hV){if(hV.L===hW){hV.L=d3}else{hV.R=d3}}else{this._=d3}if(hY&&e){hX=d3.C;d3.C=hW.C;d3.L=hY;hY.U=d3;if(d3!==e){hV=d3.U;d3.U=hW.U;hW=d3.R;hV.L=hW;d3.R=e;e.U=d3}else{d3.U=hV;hV=d3;hW=d3.R}}else{hX=hW.C;hW=d3}if(hW){hW.U=hV}if(hX){return}if(hW&&hW.C){hW.C=false;return}do{if(hW===this._){break}if(hW===hV.L){hU=hV.R;if(hU.C){hU.C=false;hV.C=true;af(this,hV);hU=hV.R}if(hU.L&&hU.L.C||hU.R&&hU.R.C){if(!hU.R||!hU.R.C){hU.L.C=false;hU.C=true;eF(this,hU);hU=hV.R}hU.C=hV.C;hV.C=hU.R.C=false;af(this,hV);hW=this._;break}}else{hU=hV.L;if(hU.C){hU.C=false;hV.C=true;eF(this,hV);hU=hV.L}if(hU.L&&hU.L.C||hU.R&&hU.R.C){if(!hU.L||!hU.L.C){hU.R.C=false;hU.C=true;af(this,hU);hU=hV.L}hU.C=hV.C;hV.C=hU.L.C=false;eF(this,hV);hW=this._;break}}hU.C=true;hW=hV;hV=hV.U}while(!hW.C);if(hW){hW.C=false}}};function af(e,hU){var hW=hU,hV=hU.R,d3=hW.U;if(d3){if(d3.L===hW){d3.L=hV}else{d3.R=hV}}else{e._=hV}hV.U=d3;hW.U=hV;hW.R=hV.L;if(hW.R){hW.R.U=hW}hV.L=hW}function eF(e,hU){var hW=hU,hV=hU.L,d3=hW.U;if(d3){if(d3.L===hW){d3.L=hV}else{d3.R=hV}}else{e._=hV}hV.U=d3;hW.U=hV;hW.L=hV.R;if(hW.L){hW.L.U=hW}hV.R=hW}function c2(e){while(e.L){e=e.L}return e}function gL(hX,hY){var d3=hX.sort(be).pop(),hU,hV,hW;gy=[];el=new Array(hX.length);cJ=new a5();dS=new a5();while(true){hW=gV;if(d3&&(!hW||d3.y<hW.y||d3.y===hW.y&&d3.x<hW.x)){if(d3.x!==hU||d3.y!==hV){el[d3.i]=new bR(d3);dj(d3);hU=d3.x,hV=d3.y}d3=hX.pop()}else{if(hW){g7(hW.arc)}else{break}}}if(hY){hk(hY),bs(hY)}var e={cells:el,edges:gy};cJ=dS=gy=el=null;return e}function be(d3,e){return e.y-d3.y||e.x-d3.x}g5.geom.voronoi=function(hV){var e=hC,hZ=hB,hW=e,hU=hZ,d3=hn;if(hV){return hY(hV)}function hY(h5){var h0=new Array(h5.length),h2=d3[0][0],h4=d3[0][1],h1=d3[1][0],h3=d3[1][1];gL(hX(h5),d3).cells.forEach(function(h6,ia){var h7=h6.edges,h8=h6.site,h9=h0[ia]=h7.length?h7.map(function(ic){var ib=ic.start();return[ib.x,ib.y]}):h8.x>=h2&&h8.x<=h1&&h8.y>=h4&&h8.y<=h3?[[h2,h3],[h1,h3],[h1,h4],[h2,h4]]:[];h9.point=h5[ia]});return h0}function hX(h0){return h0.map(function(h2,h1){return{x:Math.round(hW(h2,h1)/f8)*f8,y:Math.round(hU(h2,h1)/f8)*f8,i:h1}})}hY.links=function(h0){return gL(hX(h0)).edges.filter(function(h1){return h1.l&&h1.r}).map(function(h1){return{source:h0[h1.l.i],target:h0[h1.r.i]}})};hY.triangles=function(h1){var h0=[];gL(hX(h1)).cells.forEach(function(ia,h6){var h2=ia.site,h5=ia.edges.sort(r),h4=-1,h3=h5.length,h8,ib,h7=h5[h3-1].edge,h9=h7.l===h2?h7.r:h7.l;while(++h4<h3){h8=h7;ib=h9;h7=h5[h4].edge;h9=h7.l===h2?h7.r:h7.l;if(h6<ib.i&&h6<h9.i&&gl(h2,ib,h9)<0){h0.push([h1[h6],h1[ib.i],h1[h9.i]])}}});return h0};hY.x=function(h0){return arguments.length?(hW=O(e=h0),hY):e};hY.y=function(h0){return arguments.length?(hU=O(hZ=h0),hY):hZ};hY.clipExtent=function(h0){if(!arguments.length){return d3===hn?null:d3}d3=h0==null?hn:h0;return hY};hY.size=function(h0){if(!arguments.length){return d3===hn?null:d3&&d3[1]}return hY.clipExtent(h0&&[[0,0],h0])};return hY};var hn=[[-1000000,-1000000],[1000000,1000000]];function gl(d3,e,hU){return(d3.x-hU.x)*(e.y-d3.y)-(d3.x-e.x)*(hU.y-d3.y)}g5.geom.delaunay=function(e){return g5.geom.voronoi().triangles(e)};g5.geom.quadtree=function(hZ,d3,hX,e,hW){var hY=hC,hV=hB,h0;if(h0=arguments.length){hY=fP;hV=fN;if(h0===3){hW=hX;e=d3;hX=d3=0}return hU(hZ)}function hU(ik){var ih,h5=O(hY),h3=O(hV),h7,id,ie,ib,h1,ia,h6,ij;if(d3!=null){h1=d3,ia=hX,h6=e,ij=hW}else{h6=ij=-(h1=ia=Infinity);h7=[],id=[];ib=ik.length;if(h0){for(ie=0;ie<ib;++ie){ih=ik[ie];if(ih.x<h1){h1=ih.x}if(ih.y<ia){ia=ih.y}if(ih.x>h6){h6=ih.x}if(ih.y>ij){ij=ih.y}h7.push(ih.x);id.push(ih.y)}}else{for(ie=0;ie<ib;++ie){var ig=+h5(ih=ik[ie],ie),h4=+h3(ih,ie);if(ig<h1){h1=ig}if(h4<ia){ia=h4}if(ig>h6){h6=ig}if(h4>ij){ij=h4}h7.push(ig);id.push(h4)}}}var h9=h6-h1,h8=ij-ia;if(h9>h8){ij=ia+h9}else{h6=h1+h8}function h2(io,it,ix,iu,im,iw,il,iv){if(isNaN(ix)||isNaN(iu)){return}if(io.leaf){var ir=io.x,iq=io.y;if(ir!=null){if(cy(ir-ix)+cy(iq-iu)<0.01){ii(io,it,ix,iu,im,iw,il,iv)}else{var ip=io.point;io.x=io.y=io.point=null;ii(io,ip,ir,iq,im,iw,il,iv);ii(io,it,ix,iu,im,iw,il,iv)}}else{io.x=ix,io.y=iu,io.point=it}}else{ii(io,it,ix,iu,im,iw,il,iv)}}function ii(ip,ir,iy,iu,io,ix,im,iv){var iw=(io+im)*0.5,it=(ix+iv)*0.5,iz=iy>=iw,il=iu>=it,iq=(il<<1)+iz;ip.leaf=false;ip=ip.nodes[iq]||(ip.nodes[iq]=fv());if(iz){io=iw}else{im=iw}if(il){ix=it}else{iv=it}h2(ip,ir,iy,iu,io,ix,im,iv)}var ic=fv();ic.add=function(il){h2(ic,il,+h5(il,++ie),+h3(il,ie),h1,ia,h6,ij)};ic.visit=function(il){cE(il,ic,h1,ia,h6,ij)};ie=-1;if(d3==null){while(++ie<ib){h2(ic,ik[ie],h7[ie],id[ie],h1,ia,h6,ij)}--ie}else{ik.forEach(ic.add)}h7=id=ik=ih=null;return ic}hU.x=function(h1){return arguments.length?(hY=h1,hU):hY};hU.y=function(h1){return arguments.length?(hV=h1,hU):hV};hU.extent=function(h1){if(!arguments.length){return d3==null?null:[[d3,hX],[e,hW]]}if(h1==null){d3=hX=e=hW=null}else{d3=+h1[0][0],hX=+h1[0][1],e=+h1[1][0],hW=+h1[1][1]}return hU};hU.size=function(h1){if(!arguments.length){return d3==null?null:[e-d3,hW-hX]}if(h1==null){d3=hX=e=hW=null}else{d3=hX=0,e=+h1[0],hW=+h1[1]}return hU};return hU};function fP(e){return e.x}function fN(e){return e.y}function fv(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function cE(hW,hV,d3,h0,e,hY){if(!hW(hV,d3,h0,e,hY)){var hZ=(d3+e)*0.5,hX=(h0+hY)*0.5,hU=hV.nodes;if(hU[0]){cE(hW,hU[0],d3,h0,hZ,hX)}if(hU[1]){cE(hW,hU[1],hZ,h0,e,hX)}if(hU[2]){cE(hW,hU[2],d3,hX,hZ,hY)}if(hU[3]){cE(hW,hU[3],hZ,hX,e,hY)}}}g5.interpolateRgb=aK;function aK(d3,e){d3=g5.rgb(d3);e=g5.rgb(e);var hV=d3.r,hU=d3.g,hY=d3.b,hX=e.r-hV,hW=e.g-hU,hZ=e.b-hY;return function(h0){return"#"+co(Math.round(hV+hX*h0))+co(Math.round(hU+hW*h0))+co(Math.round(hY+hZ*h0))}}g5.interpolateObject=bF;function bF(d3,e){var hV={},hW={},hU;for(hU in d3){if(hU in e){hV[hU]=fq(d3[hU],e[hU])}else{hW[hU]=d3[hU]}}for(hU in e){if(!(hU in d3)){hW[hU]=e[hU]}}return function(hX){for(hU in hV){hW[hU]=hV[hU](hX)}return hW}}g5.interpolateNumber=bA;function bA(d3,e){e-=d3=+d3;return function(hU){return d3+e*hU}}g5.interpolateString=bU;function bU(hY,hX){var hU=hj.lastIndex=hh.lastIndex=0,hW,d3,hZ,hV=-1,h0=[],e=[];hY=hY+"",hX=hX+"";while((hW=hj.exec(hY))&&(d3=hh.exec(hX))){if((hZ=d3.index)>hU){hZ=hX.substring(hU,hZ);if(h0[hV]){h0[hV]+=hZ}else{h0[++hV]=hZ}}if((hW=hW[0])===(d3=d3[0])){if(h0[hV]){h0[hV]+=d3}else{h0[++hV]=d3}}else{h0[++hV]=null;e.push({i:hV,x:bA(hW,d3)})}hU=hh.lastIndex}if(hU<hX.length){hZ=hX.substring(hU);if(h0[hV]){h0[hV]+=hZ}else{h0[++hV]=hZ}}return h0.length<2?e[0]?(hX=e[0].x,function(h1){return hX(h1)+""}):function(){return hX}:(hX=e.length,function(h2){for(var h1=0,h3;h1<hX;++h1){h0[(h3=e[h1]).i]=h3.x(h2)}return h0.join("")})}var hj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hh=new RegExp(hj.source,"g");g5.interpolate=fq;function fq(d3,e){var hU=g5.interpolators.length,hV;while(--hU>=0&&!(hV=g5.interpolators[hU](d3,e))){}return hV}g5.interpolators=[function(d3,e){var hU=typeof e;return(hU==="string"?aj.has(e)||/^(#|rgb\(|hsl\()/.test(e)?aK:bU:e instanceof gF?aK:Array.isArray(e)?eD:hU==="object"&&isNaN(e)?bF:bA)(d3,e)}];g5.interpolateArray=eD;function eD(hW,hU){var d3=[],hZ=[],hV=hW.length,e=hU.length,hY=Math.min(hW.length,hU.length),hX;for(hX=0;hX<hY;++hX){d3.push(fq(hW[hX],hU[hX]))}for(;hX<hV;++hX){hZ[hX]=hW[hX]}for(;hX<e;++hX){hZ[hX]=hU[hX]}return function(h0){for(hX=0;hX<hY;++hX){hZ[hX]=d3[hX](h0)}return hZ}}var g0=function(){return f6};var Y=g5.map({linear:g0,poly:aP,quad:function(){return bS},cubic:function(){return F},sin:function(){return fX},exp:function(){return fi},circle:function(){return dU},elastic:S,back:gJ,bounce:function(){return cd}});var h=g5.map({"in":f6,out:A,"in-out":aX,"out-in":function(e){return aX(A(e))}});g5.ease=function(d3){var hV=d3.indexOf("-"),hU=hV>=0?d3.substring(0,hV):d3,e=hV>=0?d3.substring(hV+1):"in";hU=Y.get(hU)||g0;e=h.get(e)||f6;return fn(e(hU.apply(null,bH.call(arguments,1))))};function fn(e){return function(d3){return d3<=0?0:d3>=1?1:e(d3)}}function A(e){return function(d3){return 1-e(1-d3)}}function aX(e){return function(d3){return 0.5*(d3<0.5?e(2*d3):2-e(2-2*d3))}}function bS(e){return e*e}function F(e){return e*e*e}function at(d3){if(d3<=0){return 0}if(d3>=1){return 1}var hU=d3*d3,e=hU*d3;return 4*(d3<0.5?e:3*(d3-hU)+e-0.75)}function aP(d3){return function(e){return Math.pow(e,d3)}}function fX(e){return 1-Math.cos(e*ed)}function fi(e){return Math.pow(2,10*(e-1))}function dU(e){return 1-Math.sqrt(1-e*e)}function S(e,hU){var d3;if(arguments.length<2){hU=0.45}if(arguments.length){d3=hU/fT*Math.asin(1/e)}else{e=1,d3=hU/4}return function(hV){return 1+e*Math.pow(2,-10*hV)*Math.sin((hV-d3)*fT/hU)}}function gJ(e){if(!e){e=1.70158}return function(d3){return d3*d3*((e+1)*d3-e)}}function cd(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375}g5.interpolateHcl=gB;function gB(hU,e){hU=g5.hcl(hU);e=g5.hcl(e);var d3=hU.h,hW=hU.c,hY=hU.l,hV=e.h-d3,hX=e.c-hW,hZ=e.l-hY;if(isNaN(hX)){hX=0,hW=isNaN(hW)?e.c:hW}if(isNaN(hV)){hV=0,d3=isNaN(d3)?e.h:d3}else{if(hV>180){hV-=360}else{if(hV<-180){hV+=360}}}return function(h0){return bx(d3+hV*h0,hW+hX*h0,hY+hZ*h0)+""}}g5.interpolateHsl=aY;function aY(hV,e){hV=g5.hsl(hV);e=g5.hsl(e);var hU=hV.h,d3=hV.s,hY=hV.l,hX=e.h-hU,hW=e.s-d3,hZ=e.l-hY;if(isNaN(hW)){hW=0,d3=isNaN(d3)?e.s:d3}if(isNaN(hX)){hX=0,hU=isNaN(hU)?e.h:hU}else{if(hX>180){hX-=360}else{if(hX<-180){hX+=360}}}return function(h0){return ba(hU+hX*h0,d3+hW*h0,hY+hZ*h0)+""}}g5.interpolateLab=hg;function hg(d3,e){d3=g5.lab(d3);e=g5.lab(e);var hW=d3.l,hV=d3.a,hU=d3.b,hZ=e.l-hW,hY=e.a-hV,hX=e.b-hU;return function(h0){return az(hW+hZ*h0,hV+hY*h0,hU+hX*h0)+""}}g5.interpolateRound=fl;function fl(d3,e){e-=d3;return function(hU){return Math.round(d3+e*hU)}}g5.transform=function(e){var d3=bG.createElementNS(g5.ns.prefix.svg,"g");return(g5.transform=function(hU){if(hU!=null){d3.setAttribute("transform",hU);var hV=d3.transform.baseVal.consolidate()}return new m(hV?hV.matrix:fU)})(e)};function m(e){var hV=[e.a,e.b],d3=[e.c,e.d],hX=fd(hV),hU=eN(hV,d3),hW=fd(bL(d3,hV,-hU))||0;if(hV[0]*d3[1]<d3[0]*hV[1]){hV[0]*=-1;hV[1]*=-1;hX*=-1;hU*=-1}this.rotate=(hX?Math.atan2(hV[1],hV[0]):Math.atan2(-d3[0],d3[1]))*hl;this.translate=[e.e,e.f];this.scale=[hX,hW];this.skew=hW?Math.atan2(hU,hW)*hl:0}m.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function eN(d3,e){return d3[0]*e[0]+d3[1]*e[1]}function fd(e){var d3=Math.sqrt(eN(e,e));if(d3){e[0]/=d3;e[1]/=d3}return d3}function bL(d3,e,hU){d3[0]+=hU*e[0];d3[1]+=hU*e[1];return d3}var fU={a:1,b:0,c:0,d:1,e:0,f:0};g5.interpolateTransform=d6;function d6(h5,h4){var h6=[],d3=[],hX,hW=g5.transform(h5),hV=g5.transform(h4),h1=hW.translate,h0=hV.translate,hU=hW.rotate,e=hV.rotate,hZ=hW.skew,hY=hV.skew,h3=hW.scale,h2=hV.scale;if(h1[0]!=h0[0]||h1[1]!=h0[1]){h6.push("translate(",null,",",null,")");d3.push({i:1,x:bA(h1[0],h0[0])},{i:3,x:bA(h1[1],h0[1])})}else{if(h0[0]||h0[1]){h6.push("translate("+h0+")")}else{h6.push("")}}if(hU!=e){if(hU-e>180){e+=360}else{if(e-hU>180){hU+=360}}d3.push({i:h6.push(h6.pop()+"rotate(",null,")")-2,x:bA(hU,e)})}else{if(e){h6.push(h6.pop()+"rotate("+e+")")}}if(hZ!=hY){d3.push({i:h6.push(h6.pop()+"skewX(",null,")")-2,x:bA(hZ,hY)})}else{if(hY){h6.push(h6.pop()+"skewX("+hY+")")}}if(h3[0]!=h2[0]||h3[1]!=h2[1]){hX=h6.push(h6.pop()+"scale(",null,",",null,")");d3.push({i:hX-4,x:bA(h3[0],h2[0])},{i:hX-2,x:bA(h3[1],h2[1])})}else{if(h2[0]!=1||h2[1]!=1){h6.push(h6.pop()+"scale("+h2+")")}}hX=d3.length;return function(h8){var h7=-1,h9;while(++h7<hX){h6[(h9=d3[h7]).i]=h9.x(h8)}return h6.join("")}}function hd(d3,e){e=e-(d3=+d3)?1/(e-d3):0;return function(hU){return(hU-d3)*e}}function aw(d3,e){e=e-(d3=+d3)?1/(e-d3):0;return function(hU){return Math.max(0,Math.min(1,(hU-d3)*e))}}g5.layout={};g5.layout.bundle=function(){return function(e){var hU=[],d3=-1,hV=e.length;while(++d3<hV){hU.push(ez(e[d3]))}return hU}};function ez(hV){var hX=hV.source,e=hV.target,hW=fx(hX,e),hU=[hX];while(hX!==hW){hX=hX.parent;hU.push(hX)}var d3=hU.length;while(e!==hW){hU.splice(d3,0,e);e=e.parent}return hU}function fc(hU){var d3=[],e=hU.parent;while(e!=null){d3.push(hU);hU=e;e=e.parent}d3.push(hU);return d3}function fx(hV,d3){if(hV===d3){return hV}var hU=fc(hV),e=fc(d3),hW=hU.pop(),hX=e.pop(),hY=null;while(hW===hX){hY=hW;hW=hU.pop();hX=e.pop()}return hY}g5.layout.chord=function(){var hX={},hY,hV,h2,hU,h1=0,e,d3,hW;function h0(){var h7={},ia=[],ij=g5.range(hU),ie=[],h8,ih,h6,ib,h9;hY=[];hV=[];h8=0,ib=-1;while(++ib<hU){ih=0,h9=-1;while(++h9<hU){ih+=h2[ib][h9]}ia.push(ih);ie.push(g5.range(hU));h8+=ih}if(e){ij.sort(function(il,ik){return e(ia[il],ia[ik])})}if(d3){ie.forEach(function(il,ik){il.sort(function(io,im){return d3(h2[ik][io],h2[ik][im])})})}h8=(fT-h1*hU)/h8;ih=0,ib=-1;while(++ib<hU){h6=ih,h9=-1;while(++h9<hU){var ig=ij[ib],id=ie[ig][h9],ii=h2[ig][id],h5=ih,h4=ih+=ii*h8;h7[ig+"-"+id]={index:ig,subindex:id,startAngle:h5,endAngle:h4,value:ii}}hV[ig]={index:ig,startAngle:h6,endAngle:ih,value:(ih-h6)/h8};ih+=h1}ib=-1;while(++ib<hU){h9=ib-1;while(++h9<hU){var h3=h7[ib+"-"+h9],ic=h7[h9+"-"+ib];if(h3.value||ic.value){hY.push(h3.value<ic.value?{source:ic,target:h3}:{source:h3,target:ic})}}}if(hW){hZ()}}function hZ(){hY.sort(function(h4,h3){return hW((h4.source.value+h4.target.value)/2,(h3.source.value+h3.target.value)/2)})}hX.matrix=function(h3){if(!arguments.length){return h2}hU=(h2=h3)&&h2.length;hY=hV=null;return hX};hX.padding=function(h3){if(!arguments.length){return h1}h1=h3;hY=hV=null;return hX};hX.sortGroups=function(h3){if(!arguments.length){return e}e=h3;hY=hV=null;return hX};hX.sortSubgroups=function(h3){if(!arguments.length){return d3}d3=h3;hY=null;return hX};hX.sortChords=function(h3){if(!arguments.length){return hW}hW=h3;if(hY){hZ()}return hX};hX.chords=function(){if(!hY){h0()}return hY};hX.groups=function(){if(!hV){h0()}return hV};return hX};g5.layout.force=function(){var d3={},h7=g5.dispatch("start","tick","end"),h1=[1,1],h9,hW,hZ=0.9,ia=fD,hV=cm,h6=-30,h4=b4,hX=0.1,h2=0.64,h5=[],hU=[],hY,e,h0;function h8(ib){return function(ij,ie,ii,id){if(ij.point!==ib){var il=ij.cx-ib.x,ik=ij.cy-ib.y,ic=id-ie,ih=il*il+ik*ik;if(ic*ic/h2<ih){if(ih<h4){var ig=ij.charge/ih;ib.px-=il*ig;ib.py-=ik*ig}return true}if(ij.point&&ih&&ih<h4){var ig=ij.pointCharge/ih;ib.px-=il*ig;ib.py-=ik*ig}}return !ij.charge}}d3.tick=function(){if((hW*=0.99)<0.005){h7.end({type:"end",alpha:hW=0});return true}var id=h5.length,ie=hU.length,ib,ii,ic,im,il,ig,ih,ik,ij;for(ii=0;ii<ie;++ii){ic=hU[ii];im=ic.source;il=ic.target;ik=il.x-im.x;ij=il.y-im.y;if(ig=ik*ik+ij*ij){ig=hW*e[ii]*((ig=Math.sqrt(ig))-hY[ii])/ig;ik*=ig;ij*=ig;il.x-=ik*(ih=im.weight/(il.weight+im.weight));il.y-=ij*ih;im.x+=ik*(ih=1-ih);im.y+=ij*ih}}if(ih=hW*hX){ik=h1[0]/2;ij=h1[1]/2;ii=-1;if(ih){while(++ii<id){ic=h5[ii];ic.x+=(ik-ic.x)*ih;ic.y+=(ij-ic.y)*ih}}}if(h6){gk(ib=g5.geom.quadtree(h5),hW,h0);ii=-1;while(++ii<id){if(!(ic=h5[ii]).fixed){ib.visit(h8(ic))}}}ii=-1;while(++ii<id){ic=h5[ii];if(ic.fixed){ic.x=ic.px;ic.y=ic.py}else{ic.x-=(ic.px-(ic.px=ic.x))*hZ;ic.y-=(ic.py-(ic.py=ic.y))*hZ}}h7.tick({type:"tick",alpha:hW})};d3.nodes=function(ib){if(!arguments.length){return h5}h5=ib;return d3};d3.links=function(ib){if(!arguments.length){return hU}hU=ib;return d3};d3.size=function(ib){if(!arguments.length){return h1}h1=ib;return d3};d3.linkDistance=function(ib){if(!arguments.length){return ia}ia=typeof ib==="function"?ib:+ib;return d3};d3.distance=d3.linkDistance;d3.linkStrength=function(ib){if(!arguments.length){return hV}hV=typeof ib==="function"?ib:+ib;return d3};d3.friction=function(ib){if(!arguments.length){return hZ}hZ=+ib;return d3};d3.charge=function(ib){if(!arguments.length){return h6}h6=typeof ib==="function"?ib:+ib;return d3};d3.chargeDistance=function(ib){if(!arguments.length){return Math.sqrt(h4)}h4=ib*ib;return d3};d3.gravity=function(ib){if(!arguments.length){return hX}hX=+ib;return d3};d3.theta=function(ib){if(!arguments.length){return Math.sqrt(h2)}h2=ib*ib;return d3};d3.alpha=function(ib){if(!arguments.length){return hW}ib=+ib;if(hW){if(ib>0){hW=ib}else{hW=0}}else{if(ib>0){h7.start({type:"start",alpha:hW=ib});g5.timer(d3.tick)}}return d3};d3.start=function(){var ig,ij=h5.length,ic=hU.length,id=h1[0],ih=h1[1],ie,ii;for(ig=0;ig<ij;++ig){(ii=h5[ig]).index=ig;ii.weight=0}for(ig=0;ig<ic;++ig){ii=hU[ig];if(typeof ii.source=="number"){ii.source=h5[ii.source]}if(typeof ii.target=="number"){ii.target=h5[ii.target]}++ii.source.weight;++ii.target.weight}for(ig=0;ig<ij;++ig){ii=h5[ig];if(isNaN(ii.x)){ii.x=ib("x",id)}if(isNaN(ii.y)){ii.y=ib("y",ih)}if(isNaN(ii.px)){ii.px=ii.x}if(isNaN(ii.py)){ii.py=ii.y}}hY=[];if(typeof ia==="function"){for(ig=0;ig<ic;++ig){hY[ig]=+ia.call(this,hU[ig],ig)}}else{for(ig=0;ig<ic;++ig){hY[ig]=ia}}e=[];if(typeof hV==="function"){for(ig=0;ig<ic;++ig){e[ig]=+hV.call(this,hU[ig],ig)}}else{for(ig=0;ig<ic;++ig){e[ig]=hV}}h0=[];if(typeof h6==="function"){for(ig=0;ig<ij;++ig){h0[ig]=+h6.call(this,h5[ig],ig)}}else{for(ig=0;ig<ij;++ig){h0[ig]=h6}}function ib(iq,io){if(!ie){ie=new Array(ij);for(im=0;im<ij;++im){ie[im]=[]}for(im=0;im<il;++im){var ir=hU[im];ie[ir.source.index].push(ir.target);ie[ir.target.index].push(ir.source)}}var ip=ie[ig],im=-1,il=ip.length,ik;while(++im<il){if(!isNaN(ik=ip[im][iq])){return ik}}return Math.random()*io}return d3.resume()};d3.resume=function(){return d3.alpha(0.1)};d3.stop=function(){return d3.alpha(0)};d3.drag=function(){if(!h9){h9=g5.behavior.drag().origin(f6).on("dragstart.force",o).on("drag.force",h3).on("dragend.force",d1)}if(!arguments.length){return h9}this.on("mouseover.force",cp).on("mouseout.force",d9).call(h9)};function h3(ib){ib.px=g5.event.x,ib.py=g5.event.y;d3.resume()}return g5.rebind(d3,h7,"on")};function o(e){e.fixed|=2}function d1(e){e.fixed&=~6}function cp(e){e.fixed|=4;e.px=e.x,e.py=e.y}function d9(e){e.fixed&=~4}function gk(h1,hW,h0){var hX=0,hU=0;h1.charge=0;if(!h1.leaf){var e=h1.nodes,d3=e.length,hY=-1,hZ;while(++hY<d3){hZ=e[hY];if(hZ==null){continue}gk(hZ,hW,h0);h1.charge+=hZ.charge;hX+=hZ.charge*hZ.cx;hU+=hZ.charge*hZ.cy}}if(h1.point){if(!h1.leaf){h1.point.x+=Math.random()-0.5;h1.point.y+=Math.random()-0.5}var hV=hW*h0[h1.point.index];h1.charge+=h1.pointCharge=hV;hX+=hV*h1.point.x;hU+=hV*h1.point.y}h1.cx=hX/h1.charge;h1.cy=hU/h1.charge}var fD=20,cm=1,b4=Infinity;g5.layout.hierarchy=function(){var hU=dG,d3=a2,hV=hs;function e(hX){var hW=[hX],hY=[],hZ;hX.depth=0;while((hZ=hW.pop())!=null){hY.push(hZ);if((h0=d3.call(e,hZ,hZ.depth))&&(h2=h0.length)){var h2,h0,h1;while(--h2>=0){hW.push(h1=h0[h2]);h1.parent=hZ;h1.depth=hZ.depth+1}if(hV){hZ.value=0}hZ.children=h0}else{if(hV){hZ.value=+hV.call(e,hZ,hZ.depth)||0}delete hZ.children}}gv(hX,function(h4){var h5,h3;if(hU&&(h5=h4.children)){h5.sort(hU)}if(hV&&(h3=h4.parent)){h3.value+=h4.value}});return hY}e.sort=function(hW){if(!arguments.length){return hU}hU=hW;return e};e.children=function(hW){if(!arguments.length){return d3}d3=hW;return e};e.value=function(hW){if(!arguments.length){return hV}hV=hW;return e};e.revalue=function(hW){if(hV){ej(hW,function(hX){if(hX.children){hX.value=0}});gv(hW,function(hY){var hX;if(!hY.children){hY.value=+hV.call(e,hY,hY.depth)||0}if(hX=hY.parent){hX.value+=hY.value}})}return hW};return e};function gd(d3,e){g5.rebind(d3,e,"sort","children","value");d3.nodes=d3;d3.links=gh;return d3}function ej(hU,hW){var e=[hU];while((hU=e.pop())!=null){hW(hU);if((d3=hU.children)&&(hV=d3.length)){var hV,d3;while(--hV>=0){e.push(d3[hV])}}}}function gv(hW,hY){var d3=[hW],e=[];while((hW=d3.pop())!=null){e.push(hW);if((hU=hW.children)&&(hX=hU.length)){var hV=-1,hX,hU;while(++hV<hX){d3.push(hU[hV])}}}while((hW=e.pop())!=null){hY(hW)}}function a2(e){return e.children}function hs(e){return e.value}function dG(d3,e){return e.value-d3.value}function gh(e){return g5.merge(e.map(function(d3){return(d3.children||[]).map(function(hU){return{source:d3,target:hU}})}))}g5.layout.partition=function(){var hU=g5.layout.hierarchy(),hV=[1,1];function e(hZ,h3,h5,h4){var hX=hZ.children;hZ.x=h3;hZ.y=hZ.depth*h4;hZ.dx=h5;hZ.dy=h4;if(hX&&(hY=hX.length)){var h0=-1,hY,h2,h1;h5=hZ.value?h5/hZ.value:0;while(++h0<hY){e(h2=hX[h0],h3,h1=h2.value*h5,h4);h3+=h1}}}function hW(hZ){var hY=hZ.children,h0=0;if(hY&&(h1=hY.length)){var hX=-1,h1;while(++hX<h1){h0=Math.max(h0,hW(hY[hX]))}}return 1+h0}function d3(hZ,hY){var hX=hU.call(this,hZ,hY);e(hX[0],0,hV[0],hV[1]/hW(hX[0]));return hX}d3.size=function(hX){if(!arguments.length){return hV}hV=hX;return d3};return gd(d3,hU)};g5.layout.pie=function(){var hW=Number,hV=R,hU=0,d3=fT;function e(h2){var hZ=h2.map(function(h4,h3){return +hW.call(e,h4,h3)});var hX=+(typeof hU==="function"?hU.apply(this,arguments):hU);var hY=((typeof d3==="function"?d3.apply(this,arguments):d3)-hX)/g5.sum(hZ);var h0=g5.range(h2.length);if(hV!=null){h0.sort(hV===R?function(h4,h3){return hZ[h3]-hZ[h4]}:function(h4,h3){return hV(h2[h4],h2[h3])})}var h1=[];h0.forEach(function(h3){var h4;h1[h3]={data:h2[h3],value:h4=hZ[h3],startAngle:hX,endAngle:hX+=h4*hY}});return h1}e.value=function(hX){if(!arguments.length){return hW}hW=hX;return e};e.sort=function(hX){if(!arguments.length){return hV}hV=hX;return e};e.startAngle=function(hX){if(!arguments.length){return hU}hU=hX;return e};e.endAngle=function(hX){if(!arguments.length){return d3}d3=hX;return e};return e};var R={};g5.layout.stack=function(){var hV=f6,hU=bK,hX=fs,hW=ft,d3=ak,hY=ai;function e(h6,h8){var h7=h6.map(function(ib,ia){return hV.call(e,ib,ia)});var h9=h7.map(function(ia){return ia.map(function(ib,ic){return[d3.call(e,ib,ic),hY.call(e,ib,ic)]})});var h3=hU.call(e,h9,h8);h7=g5.permute(h7,h3);h9=g5.permute(h9,h3);var h2=hX.call(e,h9,h8);var h0=h7.length,h1=h7[0].length,h5,h4,hZ;for(h4=0;h4<h1;++h4){hW.call(e,h7[0][h4],hZ=h2[h4],h9[0][h4][1]);for(h5=1;h5<h0;++h5){hW.call(e,h7[h5][h4],hZ+=h9[h5-1][h4][1],h9[h5][h4][1])}}return h6}e.values=function(hZ){if(!arguments.length){return hV}hV=hZ;return e};e.order=function(hZ){if(!arguments.length){return hU}hU=typeof hZ==="function"?hZ:a0.get(hZ)||bK;return e};e.offset=function(hZ){if(!arguments.length){return hX}hX=typeof hZ==="function"?hZ:ad.get(hZ)||fs;return e};e.x=function(hZ){if(!arguments.length){return d3}d3=hZ;return e};e.y=function(hZ){if(!arguments.length){return hY}hY=hZ;return e};e.out=function(hZ){if(!arguments.length){return hW}hW=hZ;return e};return e};function ak(e){return e.x}function ai(e){return e.y}function ft(d3,e,hU){d3.y0=e;d3.y=hU}var a0=g5.map({"inside-out":function(hW){var hU=hW.length,hX,hV,h1=hW.map(bQ),hY=hW.map(di),hZ=g5.range(hU).sort(function(h4,h3){return h1[h4]-h1[h3]}),h0=0,e=0,h2=[],d3=[];for(hX=0;hX<hU;++hX){hV=hZ[hX];if(h0<e){h0+=hY[hV];h2.push(hV)}else{e+=hY[hV];d3.push(hV)}}return d3.reverse().concat(h2)},reverse:function(e){return g5.range(e.length).reverse()},"default":bK});var ad=g5.map({silhouette:function(hW){var d3=hW.length,hU=hW[0].length,hY=[],hZ=0,hX,hV,e,h0=[];for(hV=0;hV<hU;++hV){for(hX=0,e=0;hX<d3;hX++){e+=hW[hX][hV][1]}if(e>hZ){hZ=e}hY.push(e)}for(hV=0;hV<hU;++hV){h0[hV]=(hZ-hY[hV])/2}return h0},wiggle:function(hY){var d3=hY.length,h1=hY[0],hU=h1.length,hZ,hX,hW,h4,h3,h0,h5,e,hV,h2=[];h2[0]=e=hV=0;for(hX=1;hX<hU;++hX){for(hZ=0,h4=0;hZ<d3;++hZ){h4+=hY[hZ][hX][1]}for(hZ=0,h3=0,h5=h1[hX][0]-h1[hX-1][0];hZ<d3;++hZ){for(hW=0,h0=(hY[hZ][hX][1]-hY[hZ][hX-1][1])/(2*h5);hW<hZ;++hW){h0+=(hY[hW][hX][1]-hY[hW][hX-1][1])/h5}h3+=h0*hY[hZ][hX][1]}h2[hX]=e-=h4?h3/h4*h5:0;if(e<hV){hV=e}}for(hX=0;hX<hU;++hX){h2[hX]-=hV}return h2},expand:function(hX){var hZ=hX.length,e=hX[0].length,d3=1/hZ,hV,hU,hY,hW=[];for(hU=0;hU<e;++hU){for(hV=0,hY=0;hV<hZ;hV++){hY+=hX[hV][hU][1]}if(hY){for(hV=0;hV<hZ;hV++){hX[hV][hU][1]/=hY}}else{for(hV=0;hV<hZ;hV++){hX[hV][hU][1]=d3}}}for(hU=0;hU<e;++hU){hW[hU]=0}return hW},zero:fs});function bK(e){return g5.range(e.length)}function fs(hV){var d3=-1,e=hV[0].length,hU=[];while(++d3<e){hU[d3]=0}return hU}function bQ(hX){var hV=1,hU=0,d3=hX[0][1],e,hW=hX.length;for(;hV<hW;++hV){if((e=hX[hV][1])>d3){hU=hV;d3=e}}return hU}function di(e){return e.reduce(fr,0)}function fr(e,d3){return e+d3[1]}g5.layout.histogram=function(){var hW=true,d3=Number,e=bd,hU=he;function hV(h0,h1){var h6=[],h4=h0.map(d3,this),h2=e.call(this,h4,h1),h5=hU.call(this,h2,h4,h1),h7,h1=-1,hX=h4.length,hY=h5.length-1,hZ=hW?1:1/hX,h3;while(++h1<hY){h7=h6[h1]=[];h7.dx=h5[h1+1]-(h7.x=h5[h1]);h7.y=0}if(hY>0){h1=-1;while(++h1<hX){h3=h4[h1];if(h3>=h2[0]&&h3<=h2[1]){h7=h6[g5.bisect(h5,h3,1,hY)-1];h7.y+=hZ;h7.push(h0[h1])}}}return h6}hV.value=function(hX){if(!arguments.length){return d3}d3=hX;return hV};hV.range=function(hX){if(!arguments.length){return e}e=O(hX);return hV};hV.bins=function(hX){if(!arguments.length){return hU}hU=typeof hX==="number"?function(hY){return g(hY,hX)}:O(hX);return hV};hV.frequency=function(hX){if(!arguments.length){return hW}hW=!!hX;return hV};return hV};function he(d3,e){return g(d3,Math.ceil(Math.log(e.length)/Math.LN2+1))}function g(hV,hX){var hU=-1,d3=+hV[0],e=(hV[1]-d3)/hX,hW=[];while(++hU<=hX){hW[hU]=e*hU+d3}return hW}function bd(e){return[g5.min(e),g5.max(e)]}g5.layout.pack=function(){var d3=g5.layout.hierarchy().sort(ep),hW=0,hV=[1,1],e;function hU(h4,h0){var hZ=d3.call(this,h4,h0),hY=hZ[0],hX=hV[0],h1=hV[1],h2=e==null?Math.sqrt:typeof e==="function"?e:function(){return e};hY.x=hY.y=0;gv(hY,function(h5){h5.r=+h2(h5.value)});gv(hY,Q);if(hW){var h3=hW*(e?1:Math.max(2*hY.r/hX,2*hY.r/h1))/2;gv(hY,function(h5){h5.r+=h3});gv(hY,Q);gv(hY,function(h5){h5.r-=h3})}fb(hY,hX/2,h1/2,e?1:1/Math.max(2*hY.r/hX,2*hY.r/h1));return hZ}hU.size=function(hX){if(!arguments.length){return hV}hV=hX;return hU};hU.radius=function(hX){if(!arguments.length){return e}e=hX==null||typeof hX==="function"?hX:+hX;return hU};hU.padding=function(hX){if(!arguments.length){return hW}hW=+hX;return hU};return gd(hU,d3)};function ep(d3,e){return d3.value-e.value}function bJ(d3,e){var hU=d3._pack_next;d3._pack_next=e;e._pack_prev=d3;e._pack_next=hU;hU._pack_prev=e}function a8(d3,e){d3._pack_next=e;e._pack_prev=d3}function ea(hU,e){var hV=e.x-hU.x,d3=e.y-hU.y,hW=hU.r+e.r;return 0.999*hW*hW>hV*hV+d3*d3}function Q(h3){if(!(h2=h3.children)||!(h1=h2.length)){return}var h2,h7=Infinity,ib=-Infinity,e=Infinity,hW=-Infinity,ia,h9,h8,h6,h5,h4,h1;function hU(ic){h7=Math.min(ic.x-ic.r,h7);ib=Math.max(ic.x+ic.r,ib);e=Math.min(ic.y-ic.r,e);hW=Math.max(ic.y+ic.r,hW)}h2.forEach(aO);ia=h2[0];ia.x=-ia.r;ia.y=0;hU(ia);if(h1>1){h9=h2[1];h9.x=h9.r;h9.y=0;hU(h9);if(h1>2){h8=h2[2];a7(ia,h9,h8);hU(h8);bJ(ia,h8);ia._pack_prev=h8;bJ(h8,h9);h9=ia._pack_next;for(h6=3;h6<h1;h6++){a7(ia,h9,h8=h2[h6]);var d3=0,hX=1,hV=1;for(h5=h9._pack_next;h5!==h9;h5=h5._pack_next,hX++){if(ea(h5,h8)){d3=1;break}}if(d3==1){for(h4=ia._pack_prev;h4!==h5._pack_prev;h4=h4._pack_prev,hV++){if(ea(h4,h8)){break}}}if(d3){if(hX<hV||hX==hV&&h9.r<ia.r){a8(ia,h9=h5)}else{a8(ia=h4,h9)}h6--}else{bJ(ia,h8);h9=h8;hU(h8)}}}}var hZ=(h7+ib)/2,hY=(e+hW)/2,h0=0;for(h6=0;h6<h1;h6++){h8=h2[h6];h8.x-=hZ;h8.y-=hY;h0=Math.max(h0,h8.r+Math.sqrt(h8.x*h8.x+h8.y*h8.y))}h3.r=h0;h2.forEach(eE)}function aO(e){e._pack_next=e._pack_prev=e}function eE(e){delete e._pack_next;delete e._pack_prev}function fb(hW,e,hY,d3){var hV=hW.children;hW.x=e+=d3*hW.x;hW.y=hY+=d3*hW.y;hW.r*=d3;if(hV){var hU=-1,hX=hV.length;while(++hU<hX){fb(hV[hU],e,hY,d3)}}}function a7(hW,hU,e){var hY=hW.r+e.r,h1=hU.x-hW.x,hZ=hU.y-hW.y;if(hY&&(h1||hZ)){var h0=hU.r+e.r,hX=h1*h1+hZ*hZ;h0*=h0;hY*=hY;var hV=0.5+(hY-h0)/(2*hX),d3=Math.sqrt(Math.max(0,2*h0*(hY+hX)-(hY-=hX)*hY-h0*h0))/(2*hX);e.x=hW.x+hV*h1+d3*hZ;e.y=hW.y+hV*hZ-d3*h1}else{e.x=hW.x+hY;e.y=hW.y}}g5.layout.tree=function(){var hW=g5.layout.hierarchy().sort(null).value(null),d3=dn,h0=[1,1],hX=null;function h1(h9,h6){var h3=hW.call(this,h9,h6),ib=h3[0],ia=hZ(ib);gv(ia,hV),ia.parent.m=-ia.z;ej(ia,hY);if(hX){ej(ib,hU)}else{var h4=ib,ic=ib,h2=ib;ej(ib,function(id){if(id.x<h4.x){h4=id}if(id.x>ic.x){ic=id}if(id.depth>h2.depth){h2=id}});var h5=d3(h4,ic)/2-h4.x,h8=h0[0]/(ic.x+d3(ic,h4)/2+h5),h7=h0[1]/(h2.depth||1);ej(ib,function(id){id.x=(id.x+h5)*h8;id.y=id.depth*h7})}return h3}function hZ(h5){var h3={A:null,children:[h5]},h2=[h3],h4;while((h4=h2.pop())!=null){for(var h7=h4.children,h9,h6=0,h8=h7.length;h6<h8;++h6){h2.push((h7[h6]=h9={_:h7[h6],parent:h4,children:(h9=h7[h6].children)&&h9.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:h6}).a=h9)}}return h3.children[0]}function hV(h3){var h5=h3.children,h6=h3.parent.children,h2=h3.i?h6[h3.i-1]:null;if(h5.length){dr(h3);var h4=(h5[0].z+h5[h5.length-1].z)/2;if(h2){h3.z=h2.z+d3(h3._,h2._);h3.m=h3.z-h4}else{h3.z=h4}}else{if(h2){h3.z=h2.z+d3(h3._,h2._)}}h3.parent.A=e(h3,h2,h3.parent.A||h6[0])}function hY(h2){h2._.x=h2.z+h2.parent.m;h2.m+=h2.parent.m}function e(id,ic,h7){if(ic){var h4=id,h3=id,h6=ic,h5=h4.parent.children[0],h9=h4.m,h8=h3.m,ib=h6.m,ia=h5.m,h2;while(h6=ay(h6),h4=hF(h4),h6&&h4){h5=hF(h5);h3=ay(h3);h3.a=id;h2=h6.z+ib-h4.z-h9+d3(h6._,h4._);if(h2>0){hH(fJ(h6,id,h7),id,h2);h9+=h2;h8+=h2}ib+=h6.m;h9+=h4.m;ia+=h5.m;h8+=h3.m}if(h6&&!ay(h3)){h3.t=h6;h3.m+=ib-h8}if(h4&&!hF(h5)){h5.t=h4;h5.m+=h9-ia;h7=id}}return h7}function hU(h2){h2.x*=h0[0];h2.y=h2.depth*h0[1]}h1.separation=function(h2){if(!arguments.length){return d3}d3=h2;return h1};h1.size=function(h2){if(!arguments.length){return hX?null:h0}hX=(h0=h2)==null?hU:null;return h1};h1.nodeSize=function(h2){if(!arguments.length){return hX?h0:null}hX=(h0=h2)==null?null:hU;return h1};return gd(h1,hW)};function dn(d3,e){return d3.parent==e.parent?1:2}function hF(e){var d3=e.children;return d3.length?d3[0]:e.t}function ay(e){var d3=e.children,hU;return(hU=d3.length)?d3[hU-1]:e.t}function hH(hU,d3,e){var hV=e/(d3.i-hU.i);d3.c-=hV;d3.s+=e;hU.c+=hV;d3.z+=e;d3.m+=e}function dr(hU){var d3=0,hX=0,hW=hU.children,hV=hW.length,e;while(--hV>=0){e=hW[hV];e.z+=d3;e.m+=d3;d3+=e.s+(hX+=e.c)}}function fJ(d3,e,hU){return d3.a.parent===e.parent?d3.a:hU}g5.layout.cluster=function(){var hU=g5.layout.hierarchy().sort(null).value(null),hW=dn,hV=[1,1],d3=false;function e(h2,h1){var hX=hU.call(this,h2,h1),h3=hX[0],h4,h5=0;gv(h3,function(h8){var h7=h8.children;if(h7&&h7.length){h8.x=br(h7);h8.y=bq(h7)}else{h8.x=h4?h5+=hW(h8,h4):0;h8.y=0;h4=h8}});var h0=er(h3),h6=dv(h3),hZ=h0.x-hW(h0,h6)/2,hY=h6.x+hW(h6,h0)/2;gv(h3,d3?function(h7){h7.x=(h7.x-h3.x)*hV[0];h7.y=(h3.y-h7.y)*hV[1]}:function(h7){h7.x=(h7.x-hZ)/(hY-hZ)*hV[0];h7.y=(1-(h3.y?h7.y/h3.y:1))*hV[1]});return hX}e.separation=function(hX){if(!arguments.length){return hW}hW=hX;return e};e.size=function(hX){if(!arguments.length){return d3?null:hV}d3=(hV=hX)==null;return e};e.nodeSize=function(hX){if(!arguments.length){return d3?hV:null}d3=(hV=hX)!=null;return e};return gd(e,hU)};function bq(e){return 1+g5.max(e,function(d3){return d3.y})}function br(e){return e.reduce(function(d3,hU){return d3+hU.x},0)/e.length}function er(d3){var e=d3.children;return e&&e.length?er(e[0]):d3}function dv(d3){var e=d3.children,hU;return e&&(hU=e.length)?dv(e[hU-1]):d3}g5.layout.treemap=function(){var h0=g5.layout.hierarchy(),h4=Math.round,h6=[1,1],h1=null,e=eV,h2=false,hY,hX="squarify",hZ=0.5*(1+Math.sqrt(5));function d3(h9,h7){var h8=-1,ic=h9.length,ib,ia;while(++h8<ic){ia=(ib=h9[h8]).value*(h7<0?0:h7);ib.area=isNaN(ia)||ia<=0?0:ia}}function hV(ib){var h8=ib.children;if(h8&&h8.length){var ie=e(ib),ih=[],id=h8.slice(),h7,ic=Infinity,ia,ig=hX==="slice"?ie.dx:hX==="dice"?ie.dy:hX==="slice-dice"?ib.depth&1?ie.dy:ie.dx:Math.min(ie.dx,ie.dy),h9;d3(id,ie.dx*ie.dy/ib.value);ih.area=0;while((h9=id.length)>0){ih.push(h7=id[h9-1]);ih.area+=h7.area;if(hX!=="squarify"||(ia=hU(ih,ig))<=ic){id.pop();ic=ia}else{ih.area-=ih.pop().area;hW(ih,ig,ie,false);ig=Math.min(ie.dx,ie.dy);ih.length=ih.area=0;ic=Infinity}}if(ih.length){hW(ih,ig,ie,true);ih.length=ih.area=0}h8.forEach(hV)}}function h5(ia){var h7=ia.children;if(h7&&h7.length){var h9=e(ia),h8=h7.slice(),ic,ib=[];d3(h8,h9.dx*h9.dy/ia.value);ib.area=0;while(ic=h8.pop()){ib.push(ic);ib.area+=ic.area;if(ic.z!=null){hW(ib,ic.z?h9.dx:h9.dy,h9,!h8.length);ib.length=ib.area=0}}h7.forEach(h5)}}function hU(ic,h8){var ia=ic.area,ib,ie=0,h7=Infinity,h9=-1,id=ic.length;while(++h9<id){if(!(ib=ic[h9].area)){continue}if(ib<h7){h7=ib}if(ib>ie){ie=ib}}ia*=ia;h8*=h8;return ia?Math.max(h8*ie*hZ/ia,ia/(h8*h7*hZ)):Infinity}function hW(ih,ig,ib,ie){var h9=-1,h8=ih.length,ic=ib.x,ia=ib.y,id=ig?h4(ih.area/ig):0,h7;if(ig==ib.dx){if(ie||id>ib.dy){id=ib.dy}while(++h9<h8){h7=ih[h9];h7.x=ic;h7.y=ia;h7.dy=id;ic+=h7.dx=Math.min(ib.x+ib.dx-ic,id?h4(h7.area/id):0)}h7.z=true;h7.dx+=ib.x+ib.dx-ic;ib.y+=id;ib.dy-=id}else{if(ie||id>ib.dx){id=ib.dx}while(++h9<h8){h7=ih[h9];h7.x=ic;h7.y=ia;h7.dx=id;ia+=h7.dy=Math.min(ib.y+ib.dy-ia,id?h4(h7.area/id):0)}h7.z=false;h7.dy+=ib.y+ib.dy-ia;ib.x+=id;ib.dx-=id}}function h3(h9){var h8=hY||h0(h9),h7=h8[0];h7.x=0;h7.y=0;h7.dx=h6[0];h7.dy=h6[1];if(hY){h0.revalue(h7)}d3([h7],h7.dx*h7.dy/h7.value);(hY?h5:hV)(h7);if(h2){hY=h8}return h8}h3.size=function(h7){if(!arguments.length){return h6}h6=h7;return h3};h3.padding=function(h7){if(!arguments.length){return h1}function ia(ib){var ic=h7.call(h3,ib,ib.depth);return ic==null?eV(ib):aW(ib,typeof ic==="number"?[ic,ic,ic,ic]:ic)}function h9(ib){return aW(ib,h7)}var h8;e=(h1=h7)==null?eV:(h8=typeof h7)==="function"?ia:h8==="number"?(h7=[h7,h7,h7,h7],h9):h9;return h3};h3.round=function(h7){if(!arguments.length){return h4!=Number}h4=h7?Math.round:Number;return h3};h3.sticky=function(h7){if(!arguments.length){return h2}h2=h7;hY=null;return h3};h3.ratio=function(h7){if(!arguments.length){return hZ}hZ=h7;return h3};h3.mode=function(h7){if(!arguments.length){return hX}hX=h7+"";return h3};return gd(h3,h0)};function eV(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function aW(hV,hW){var e=hV.x+hW[3],hX=hV.y+hW[0],hU=hV.dx-hW[1]-hW[3],d3=hV.dy-hW[0]-hW[2];if(hU<0){e+=hU/2;hU=0}if(d3<0){hX+=d3/2;d3=0}return{x:e,y:hX,dx:hU,dy:d3}}g5.random={normal:function(d3,e){var hU=arguments.length;if(hU<2){e=1}if(hU<1){d3=0}return function(){var hV,hX,hW;do{hV=Math.random()*2-1;hX=Math.random()*2-1;hW=hV*hV+hX*hX}while(!hW||hW>1);return d3+e*hV*Math.sqrt(-2*Math.log(hW)/hW)}},logNormal:function(){var e=g5.random.normal.apply(g5,arguments);return function(){return Math.exp(e())}},bates:function(e){var d3=g5.random.irwinHall(e);return function(){return d3()/e}},irwinHall:function(e){return function(){for(var hU=0,d3=0;d3<e;d3++){hU+=Math.random()}return hU}}};g5.scale={};function eg(d3){var hU=d3[0],e=d3[d3.length-1];return hU<e?[hU,e]:[e,hU]}function aV(e){return e.rangeExtent?e.rangeExtent():eg(e.range())}function aD(hW,e,hX,hU){var d3=hX(hW[0],hW[1]),hV=hU(e[0],e[1]);return function(hY){return hV(d3(hY))}}function f3(hY,hW){var hX=0,hV=hY.length-1,hU=hY[hX],d3=hY[hV],e;if(d3<hU){e=hX,hX=hV,hV=e;e=hU,hU=d3,d3=e}hY[hX]=hW.floor(hU);hY[hV]=hW.ceil(d3);return hY}function a1(e){return e?{floor:function(d3){return Math.floor(d3/e)*e},ceil:function(d3){return Math.ceil(d3/e)*e}}:eq}var eq={floor:f6,ceil:f6};function J(hY,d3,hZ,hW){var hV=[],hX=[],hU=0,e=Math.min(hY.length,d3.length)-1;if(hY[e]<hY[0]){hY=hY.slice().reverse();d3=d3.slice().reverse()}while(++hU<=e){hV.push(hZ(hY[hU-1],hY[hU]));hX.push(hW(d3[hU-1],d3[hU]))}return function(h0){var h1=g5.bisect(hY,h0,1,e)-1;return hX[h1](hV[h1](h0))}}g5.scale.linear=function(){return d8([0,1],[0,1],fq,false)};function d8(hX,hV,hW,hZ){var hU,d3;function e(){var h0=Math.min(hX.length,hV.length)>2?J:aD,h1=hZ?aw:hd;hU=h0(hX,hV,h1,hW);d3=h0(hV,hX,h1,fq);return hY}function hY(h0){return hU(h0)}hY.invert=function(h0){return d3(h0)};hY.domain=function(h0){if(!arguments.length){return hX}hX=h0.map(Number);return e()};hY.range=function(h0){if(!arguments.length){return hV}hV=h0;return e()};hY.rangeRound=function(h0){return hY.range(h0).interpolate(fl)};hY.clamp=function(h0){if(!arguments.length){return hZ}hZ=h0;return e()};hY.interpolate=function(h0){if(!arguments.length){return hW}hW=h0;return e()};hY.ticks=function(h0){return eQ(hX,h0)};hY.tickFormat=function(h0,h1){return eY(hX,h0,h1)};hY.nice=function(h0){aJ(hX,h0);return e()};hY.copy=function(){return d8(hX,hV,hW,hZ)};return e()}function fV(d3,e){return g5.rebind(d3,e,"range","rangeRound","interpolate","clamp")}function aJ(d3,e){return f3(d3,a1(n(d3,e)[2]))}function n(hX,e){if(e==null){e=10}var hU=eg(hX),d3=hU[1]-hU[0],hW=Math.pow(10,Math.floor(Math.log(d3/e)/Math.LN10)),hV=e/d3*hW;if(hV<=0.15){hW*=10}else{if(hV<=0.35){hW*=5}else{if(hV<=0.75){hW*=2}}}hU[0]=Math.ceil(hU[0]/hW)*hW;hU[1]=Math.floor(hU[1]/hW)*hW+hW*0.5;hU[2]=hW;return hU}function eQ(d3,e){return g5.range.apply(g5,n(d3,e))}function eY(hW,e,hX){var d3=n(hW,e);if(hX){var hU=cs.exec(hX);hU.shift();if(hU[8]==="s"){var hV=g5.formatPrefix(Math.max(cy(d3[0]),cy(d3[1])));if(!hU[7]){hU[7]="."+gG(hV.scale(d3[2]))}hU[8]="f";hX=g5.format(hU.join(""));return function(hY){return hX(hV.scale(hY))+hV.symbol}}if(!hU[7]){hU[7]="."+v(hU[8],d3)}hX=hU.join("")}else{hX=",."+gG(d3[2])+"f"}return g5.format(hX)}var hE={s:1,g:1,p:1,r:1,e:1};function gG(e){return -Math.floor(Math.log(e)/Math.LN10+0.01)}function v(d3,e){var hU=gG(e[2]);return d3 in hE?Math.abs(hU-gG(Math.max(cy(e[0]),cy(e[1]))))+ +(d3!=="e"):hU-(d3==="%")*2}g5.scale.log=function(){return gp(g5.scale.linear().domain([0,1]),10,true,[1,10])};function gp(d3,hX,e,hW){function hU(hZ){return(e?Math.log(hZ<0?0:hZ):-Math.log(hZ>0?0:-hZ))/Math.log(hX)}function hV(hZ){return e?Math.pow(hX,hZ):-Math.pow(hX,-hZ)}function hY(hZ){return d3(hU(hZ))}hY.invert=function(hZ){return hV(d3.invert(hZ))};hY.domain=function(hZ){if(!arguments.length){return hW}e=hZ[0]>=0;d3.domain((hW=hZ.map(Number)).map(hU));return hY};hY.base=function(hZ){if(!arguments.length){return hX}hX=+hZ;d3.domain(hW.map(hU));return hY};hY.nice=function(){var hZ=f3(hW.map(hU),e?Math:gu);d3.domain(hZ);hW=hZ.map(hV);return hY};hY.ticks=function(){var h4=eg(hW),h5=[],h2=h4[0],h0=h4[1],h3=Math.floor(hU(h2)),h1=Math.ceil(hU(h0)),h6=hX%1?2:hX;if(isFinite(h1-h3)){if(e){for(;h3<h1;h3++){for(var hZ=1;hZ<h6;hZ++){h5.push(hV(h3)*hZ)}}h5.push(hV(h3))}else{h5.push(hV(h3));for(;h3++<h1;){for(var hZ=h6-1;hZ>0;hZ--){h5.push(hV(h3)*hZ)}}}for(h3=0;h5[h3]<h2;h3++){}for(h1=h5.length;h5[h1-1]>h0;h1--){}h5=h5.slice(h3,h1)}return h5};hY.tickFormat=function(h3,h2){if(!arguments.length){return dh}if(arguments.length<2){h2=dh}else{if(typeof h2!=="function"){h2=g5.format(h2)}}var hZ=Math.max(0.1,h3/hY.ticks().length),h0=e?(h1=1e-12,Math.ceil):(h1=-1e-12,Math.floor),h1;return function(h4){return h4/hV(h0(hU(h4)+h1))<=hZ?h2(h4):""}};hY.copy=function(){return gp(d3.copy(),hX,e,hW)};return fV(hY,d3)}var dh=g5.format(".0e"),gu={floor:function(e){return -Math.ceil(-e)},ceil:function(e){return -Math.floor(-e)}};g5.scale.pow=function(){return gc(g5.scale.linear(),1,[0,1])};function gc(e,hV,hU){var d3=fF(hV),hW=fF(1/hV);function hX(hY){return e(d3(hY))}hX.invert=function(hY){return hW(e.invert(hY))};hX.domain=function(hY){if(!arguments.length){return hU}e.domain((hU=hY.map(Number)).map(d3));return hX};hX.ticks=function(hY){return eQ(hU,hY)};hX.tickFormat=function(hY,hZ){return eY(hU,hY,hZ)};hX.nice=function(hY){return hX.domain(aJ(hU,hY))};hX.exponent=function(hY){if(!arguments.length){return hV}d3=fF(hV=hY);hW=fF(1/hV);e.domain(hU.map(d3));return hX};hX.copy=function(){return gc(e.copy(),hV,hU)};return fV(hX,e)}function fF(d3){return function(e){return e<0?-Math.pow(-e,d3):Math.pow(e,d3)}}g5.scale.sqrt=function(){return g5.scale.pow().exponent(0.5)};g5.scale.ordinal=function(){return cl([],{t:"range",a:[[]]})};function cl(hX,hU){var hW,d3,hV;function hY(hZ){return d3[((hW.get(hZ)||(hU.t==="range"?hW.set(hZ,hX.push(hZ)):NaN))-1)%d3.length]}function e(h0,hZ){return g5.range(hX.length).map(function(h1){return h0+hZ*h1})}hY.domain=function(hZ){if(!arguments.length){return hX}hX=[];hW=new aF();var h1=-1,h2=hZ.length,h0;while(++h1<h2){if(!hW.has(h0=hZ[h1])){hW.set(h0,hX.push(h0))}}return hY[hU.t].apply(hY,hU.a)};hY.range=function(hZ){if(!arguments.length){return d3}d3=hZ;hV=0;hU={t:"range",a:arguments};return hY};hY.rangePoints=function(hZ,h2){if(arguments.length<2){h2=0}var h3=hZ[0],h0=hZ[1],h1=(h0-h3)/(Math.max(1,hX.length-1)+h2);d3=e(hX.length<2?(h3+h0)/2:h3+h1*h2/2,h1);hV=0;hU={t:"rangePoints",a:arguments};return hY};hY.rangeBands=function(h0,h4,hZ){if(arguments.length<2){h4=0}if(arguments.length<3){hZ=h4}var h1=h0[1]<h0[0],h5=h0[h1-0],h2=h0[1-h1],h3=(h2-h5)/(hX.length-h4+2*hZ);d3=e(h5+h3*hZ,h3);if(h1){d3.reverse()}hV=h3*(1-h4);hU={t:"rangeBands",a:arguments};return hY};hY.rangeRoundBands=function(h0,h5,hZ){if(arguments.length<2){h5=0}if(arguments.length<3){hZ=h5}var h2=h0[1]<h0[0],h6=h0[h2-0],h3=h0[1-h2],h4=Math.floor((h3-h6)/(hX.length-h5+2*hZ)),h1=h3-h6-(hX.length-h5)*h4;d3=e(h6+Math.round(h1/2),h4);if(h2){d3.reverse()}hV=Math.round(h4*(1-h5));hU={t:"rangeRoundBands",a:arguments};return hY};hY.rangeBand=function(){return hV};hY.rangeExtent=function(){return eg(hU.a[0])};hY.copy=function(){return cl(hX,hU)};return hY.domain(hX)}g5.scale.category10=function(){return g5.scale.ordinal().range(ct)};g5.scale.category20=function(){return g5.scale.ordinal().range(cb)};g5.scale.category20b=function(){return g5.scale.ordinal().range(gT)};g5.scale.category20c=function(){return g5.scale.ordinal().range(gR)};var ct=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dk);var cb=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dk);var gT=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dk);var gR=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dk);g5.scale.quantile=function(){return z([],[])};function z(hU,d3){var hV;function e(){var hX=0,hY=d3.length;hV=[];while(++hX<hY){hV[hX-1]=g5.quantile(hU,hX/hY)}return hW}function hW(hX){if(!isNaN(hX=+hX)){return d3[g5.bisect(hV,hX)]}}hW.domain=function(hX){if(!arguments.length){return hU}hU=hX.filter(ha).sort(e6);return e()};hW.range=function(hX){if(!arguments.length){return d3}d3=hX;return e()};hW.quantiles=function(){return hV};hW.invertExtent=function(hX){hX=d3.indexOf(hX);return hX<0?[NaN,NaN]:[hX>0?hV[hX-1]:hU[0],hX<hV.length?hV[hX]:hU[hU.length-1]]};hW.copy=function(){return z(hU,d3)};return e()}g5.scale.quantize=function(){return du(0,1,[0,1])};function du(hW,hU,d3){var hX,hV;function hY(hZ){return d3[Math.max(0,Math.min(hV,Math.floor(hX*(hZ-hW))))]}function e(){hX=d3.length/(hU-hW);hV=d3.length-1;return hY}hY.domain=function(hZ){if(!arguments.length){return[hW,hU]}hW=+hZ[0];hU=+hZ[hZ.length-1];return e()};hY.range=function(hZ){if(!arguments.length){return d3}d3=hZ;return e()};hY.invertExtent=function(hZ){hZ=d3.indexOf(hZ);hZ=hZ<0?NaN:hZ/hX+hW;return[hZ,hZ+1/hX]};hY.copy=function(){return du(hW,hU,d3)};return e()}g5.scale.threshold=function(){return fQ([0.5],[0,1])};function fQ(d3,e){function hU(hV){if(hV<=hV){return e[g5.bisect(d3,hV)]}}hU.domain=function(hV){if(!arguments.length){return d3}d3=hV;return hU};hU.range=function(hV){if(!arguments.length){return e}e=hV;return hU};hU.invertExtent=function(hV){hV=e.indexOf(hV);return[d3[hV-1],d3[hV]]};hU.copy=function(){return fQ(d3,e)};return hU}g5.scale.identity=function(){return eI([0,1])};function eI(d3){function e(hU){return +hU}e.invert=e;e.domain=e.range=function(hU){if(!arguments.length){return d3}d3=hU.map(e);return e};e.ticks=function(hU){return eQ(d3,hU)};e.tickFormat=function(hU,hV){return eY(d3,hU,hV)};e.copy=function(){return eI(d3)};return e}g5.svg={};g5.svg.arc=function(){var hW=bv,hV=cK,hU=f1,e=al;function d3(){var h0=hW.apply(this,arguments),hZ=hV.apply(this,arguments),hY=hU.apply(this,arguments)+hp,hX=e.apply(this,arguments)+hp,h6=(hX<hY&&(h6=hY,hY=hX,hX=h6),hX-hY),h3=h6<fZ?"0":"1",h2=Math.cos(hY),h5=Math.sin(hY),h1=Math.cos(hX),h4=Math.sin(hX);return h6>=hu?h0?"M0,"+hZ+"A"+hZ+","+hZ+" 0 1,1 0,"+-hZ+"A"+hZ+","+hZ+" 0 1,1 0,"+hZ+"M0,"+h0+"A"+h0+","+h0+" 0 1,0 0,"+-h0+"A"+h0+","+h0+" 0 1,0 0,"+h0+"Z":"M0,"+hZ+"A"+hZ+","+hZ+" 0 1,1 0,"+-hZ+"A"+hZ+","+hZ+" 0 1,1 0,"+hZ+"Z":h0?"M"+hZ*h2+","+hZ*h5+"A"+hZ+","+hZ+" 0 "+h3+",1 "+hZ*h1+","+hZ*h4+"L"+h0*h1+","+h0*h4+"A"+h0+","+h0+" 0 "+h3+",0 "+h0*h2+","+h0*h5+"Z":"M"+hZ*h2+","+hZ*h5+"A"+hZ+","+hZ+" 0 "+h3+",1 "+hZ*h1+","+hZ*h4+"L0,0Z"}d3.innerRadius=function(hX){if(!arguments.length){return hW}hW=O(hX);return d3};d3.outerRadius=function(hX){if(!arguments.length){return hV}hV=O(hX);return d3};d3.startAngle=function(hX){if(!arguments.length){return hU}hU=O(hX);return d3};d3.endAngle=function(hX){if(!arguments.length){return e}e=O(hX);return d3};d3.centroid=function(){var hY=(hW.apply(this,arguments)+hV.apply(this,arguments))/2,hX=(hU.apply(this,arguments)+e.apply(this,arguments))/2+hp;return[Math.cos(hX)*hY,Math.sin(hX)*hY]};return d3};var hp=-ed,hu=fT-f8;function bv(e){return e.innerRadius}function cK(e){return e.outerRadius}function f1(e){return e.startAngle}function al(e){return e.endAngle}function eX(d3){var e=hC,hZ=hB,hY=ae,hV=hz,hX=hV.key,hW=0.7;function hU(h3){var h5=[],h8=[],h4=-1,h0=h3.length,h7,h2=O(e),h1=O(hZ);function h6(){h5.push("M",hV(d3(h8),hW))}while(++h4<h0){if(hY.call(this,h7=h3[h4],h4)){h8.push([+h2.call(this,h7,h4),+h1.call(this,h7,h4)])}else{if(h8.length){h6();h8=[]}}}if(h8.length){h6()}return h5.length?h5.join(""):null}hU.x=function(h0){if(!arguments.length){return e}e=h0;return hU};hU.y=function(h0){if(!arguments.length){return hZ}hZ=h0;return hU};hU.defined=function(h0){if(!arguments.length){return hY}hY=h0;return hU};hU.interpolate=function(h0){if(!arguments.length){return hX}if(typeof h0==="function"){hX=hV=h0}else{hX=(hV=b7.get(h0)||hz).key}return hU};hU.tension=function(h0){if(!arguments.length){return hW}hW=h0;return hU};return hU}g5.svg.line=function(){return eX(f6)};var b7=g5.map({linear:hz,"linear-closed":W,step:c1,"step-before":bf,"step-after":hf,basis:e2,"basis-open":bc,"basis-closed":cF,bundle:cI,cardinal:dH,"cardinal-open":bX,"cardinal-closed":p,monotone:c9});b7.forEach(function(e,d3){d3.key=e;d3.closed=/-closed$/.test(e)});function hz(e){return e.join("L")}function W(e){return hz(e)+"Z"}function c1(d3){var e=0,hW=d3.length,hV=d3[0],hU=[hV[0],",",hV[1]];while(++e<hW){hU.push("H",(hV[0]+(hV=d3[e])[0])/2,"V",hV[1])}if(hW>1){hU.push("H",hV[0])}return hU.join("")}function bf(d3){var e=0,hW=d3.length,hV=d3[0],hU=[hV[0],",",hV[1]];while(++e<hW){hU.push("V",(hV=d3[e])[1],"H",hV[0])}return hU.join("")}function hf(d3){var e=0,hW=d3.length,hV=d3[0],hU=[hV[0],",",hV[1]];while(++e<hW){hU.push("H",(hV=d3[e])[0],"V",hV[1])}return hU.join("")}function bX(d3,e){return d3.length<4?hz(d3):d3[1]+cP(d3.slice(1,d3.length-1),bP(d3,e))}function p(d3,e){return d3.length<3?hz(d3):d3[0]+cP((d3.push(d3[0]),d3),bP([d3[d3.length-2]].concat(d3,[d3[1]]),e))}function dH(d3,e){return d3.length<3?hz(d3):d3[0]+cP(d3,bP(d3,e))}function cP(hY,hX){if(hX.length<1||hY.length!=hX.length&&hY.length!=hX.length+2){return hz(hY)}var hZ=hY.length!=hX.length,h2="",h0=hY[0],e=hY[1],hW=hX[0],h1=hW,hU=1;if(hZ){h2+="Q"+(e[0]-hW[0]*2/3)+","+(e[1]-hW[1]*2/3)+","+e[0]+","+e[1];h0=hY[1];hU=2}if(hX.length>1){h1=hX[1];e=hY[hU];hU++;h2+="C"+(h0[0]+hW[0])+","+(h0[1]+hW[1])+","+(e[0]-h1[0])+","+(e[1]-h1[1])+","+e[0]+","+e[1];for(var d3=2;d3<hX.length;d3++,hU++){e=hY[hU];h1=hX[d3];h2+="S"+(e[0]-h1[0])+","+(e[1]-h1[1])+","+e[0]+","+e[1]}}if(hZ){var hV=hY[hU];h2+="Q"+(e[0]+h1[0]*2/3)+","+(e[1]+h1[1]*2/3)+","+hV[0]+","+hV[1]}return h2}function bP(hY,hW){var hU=[],hV=(1-hW)/2,h0,hZ=hY[0],hX=hY[1],d3=1,e=hY.length;while(++d3<e){h0=hZ;hZ=hX;hX=hY[d3];hU.push([hV*(hX[0]-h0[0]),hV*(hX[1]-h0[1])])}return hU}function e2(hZ){if(hZ.length<3){return hz(hZ)}var hU=1,d3=hZ.length,hV=hZ[0],e=hV[0],hX=hV[1],hY=[e,e,e,(hV=hZ[1])[0]],hW=[hX,hX,hX,hV[1]],h0=[e,",",hX,"L",f7(g4,hY),",",f7(g4,hW)];hZ.push(hZ[d3-1]);while(++hU<=d3){hV=hZ[hU];hY.shift();hY.push(hV[0]);hW.shift();hW.push(hV[1]);bI(h0,hY,hW)}hZ.pop();h0.push("L",hV);return h0.join("")}function bc(hV){if(hV.length<4){return hz(hV)}var hX=[],hU=-1,hY=hV.length,hW,d3=[0],e=[0];while(++hU<3){hW=hV[hU];d3.push(hW[0]);e.push(hW[1])}hX.push(f7(g4,d3)+","+f7(g4,e));--hU;while(++hU<hY){hW=hV[hU];d3.shift();d3.push(hW[0]);e.shift();e.push(hW[1]);bI(hX,d3,e)}return hX.join("")}function cF(hW){var hY,hV=-1,hZ=hW.length,e=hZ+4,hX,hU=[],d3=[];while(++hV<4){hX=hW[hV%hZ];hU.push(hX[0]);d3.push(hX[1])}hY=[f7(g4,hU),",",f7(g4,d3)];--hV;while(++hV<e){hX=hW[hV%hZ];hU.shift();hU.push(hX[0]);d3.shift();d3.push(hX[1]);bI(hY,hU,d3)}return hY.join("")}function cI(hY,hX){var hU=hY.length-1;if(hU){var d3=hY[0][0],hW=hY[0][1],h1=hY[hU][0]-d3,h0=hY[hU][1]-hW,hV=-1,e,hZ;while(++hV<=hU){e=hY[hV];hZ=hV/hU;e[0]=hX*e[0]+(1-hX)*(d3+hZ*h1);e[1]=hX*e[1]+(1-hX)*(hW+hZ*h0)}}return e2(hY)}function f7(d3,e){return d3[0]*e[0]+d3[1]*e[1]+d3[2]*e[2]+d3[3]*e[3]}var g8=[0,2/3,1/3,0],g6=[0,1/3,2/3,0],g4=[0,1/6,2/3,1/6];function bI(d3,e,hU){d3.push("C",f7(g8,e),",",f7(g8,hU),",",f7(g6,e),",",f7(g6,hU),",",f7(g4,e),",",f7(g4,hU))}function hM(d3,e){return(e[1]-d3[1])/(e[0]-d3[0])}function dX(hV){var hU=0,d3=hV.length-1,e=[],hY=hV[0],hX=hV[1],hW=e[0]=hM(hY,hX);while(++hU<d3){e[hU]=(hW+(hW=hM(hY=hX,hX=hV[hU+1])))/2}e[hU]=hW;return e}function aq(hZ){var hW=[],hV,hY,hX,h0,e=dX(hZ),hU=-1,d3=hZ.length-1;while(++hU<d3){hV=hM(hZ[hU],hZ[hU+1]);if(cy(hV)<f8){e[hU]=e[hU+1]=0}else{hY=e[hU]/hV;hX=e[hU+1]/hV;h0=hY*hY+hX*hX;if(h0>9){h0=hV*3/Math.sqrt(h0);e[hU]=h0*hY;e[hU+1]=h0*hX}}}hU=-1;while(++hU<=d3){h0=(hZ[Math.min(d3,hU+1)][0]-hZ[Math.max(0,hU-1)][0])/(6*(1+e[hU]*e[hU]));hW.push([h0||0,e[hU]*h0||0])}return hW}function c9(e){return e.length<3?hz(e):e[0]+cP(e,aq(e))}g5.svg.line.radial=function(){var e=eX(M);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};function M(hV){var e,hU=-1,hX=hV.length,hW,d3;while(++hU<hX){e=hV[hU];hW=e[0];d3=e[1]+hp;e[0]=hW*Math.cos(d3);e[1]=hW*Math.sin(d3)}return hV}function hP(hW){var hU=hC,d3=hC,h2=0,h0=hB,hV=ae,hX=hz,h3=hX.key,hZ=hX,hY="L",h1=0.7;function e(h8){var ia=[],h4=[],ii=[],h9=-1,h5=h8.length,ic,h7=O(hU),ih=O(h2),h6=hU===d3?function(){return ie}:O(d3),ig=h2===h0?function(){return id}:O(h0),ie,id;function ib(){ia.push("M",hX(hW(ii),h1),hY,hZ(hW(h4.reverse()),h1),"Z")}while(++h9<h5){if(hV.call(this,ic=h8[h9],h9)){h4.push([ie=+h7.call(this,ic,h9),id=+ih.call(this,ic,h9)]);ii.push([+h6.call(this,ic,h9),+ig.call(this,ic,h9)])}else{if(h4.length){ib();h4=[];ii=[]}}}if(h4.length){ib()}return ia.length?ia.join(""):null}e.x=function(h4){if(!arguments.length){return d3}hU=d3=h4;return e};e.x0=function(h4){if(!arguments.length){return hU}hU=h4;return e};e.x1=function(h4){if(!arguments.length){return d3}d3=h4;return e};e.y=function(h4){if(!arguments.length){return h0}h2=h0=h4;return e};e.y0=function(h4){if(!arguments.length){return h2}h2=h4;return e};e.y1=function(h4){if(!arguments.length){return h0}h0=h4;return e};e.defined=function(h4){if(!arguments.length){return hV}hV=h4;return e};e.interpolate=function(h4){if(!arguments.length){return h3}if(typeof h4==="function"){h3=hX=h4}else{h3=(hX=b7.get(h4)||hz).key}hZ=hX.reverse||hX;hY=hX.closed?"M":"L";return e};e.tension=function(h4){if(!arguments.length){return h1}h1=h4;return e};return e}bf.reverse=hf;hf.reverse=bf;g5.svg.area=function(){return hP(f6)};g5.svg.area.radial=function(){var e=hP(M);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};g5.svg.chord=function(){var e=hq,hZ=hy,hY=E,h0=f1,hW=al;function hX(h5,h3){var h4=h1(this,e,h5,h3),h2=h1(this,hZ,h5,h3);return"M"+h4.p0+d3(h4.r,h4.p1,h4.a1-h4.a0)+(hU(h4,h2)?hV(h4.r,h4.p1,h4.r,h4.p0):hV(h4.r,h4.p1,h2.r,h2.p0)+d3(h2.r,h2.p1,h2.a1-h2.a0)+hV(h2.r,h2.p1,h4.r,h4.p0))+"Z"}function h1(h5,h8,h9,h6){var h4=h8.call(h5,h9,h6),h7=hY.call(h5,h4,h6),h3=h0.call(h5,h4,h6)+hp,h2=hW.call(h5,h4,h6)+hp;return{r:h7,a0:h3,a1:h2,p0:[h7*Math.cos(h3),h7*Math.sin(h3)],p1:[h7*Math.cos(h2),h7*Math.sin(h2)]}}function hU(h3,h2){return h3.a0==h2.a0&&h3.a1==h2.a1}function d3(h3,h4,h2){return"A"+h3+","+h3+" 0 "+ +(h2>fZ)+",1 "+h4}function hV(h3,h5,h2,h4){return"Q 0,0 "+h4}hX.radius=function(h2){if(!arguments.length){return hY}hY=O(h2);return hX};hX.source=function(h2){if(!arguments.length){return e}e=O(h2);return hX};hX.target=function(h2){if(!arguments.length){return hZ}hZ=O(h2);return hX};hX.startAngle=function(h2){if(!arguments.length){return h0}h0=O(h2);return hX};hX.endAngle=function(h2){if(!arguments.length){return hW}hW=O(h2);return hX};return hX};function E(e){return e.radius}g5.svg.diagonal=function(){var hU=hq,hV=hy,e=k;function d3(h0,hX){var h1=hU.call(this,h0,hX),hY=hV.call(this,h0,hX),hW=(h1.y+hY.y)/2,hZ=[h1,{x:h1.x,y:hW},{x:hY.x,y:hW},hY];hZ=hZ.map(e);return"M"+hZ[0]+"C"+hZ[1]+" "+hZ[2]+" "+hZ[3]}d3.source=function(hW){if(!arguments.length){return hU}hU=O(hW);return d3};d3.target=function(hW){if(!arguments.length){return hV}hV=O(hW);return d3};d3.projection=function(hW){if(!arguments.length){return e}e=hW;return d3};return d3};function k(e){return[e.x,e.y]}g5.svg.diagonal.radial=function(){var hU=g5.svg.diagonal(),e=k,d3=hU.projection;hU.projection=function(hV){return arguments.length?d3(l(e=hV)):e};return hU};function l(e){return function(){var hV=e.apply(this,arguments),hU=hV[0],d3=hV[1]+hp;return[hU*Math.cos(d3),hU*Math.sin(d3)]}}g5.svg.symbol=function(){var d3=aR,e=eT;function hU(hW,hV){return(hw.get(d3.call(this,hW,hV))||b9)(e.call(this,hW,hV))}hU.type=function(hV){if(!arguments.length){return d3}d3=O(hV);return hU};hU.size=function(hV){if(!arguments.length){return e}e=O(hV);return hU};return hU};function eT(){return 64}function aR(){return"circle"}function b9(e){var d3=Math.sqrt(e/fZ);return"M0,"+d3+"A"+d3+","+d3+" 0 1,1 0,"+-d3+"A"+d3+","+d3+" 0 1,1 0,"+d3+"Z"}var hw=g5.map({circle:b9,cross:function(e){var d3=Math.sqrt(e/5)/2;return"M"+-3*d3+","+-d3+"H"+-d3+"V"+-3*d3+"H"+d3+"V"+-d3+"H"+3*d3+"V"+d3+"H"+d3+"V"+3*d3+"H"+-d3+"V"+d3+"H"+-3*d3+"Z"},diamond:function(e){var d3=Math.sqrt(e/(2*cf)),hU=d3*cf;return"M0,"+-d3+"L"+hU+",0 0,"+d3+" "+-hU+",0Z"},square:function(e){var d3=Math.sqrt(e)/2;return"M"+-d3+","+-d3+"L"+d3+","+-d3+" "+d3+","+d3+" "+-d3+","+d3+"Z"},"triangle-down":function(e){var hU=Math.sqrt(e/b1),d3=hU*b1/2;return"M0,"+d3+"L"+hU+","+-d3+" "+-hU+","+-d3+"Z"},"triangle-up":function(e){var hU=Math.sqrt(e/b1),d3=hU*b1/2;return"M0,"+-d3+"L"+hU+","+d3+" "+-hU+","+d3+"Z"}});g5.svg.symbolTypes=hw.keys();var b1=Math.sqrt(3),cf=Math.tan(30*G);function gA(e,d3){hO(e,ek);e.id=d3;return e}var ek=[],gS=0,ao,dT;ek.call=dO.call;ek.empty=dO.empty;ek.node=dO.node;ek.size=dO.size;g5.transition=function(e){return arguments.length?ao?e.transition():e:gC.transition()};g5.transition.prototype=ek;ek.select=function(hY){var e=this.id,hV=[],h2,d3,hW;hY=w(hY);for(var hZ=-1,hX=this.length;++hZ<hX;){hV.push(h2=[]);for(var h1=this[hZ],h0=-1,hU=h1.length;++h0<hU;){if((hW=h1[h0])&&(d3=hY.call(hW,hW.__data__,h0,hZ))){if("__data__" in hW){d3.__data__=hW.__data__}fp(d3,h0,e,hW.__transition__[e]);h2.push(d3)}else{h2.push(null)}}}return gA(hV,e)};ek.selectAll=function(h0){var d3=this.id,hX=[],h6,e,hZ,hU,h4;h0=cT(h0);for(var h2=-1,hY=this.length;++h2<hY;){for(var h5=this[h2],h3=-1,hW=h5.length;++h3<hW;){if(hZ=h5[h3]){h4=hZ.__transition__[d3];e=h0.call(hZ,hZ.__data__,h3,h2);hX.push(h6=[]);for(var h1=-1,hV=e.length;++h1<hV;){if(hU=e[h1]){fp(hU,h1,d3,h4)}h6.push(hU)}}}}return gA(hX,d3)};ek.filter=function(e){var hU=[],h0,hZ,hV;if(typeof e!=="function"){e=a3(e)}for(var hX=0,hW=this.length;hX<hW;hX++){hU.push(h0=[]);for(var hZ=this[hX],hY=0,d3=hZ.length;hY<d3;hY++){if((hV=hZ[hY])&&e.call(hV,hV.__data__,hY,hX)){h0.push(hV)}}}return gA(hU,this.id)};ek.tween=function(e,d3){var hU=this.id;if(arguments.length<2){return this.node().__transition__[hU].tween.get(e)}return cA(this,d3==null?function(hV){hV.__transition__[hU].tween.remove(e)}:function(hV){hV.__transition__[hU].tween.set(e,d3)})};function hv(e,d3,hV,hU){var hW=e.id;return cA(e,typeof hV==="function"?function(hZ,hY,hX){hZ.__transition__[hW].tween.set(d3,hU(hV.call(hZ,hZ.__data__,hY,hX)))}:(hV=hU(hV),function(hX){hX.__transition__[hW].tween.set(d3,hV)}))}ek.attr=function(e,hX){if(arguments.length<2){for(hX in e){this.attr(hX,e[hX])}return this}var hV=e=="transform"?d6:fq,hU=g5.ns.qualify(e);function d3(){this.removeAttribute(hU)}function hZ(){this.removeAttributeNS(hU.space,hU.local)}function hW(h0){return h0==null?d3:(h0+="",function(){var h1=this.getAttribute(hU),h2;return h1!==h0&&(h2=hV(h1,h0),function(h3){this.setAttribute(hU,h2(h3))})})}function hY(h0){return h0==null?hZ:(h0+="",function(){var h1=this.getAttributeNS(hU.space,hU.local),h2;return h1!==h0&&(h2=hV(h1,h0),function(h3){this.setAttributeNS(hU.space,hU.local,h2(h3))})})}return hv(this,"attr."+e,hX,hU.local?hY:hW)};ek.attrTween=function(e,hU){var d3=g5.ns.qualify(e);function hV(hZ,hX){var hY=hU.call(this,hZ,hX,this.getAttribute(d3));return hY&&function(h0){this.setAttribute(d3,hY(h0))}}function hW(hZ,hX){var hY=hU.call(this,hZ,hX,this.getAttributeNS(d3.space,d3.local));return hY&&function(h0){this.setAttributeNS(d3.space,d3.local,hY(h0))}}return this.tween("attr."+e,d3.local?hW:hV)};ek.style=function(hU,hW,hV){var hX=arguments.length;if(hX<3){if(typeof hU!=="string"){if(hX<2){hW=""}for(hV in hU){this.style(hV,hU[hV],hW)}return this}hV=""}function d3(){this.style.removeProperty(hU)}function e(hY){return hY==null?d3:(hY+="",function(){var hZ=fm.getComputedStyle(this,null).getPropertyValue(hU),h0;return hZ!==hY&&(h0=fq(hZ,hY),function(h1){this.style.setProperty(hU,h0(h1),hV)})})}return hv(this,"style."+hU,hW,e)};ek.styleTween=function(e,hU,d3){if(arguments.length<3){d3=""}function hV(hY,hW){var hX=hU.call(this,hY,hW,fm.getComputedStyle(this,null).getPropertyValue(e));return hX&&function(hZ){this.style.setProperty(e,hX(hZ),d3)}}return this.tween("style."+e,hV)};ek.text=function(e){return hv(this,"text",e,hT)};function hT(e){if(e==null){e=""}return function(){this.textContent=e}}ek.remove=function(){return this.each("end.transition",function(){var e;if(this.__transition__.count<2&&(e=this.parentNode)){e.removeChild(this)}})};ek.ease=function(e){var d3=this.id;if(arguments.length<1){return this.node().__transition__[d3].ease}if(typeof e!=="function"){e=g5.ease.apply(g5,arguments)}return cA(this,function(hU){hU.__transition__[d3].ease=e})};ek.delay=function(e){var d3=this.id;if(arguments.length<1){return this.node().__transition__[d3].delay}return cA(this,typeof e==="function"?function(hW,hV,hU){hW.__transition__[d3].delay=+e.call(hW,hW.__data__,hV,hU)}:(e=+e,function(hU){hU.__transition__[d3].delay=e}))};ek.duration=function(e){var d3=this.id;if(arguments.length<1){return this.node().__transition__[d3].duration}return cA(this,typeof e==="function"?function(hW,hV,hU){hW.__transition__[d3].duration=Math.max(1,e.call(hW,hW.__data__,hV,hU))}:(e=Math.max(1,e),function(hU){hU.__transition__[d3].duration=e}))};ek.each=function(d3,hU){var hW=this.id;if(arguments.length<2){var e=dT,hV=ao;ao=hW;cA(this,function(hZ,hY,hX){dT=hZ.__transition__[hW];d3.call(hZ,hZ.__data__,hY,hX)});dT=e;ao=hV}else{cA(this,function(hX){var hY=hX.__transition__[hW];(hY.event||(hY.event=g5.dispatch("start","end"))).on(d3,hU)})}return this};ek.transition=function(){var h2=this.id,h1=++gS,d3=[],h0,hZ,hV,hY;for(var hW=0,hU=this.length;hW<hU;hW++){d3.push(h0=[]);for(var hZ=this[hW],hX=0,e=hZ.length;hX<e;hX++){if(hV=hZ[hX]){hY=Object.create(hV.__transition__[h2]);hY.delay+=hY.duration;fp(hV,hX,h1,hY)}h0.push(hV)}}return gA(d3,h1)};function fp(hV,hU,hY,e){var d3=hV.__transition__||(hV.__transition__={active:0,count:0}),hX=d3[hY];if(!hX){var hW=e.time;hX=d3[hY]={tween:new aF(),time:hW,ease:e.ease,delay:e.delay,duration:e.duration};++d3.count;g5.timer(function(h8){var h5=hV.__data__,h1=hX.ease,h3=hX.delay,h2=hX.duration,hZ=da,h7=[];hZ.t=h3+hW;if(h3<=h8){return h0(h8-h3)}hZ.c=h0;function h0(h9){if(d3.active>hY){return h6()}d3.active=hY;hX.event&&hX.event.start.call(hV,h5,hU);hX.tween.forEach(function(ia,ib){if(ib=ib.call(hV,h5,hU)){h7.push(ib)}});g5.timer(function(){hZ.c=h4(h9||1)?ae:h4;return 1},0,hW)}function h4(h9){if(d3.active!==hY){return h6()}var ia=h9/h2,ib=h1(ia),ic=h7.length;while(ic>0){h7[--ic].call(hV,ib)}if(ia>=1){hX.event&&hX.event.end.call(hV,h5,hU);return h6()}}function h6(){if(--d3.count){delete d3[hY]}else{delete hV.__transition__}return 1}},0,hW)}}g5.svg.axis=function(){var hU=g5.scale.linear(),hW=hD,e=6,hX=6,h0=3,hZ=[10],hV=null,hY;function d3(h1){h1.each(function(){var ij=g5.select(this);var ig=this.__chart__||hU,ie=this.__chart__=hU.copy();var il=hV==null?ie.ticks?ie.ticks.apply(ie,hZ):ie.domain():hV,id=hY==null?ie.tickFormat?ie.tickFormat.apply(ie,hZ):f6:hY,ih=ij.selectAll(".tick").data(il,ie),ia=ih.enter().insert("g",".domain").attr("class","tick").style("opacity",f8),ic=g5.transition(ih.exit()).style("opacity",f8).remove(),h4=g5.transition(ih.order()).style("opacity",1),h2;var h9=aV(ie),ib=ij.selectAll(".domain").data([0]),im=(ib.enter().append("path").attr("class","domain"),g5.transition(ib));ia.append("line");ia.append("text");var h3=ia.select("line"),ik=h4.select("line"),h8=ih.select("text").text(id),h5=ia.select("text"),ii=h4.select("text");switch(hW){case"bottom":h2=fa;h3.attr("y2",e);h5.attr("y",Math.max(e,0)+h0);ik.attr("x2",0).attr("y2",e);ii.attr("x",0).attr("y",Math.max(e,0)+h0);h8.attr("dy",".71em").style("text-anchor","middle");im.attr("d","M"+h9[0]+","+hX+"V0H"+h9[1]+"V"+hX);break;case"top":h2=fa;h3.attr("y2",-e);h5.attr("y",-(Math.max(e,0)+h0));ik.attr("x2",0).attr("y2",-e);ii.attr("x",0).attr("y",-(Math.max(e,0)+h0));h8.attr("dy","0em").style("text-anchor","middle");im.attr("d","M"+h9[0]+","+-hX+"V0H"+h9[1]+"V"+-hX);break;case"left":h2=e9;h3.attr("x2",-e);h5.attr("x",-(Math.max(e,0)+h0));ik.attr("x2",-e).attr("y2",0);ii.attr("x",-(Math.max(e,0)+h0)).attr("y",0);h8.attr("dy",".32em").style("text-anchor","end");im.attr("d","M"+-hX+","+h9[0]+"H0V"+h9[1]+"H"+-hX);break;case"right":h2=e9;h3.attr("x2",e);h5.attr("x",Math.max(e,0)+h0);ik.attr("x2",e).attr("y2",0);ii.attr("x",Math.max(e,0)+h0).attr("y",0);h8.attr("dy",".32em").style("text-anchor","start");im.attr("d","M"+hX+","+h9[0]+"H0V"+h9[1]+"H"+hX);break}if(ie.rangeBand){var h6=ie,h7=h6.rangeBand()/2;ig=ie=function(io){return h6(io)+h7}}else{if(ig.rangeBand){ig=ie}else{ic.call(h2,ie)}}ia.call(h2,ig);h4.call(h2,ie)})}d3.scale=function(h1){if(!arguments.length){return hU}hU=h1;return d3};d3.orient=function(h1){if(!arguments.length){return hW}hW=h1 in eR?h1+"":hD;return d3};d3.ticks=function(){if(!arguments.length){return hZ}hZ=arguments;return d3};d3.tickValues=function(h1){if(!arguments.length){return hV}hV=h1;return d3};d3.tickFormat=function(h1){if(!arguments.length){return hY}hY=h1;return d3};d3.tickSize=function(h1){var h2=arguments.length;if(!h2){return e}e=+h1;hX=+arguments[h2-1];return d3};d3.innerTickSize=function(h1){if(!arguments.length){return e}e=+h1;return d3};d3.outerTickSize=function(h1){if(!arguments.length){return hX}hX=+h1;return d3};d3.tickPadding=function(h1){if(!arguments.length){return h0}h0=+h1;return d3};d3.tickSubdivide=function(){return arguments.length&&d3};return d3};var hD="bottom",eR={top:1,right:1,bottom:1,left:1};function fa(d3,e){d3.attr("transform",function(hU){return"translate("+e(hU)+",0)"})}function e9(e,d3){e.attr("transform",function(hU){return"translate(0,"+d3(hU)+")"})}g5.svg.brush=function(){var d3=gZ(h0,"brushstart","brush","brushend"),h3=null,h1=null,hU=[0,0],hZ=[0,0],h2,hW,e=true,hY=true,h4=ap[0];function h0(h7){h7.each(function(){var id=g5.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",h5).on("touchstart.brush",h5);var ic=id.selectAll(".background").data([0]);ic.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");id.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var ib=id.selectAll(".resize").data(h4,f6);ib.exit().remove();ib.enter().append("g").attr("class",function(ie){return"resize "+ie}).style("cursor",function(ie){return eK[ie]}).append("rect").attr("x",function(ie){return/[ew]$/.test(ie)?-3:null}).attr("y",function(ie){return/^[ns]/.test(ie)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");ib.style("display",h0.empty()?"none":null);var ia=g5.transition(id),h8=g5.transition(ic),h9;if(h3){h9=aV(h3);h8.attr("x",h9[0]).attr("width",h9[1]-h9[0]);hX(ia)}if(h1){h9=aV(h1);h8.attr("y",h9[0]).attr("height",h9[1]-h9[0]);hV(ia)}h6(ia)})}h0.event=function(h7){h7.each(function(){var h8=d3.of(this,arguments),h9={x:hU,y:hZ,i:h2,j:hW},ia=this.__chart__||h9;this.__chart__=h9;if(ao){g5.select(this).transition().each("start.brush",function(){h2=ia.i;hW=ia.j;hU=ia.x;hZ=ia.y;h8({type:"brushstart"})}).tween("brush:brush",function(){var ib=eD(hU,h9.x),ic=eD(hZ,h9.y);h2=hW=null;return function(id){hU=h9.x=ib(id);hZ=h9.y=ic(id);h8({type:"brush",mode:"resize"})}}).each("end.brush",function(){h2=h9.i;hW=h9.j;h8({type:"brush",mode:"resize"});h8({type:"brushend"})})}else{h8({type:"brushstart"});h8({type:"brush",mode:"resize"});h8({type:"brushend"})}})};function h6(h7){h7.selectAll(".resize").attr("transform",function(h8){return"translate("+hU[+/e$/.test(h8)]+","+hZ[+/^s/.test(h8)]+")"})}function hX(h7){h7.select(".extent").attr("x",hU[0]);h7.selectAll(".extent,.n>rect,.s>rect").attr("width",hU[1]-hU[0])}function hV(h7){h7.select(".extent").attr("y",hZ[0]);h7.selectAll(".extent,.e>rect,.w>rect").attr("height",hZ[1]-hZ[0])}function h5(){var it=this,h8=g5.select(g5.event.target),ig=d3.of(it,arguments),im=g5.select(it),ip=h8.datum(),ik=!/^(n|s)$/.test(ip)&&h3,ii=!/^(e|w)$/.test(ip)&&h1,ij=h8.classed("extent"),ia=bE(),iq,ir=g5.mouse(it),h9;var id=g5.select(fm).on("keydown.brush",ih).on("keyup.brush",ic);if(g5.event.changedTouches){id.on("touchmove.brush",ie).on("touchend.brush",h7)}else{id.on("mousemove.brush",ie).on("mouseup.brush",h7)}im.interrupt().selectAll("*").interrupt();if(ij){ir[0]=hU[0]-ir[0];ir[1]=hZ[0]-ir[1]}else{if(ip){var io=+/w$/.test(ip),il=+/^n/.test(ip);h9=[hU[1-io]-ir[0],hZ[1-il]-ir[1]];ir[0]=hU[io];ir[1]=hZ[il]}else{if(g5.event.altKey){iq=ir.slice()}}}im.style("pointer-events","none").selectAll(".resize").style("display",null);g5.select("body").style("cursor",h8.style("cursor"));ig({type:"brushstart"});ie();function ih(){if(g5.event.keyCode==32){if(!ij){iq=null;ir[0]-=hU[1];ir[1]-=hZ[1];ij=2}t()}}function ic(){if(g5.event.keyCode==32&&ij==2){ir[0]+=hU[1];ir[1]+=hZ[1];ij=0;t()}}function ie(){var iu=g5.mouse(it),iv=false;if(h9){iu[0]+=h9[0];iu[1]+=h9[1]}if(!ij){if(g5.event.altKey){if(!iq){iq=[(hU[0]+hU[1])/2,(hZ[0]+hZ[1])/2]}ir[0]=hU[+(iu[0]<iq[0])];ir[1]=hZ[+(iu[1]<iq[1])]}else{iq=null}}if(ik&&ib(iu,h3,0)){hX(im);iv=true}if(ii&&ib(iu,h1,1)){hV(im);iv=true}if(iv){h6(im);ig({type:"brush",mode:ij?"move":"resize"})}}function ib(iC,iw,iy){var iz=aV(iw),iv=iz[0],iu=iz[1],iA=ir[iy],iD=iy?hZ:hU,iE=iD[1]-iD[0],ix,iB;if(ij){iv-=iA;iu-=iE+iA}ix=(iy?hY:e)?Math.max(iv,Math.min(iu,iC[iy])):iC[iy];if(ij){iB=(ix+=iA)+iE}else{if(iq){iA=Math.max(iv,Math.min(iu,2*iq[iy]-ix))}if(iA<ix){iB=ix;ix=iA}else{iB=iA}}if(iD[0]!=ix||iD[1]!=iB){if(iy){hW=null}else{h2=null}iD[0]=ix;iD[1]=iB;return true}}function h7(){ie();im.style("pointer-events","all").selectAll(".resize").style("display",h0.empty()?"none":null);g5.select("body").style("cursor",null);id.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);ia();ig({type:"brushend"})}}h0.x=function(h7){if(!arguments.length){return h3}h3=h7;h4=ap[!h3<<1|!h1];return h0};h0.y=function(h7){if(!arguments.length){return h1}h1=h7;h4=ap[!h3<<1|!h1];return h0};h0.clamp=function(h7){if(!arguments.length){return h3&&h1?[e,hY]:h3?e:h1?hY:null}if(h3&&h1){e=!!h7[0],hY=!!h7[1]}else{if(h3){e=!!h7}else{if(h1){hY=!!h7}}}return h0};h0.extent=function(ic){var h9,h7,ib,ia,h8;if(!arguments.length){if(h3){if(h2){h9=h2[0],h7=h2[1]}else{h9=hU[0],h7=hU[1];if(h3.invert){h9=h3.invert(h9),h7=h3.invert(h7)}if(h7<h9){h8=h9,h9=h7,h7=h8}}}if(h1){if(hW){ib=hW[0],ia=hW[1]}else{ib=hZ[0],ia=hZ[1];if(h1.invert){ib=h1.invert(ib),ia=h1.invert(ia)}if(ia<ib){h8=ib,ib=ia,ia=h8}}}return h3&&h1?[[h9,ib],[h7,ia]]:h3?[h9,h7]:h1&&[ib,ia]}if(h3){h9=ic[0],h7=ic[1];if(h1){h9=h9[0],h7=h7[0]}h2=[h9,h7];if(h3.invert){h9=h3(h9),h7=h3(h7)}if(h7<h9){h8=h9,h9=h7,h7=h8}if(h9!=hU[0]||h7!=hU[1]){hU=[h9,h7]}}if(h1){ib=ic[0],ia=ic[1];if(h3){ib=ib[1],ia=ia[1]}hW=[ib,ia];if(h1.invert){ib=h1(ib),ia=h1(ia)}if(ia<ib){h8=ib,ib=ia,ia=h8}if(ib!=hZ[0]||ia!=hZ[1]){hZ=[ib,ia]}}return h0};h0.clear=function(){if(!h0.empty()){hU=[0,0],hZ=[0,0];h2=hW=null}return h0};h0.empty=function(){return !!h3&&hU[0]==hU[1]||!!h1&&hZ[0]==hZ[1]};return g5.rebind(h0,d3,"on")};var eK={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var ap=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var hS=fu.format=c8.timeFormat;var c6=hS.utc;var dF=c6("%Y-%m-%dT%H:%M:%S.%LZ");hS.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dl:dF;function dl(e){return e.toISOString()}dl.parse=function(d3){var e=new Date(d3);return isNaN(e)?null:e};dl.toString=dF.toString;fu.second=cS(function(e){return new g9(Math.floor(e/1000)*1000)},function(e,d3){e.setTime(e.getTime()+Math.floor(d3)*1000)},function(e){return e.getSeconds()});fu.seconds=fu.second.range;fu.seconds.utc=fu.second.utc.range;fu.minute=cS(function(e){return new g9(Math.floor(e/60000)*60000)},function(e,d3){e.setTime(e.getTime()+Math.floor(d3)*60000)},function(e){return e.getMinutes()});fu.minutes=fu.minute.range;fu.minutes.utc=fu.minute.utc.range;fu.hour=cS(function(e){var d3=e.getTimezoneOffset()/60;return new g9((Math.floor(e/3600000-d3)+d3)*3600000)},function(e,d3){e.setTime(e.getTime()+Math.floor(d3)*3600000)},function(e){return e.getHours()});fu.hours=fu.hour.range;fu.hours.utc=fu.hour.utc.range;fu.month=cS(function(e){e=fu.day(e);e.setDate(1);return e},function(e,d3){e.setMonth(e.getMonth()+d3)},function(e){return e.getMonth()});fu.months=fu.month.range;fu.months.utc=fu.month.utc.range;function bk(e,d3,hU){function hV(hX){return e(hX)}hV.invert=function(hX){return fL(e.invert(hX))};hV.domain=function(hX){if(!arguments.length){return e.domain().map(fL)}e.domain(hX);return hV};function hW(hZ,h0){var hY=hZ[1]-hZ[0],h1=hY/h0,hX=g5.bisect(eZ,h1);return hX==eZ.length?[d3.year,n(hZ.map(function(h2){return h2/31536000000}),h0)[2]]:!hX?[cr,n(hZ,h0)[2]]:d3[h1/eZ[hX-1]<eZ[hX]/h1?hX-1:hX]}hV.nice=function(hY,h0){var h1=hV.domain(),hZ=eg(h1),h2=hY==null?hW(hZ,10):typeof hY==="number"&&hW(hZ,hY);if(h2){hY=h2[0],h0=h2[1]}function hX(h3){return !isNaN(h3)&&!hY.range(h3,fL(+h3+1),h0).length}return hV.domain(f3(h1,h0>1?{floor:function(h3){while(hX(h3=hY.floor(h3))){h3=fL(h3-1)}return h3},ceil:function(h3){while(hX(h3=hY.ceil(h3))){h3=fL(+h3+1)}return h3}}:hY))};hV.ticks=function(hX,hZ){var hY=eg(hV.domain()),h0=hX==null?hW(hY,10):typeof hX==="number"?hW(hY,hX):!hX.range&&[{range:hX},hZ];if(h0){hX=h0[0],hZ=h0[1]}return hX.range(hY[0],fL(+hY[1]+1),hZ<1?1:hZ)};hV.tickFormat=function(){return hU};hV.copy=function(){return bk(e.copy(),d3,hU)};return fV(hV,e)}function fL(e){return new Date(e)}var eZ=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var cv=[[fu.second,1],[fu.second,5],[fu.second,15],[fu.second,30],[fu.minute,1],[fu.minute,5],[fu.minute,15],[fu.minute,30],[fu.hour,1],[fu.hour,3],[fu.hour,6],[fu.hour,12],[fu.day,1],[fu.day,2],[fu.week,1],[fu.month,1],[fu.month,3],[fu.year,1]];var P=hS.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&e.getDate()!=1}],["%b %d",function(e){return e.getDate()!=1}],["%B",function(e){return e.getMonth()}],["%Y",ae]]);var cr={range:function(hU,e,d3){return g5.range(Math.ceil(hU/d3)*d3,+e,d3).map(fL)},floor:f6,ceil:f6};cv.year=fu.year;fu.scale=function(){return bk(g5.scale.linear(),cv,P)};var fO=cv.map(function(e){return[e[0].utc,e[1]]});var ff=c6.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],["%b %d",function(e){return e.getUTCDate()!=1}],["%B",function(e){return e.getUTCMonth()}],["%Y",ae]]);fO.year=fu.year.utc;fu.scale.utc=function(){return bk(g5.scale.linear(),fO,ff)};g5.text=U(function(e){return e.responseText});g5.json=function(e,d3){return hG(e,"application/json",dB,d3)};function dB(e){return JSON.parse(e.responseText)}g5.html=function(e,d3){return hG(e,"text/html",hR,d3)};function hR(d3){var e=bG.createRange();e.selectNode(bG.body);return e.createContextualFragment(d3.responseText)}g5.xml=U(function(e){return e.responseXML});if(typeof define==="function"&&define.amd){define(g5)}else{if(typeof module==="object"&&module.exports){module.exports=g5}}this.d3=g5}();(function(a){a.widget("suwala.doubleScroll",{options:{contentElement:undefined,topScrollBarMarkup:'<div class="suwala-doubleScroll-scroll-wrapper" style="height: 20px;"><div class="suwala-doubleScroll-scroll" style="height: 20px;"></div></div>',topScrollBarInnerSelector:".suwala-doubleScroll-scroll",scrollCss:{"overflow-x":"scroll","overflow-y":"hidden"},contentCss:{"overflow-x":"scroll","overflow-y":"hidden"}},_create:function(){var b=this;var d;var c=a(a(b.options.topScrollBarMarkup));b.element.before(c);if(b.options.contentElement!==undefined&&b.element.find(b.options.contentElement).length!==0){d=b.element.find(b.options.contentElement)}else{d=b.element.find(">:first-child")}c.scroll(function(){b.element.scrollLeft(c.scrollLeft())});b.element.scroll(function(){c.scrollLeft(b.element.scrollLeft())});c.css(b.options.scrollCss);b.element.css(b.options.contentCss);a(b.options.topScrollBarInnerSelector,c).width(d[0].scrollWidth);c.width(b.element[0].clientWidth)},refresh:function(){var b=this;var d;var c=b.element.parent().find(".suwala-doubleScroll-scroll-wrapper");if(b.options.contentElement!==undefined&&b.element.find(b.options.contentElement).length!==0){d=b.element.find(b.options.contentElement)}else{d=b.element.find(">:first-child")}a(b.options.topScrollBarInnerSelector,c).width(d[0].scrollWidth);c.width(b.element[0].clientWidth)}})})(jQuery);
/*!
 * jQuery pagination plugin v1.2.1
 * http://esimakin.github.io/twbs-pagination/
 *
 * Copyright 2014, Eugene Simakin
 * Released under Apache 2.0 license
 * http://apache.org/licenses/LICENSE-2.0.html
 */
;(function(e,d,a,f){var b=e.fn.twbsPagination;var c=function(i,g){this.$element=e(i);this.options=e.extend({},e.fn.twbsPagination.defaults,g);if(this.options.startPage<1||this.options.startPage>this.options.totalPages){throw new Error("Start page option is incorrect")}this.options.totalPages=parseInt(this.options.totalPages);if(isNaN(this.options.totalPages)){throw new Error("Total pages option is not correct!")}this.options.visiblePages=parseInt(this.options.visiblePages);if(isNaN(this.options.visiblePages)){throw new Error("Visible pages option is not correct!")}if(this.options.totalPages<this.options.visiblePages){this.options.visiblePages=this.options.totalPages}if(this.options.onPageClick instanceof Function){this.$element.first().bind("page",this.options.onPageClick)}var h=(typeof this.$element.prop==="function")?this.$element.prop("tagName"):this.$element.attr("tagName");if(h==="UL"){this.$listContainer=this.$element}else{this.$listContainer=e("<ul></ul>")}this.$listContainer.addClass(this.options.paginationClass);if(h!=="UL"){this.$element.append(this.$listContainer)}this.render(this.getPages(this.options.startPage));this.setupEvents();return this};c.prototype={constructor:c,destroy:function(){this.$element.empty();this.$element.removeData("twbs-pagination");this.$element.unbind("page");return this},show:function(g){if(g<1||g>this.options.totalPages){throw new Error("Page is incorrect.")}this.render(this.getPages(g));this.setupEvents();this.$element.trigger("page",g);return this},buildListItems:function(g){var j=e();if(this.options.first){j=j.add(this.buildItem("first",1,this.options.firstClass))}if(this.options.prev){var l=g.currentPage>1?g.currentPage-1:1;j=j.add(this.buildItem("prev",l,this.options.prevClass))}for(var h=0;h<g.numeric.length;h++){j=j.add(this.buildItem("page",g.numeric[h],this.options.pageClass))}if(this.options.next){var k=g.currentPage>=this.options.totalPages?this.options.totalPages:g.currentPage+1;j=j.add(this.buildItem("next",k,this.options.nextClass))}if(this.options.last){j=j.add(this.buildItem("last",this.options.totalPages,this.options.lastClass))}return j},buildItem:function(j,k,i){var h=e("<li></li>"),l=e("<a></a>"),g=null;h.addClass(i);h.data("page",k);switch(j){case"page":g=k;break;case"first":g=this.options.first;break;case"prev":g=this.options.prev;break;case"next":g=this.options.next;break;case"last":g=this.options.last;break;default:break}h.append(l.attr("href",this.href(k)).html(g));return h},getPages:function(j){var g=[];var k=Math.floor(this.options.visiblePages/2);var l=j-k+1-this.options.visiblePages%2;var h=j+k;if(l<=0){l=1;h=this.options.visiblePages}if(h>this.options.totalPages){l=this.options.totalPages-this.options.visiblePages+1;h=this.options.totalPages}var i=l;while(i<=h){g.push(i);i++}return{currentPage:j,numeric:g}},render:function(g){this.$listContainer.children().remove();this.$listContainer.append(this.buildListItems(g));this.$listContainer.find("."+this.options.pageClass).removeClass(this.options.activeClass).filter(function(){return e(this).data("page")===g.currentPage}).addClass(this.options.activeClass);if(g.currentPage===1){this.$listContainer.find("."+this.options.prevClass+" a,."+this.options.firstClass+" a")}if(g.currentPage===this.options.totalPages){this.$listContainer.find("."+this.options.nextClass+" a,."+this.options.lastClass+" a")}this.$listContainer.find("."+this.options.firstClass).toggleClass(this.options.disabledClass,g.currentPage===1);this.$listContainer.find("."+this.options.lastClass).toggleClass(this.options.disabledClass,g.currentPage===this.options.totalPages);this.$listContainer.find("."+this.options.prevClass).toggleClass(this.options.disabledClass,g.currentPage===1);this.$listContainer.find("."+this.options.nextClass).toggleClass(this.options.disabledClass,g.currentPage===this.options.totalPages)},setupEvents:function(){var g=this;this.$listContainer.find("li").each(function(){var h=e(this);h.off();if(h.hasClass(g.options.disabledClass)||h.hasClass(g.options.activeClass)){return}h.click(function(i){i.preventDefault();g.show(parseInt(h.data("page"),10))})})},href:function(g){return this.options.href.replace(this.options.hrefVariable,g)}};e.fn.twbsPagination=function(i){var h=Array.prototype.slice.call(arguments,1);var k;var l=e(this);var j=l.data("twbs-pagination");var g=typeof i==="object"&&i;if(!j){l.data("twbs-pagination",(j=new c(this,g)))}if(typeof i==="string"){k=j[i].apply(j,h)}return(k===f)?l:k};e.fn.twbsPagination.defaults={totalPages:0,startPage:1,visiblePages:5,href:"#",hrefVariable:"{{number}}",first:"First",prev:"Previous",next:"Next",last:"Last",onPageClick:null,paginationClass:"pagination",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first",pageClass:"page",activeClass:"active",disabledClass:"disabled"};e.fn.twbsPagination.Constructor=c;e.fn.twbsPagination.noConflict=function(){e.fn.twbsPagination=b;return this}})(jQuery,window,document);